:root{--bg-0: #0a0c12;--bg-1: #141823;--bg-secondary: #1a1f2e;--bg-tertiary: #232936;--panel: rgba(20, 24, 33, .9);--panel-strong: rgba(28, 34, 47, .98);--line: rgba(255, 255, 255, .12);--accent: #f1c36a;--accent-strong: #f6d08a;--accent-cool: #58c1d8;--danger: #e06c75;--success: #62c189;--warning: #e5c07b;--text-primary: #e7eaf0;--text-secondary: #a7b0bf;--text-dim: #7d8694;--shadow-sm: 0 2px 4px rgba(0, 0, 0, .1), 0 1px 2px rgba(0, 0, 0, .06);--shadow-md: 0 4px 8px rgba(0, 0, 0, .15), 0 2px 4px rgba(0, 0, 0, .08);--shadow-lg: 0 8px 16px rgba(0, 0, 0, .2), 0 4px 8px rgba(0, 0, 0, .1);--shadow-xl: 0 16px 32px rgba(0, 0, 0, .25), 0 8px 16px rgba(0, 0, 0, .12);--shadow-2xl: 0 24px 48px rgba(0, 0, 0, .3), 0 12px 24px rgba(0, 0, 0, .15);--glow-accent: 0 0 20px rgba(241, 195, 106, .3);--glow-accent-strong: 0 0 30px rgba(241, 195, 106, .5);--glow-success: 0 0 20px rgba(98, 193, 137, .3);--glow-danger: 0 0 20px rgba(224, 108, 117, .3);--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 20px;--radius-2xl: 24px;--radius-full: 9999px;--space-1: 4px;--space-2: 8px;--space-3: 12px;--space-4: 16px;--space-5: 20px;--space-6: 24px;--space-8: 32px;--space-10: 40px;--space-12: 48px;--text-xs: .75rem;--text-sm: .875rem;--text-base: 1rem;--text-lg: 1.125rem;--text-xl: 1.25rem;--text-2xl: 1.5rem;--text-3xl: 2rem;--text-4xl: 2.5rem;--duration-instant: .1s;--duration-fast: .2s;--duration-normal: .3s;--duration-slow: .5s;--duration-dramatic: 1s;--transition-fast: .15s;--transition-normal: .25s;--transition-slow: .4s;--transition-ease: cubic-bezier(.4, 0, .2, 1);--transition-bounce: cubic-bezier(.68, -.55, .265, 1.55)}*{scroll-behavior:smooth}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#0003;border-radius:4px}::-webkit-scrollbar-thumb{background:#f1c36a4d;border-radius:4px;transition:background .25s ease}::-webkit-scrollbar-thumb:hover{background:#f1c36a80}button:focus-visible,input:focus-visible,[tabindex]:focus-visible{outline:2px solid var(--accent);outline-offset:2px}button,.clickable{cursor:pointer;transition:all var(--duration-fast) var(--transition-ease);-webkit-user-select:none;user-select:none}button:not(:disabled):hover,.clickable:hover{transform:translateY(-2px)}button:not(:disabled):active,.clickable:active{transform:translateY(0)}button:disabled{cursor:not-allowed;opacity:.5;filter:grayscale(.3)}.card,.character-card,.ability-card,.achievement-card,.stat-card,.mission-card{transition:all var(--duration-fast) var(--transition-ease)}.card:hover,.character-card:hover,.ability-card:hover:not(.disabled),.achievement-card:hover,.stat-card:hover,.mission-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}.skeleton{background:linear-gradient(90deg,var(--bg-tertiary) 25%,var(--bg-secondary) 50%,var(--bg-tertiary) 75%);background-size:200% 100%;animation:skeleton-loading 1.5s ease-in-out infinite;border-radius:var(--radius-md)}.skeleton-text{height:1em;margin-bottom:.5em;border-radius:var(--radius-sm)}.skeleton-text:last-child{margin-bottom:0;width:80%}.skeleton-circle{border-radius:50%}.skeleton-button{height:44px;border-radius:var(--radius-md)}@keyframes skeleton-loading{0%{background-position:200% 0}to{background-position:-200% 0}}.ripple{position:absolute;border-radius:50%;background:#fff9;transform:scale(0);animation:ripple-animation .6s ease-out;pointer-events:none}@keyframes ripple-animation{to{transform:scale(4);opacity:0}}@media(prefers-reduced-motion:reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}html,body,#root{height:100%}body{font-family:Avenir Next,Trebuchet MS,Segoe UI,sans-serif;background:var(--bg-0);min-height:100vh;color:#e7eaf0;overflow:auto}.battle-screen{min-height:0;height:100%;position:relative;display:grid;grid-template-rows:auto auto 1fr;flex:1;overflow:visible}.battle-screen.targeting-active .enemy-side .character-row{opacity:.55;filter:grayscale(.2)}.battle-screen.targeting-active .enemy-side .character-row.targetable{opacity:1;filter:none;border-color:#e06c75f2;box-shadow:0 0 22px #e06c7573;cursor:crosshair}.battle-screen.targeting-active .enemy-side .character-row.targetable:hover{transform:translateY(-2px) scale(1.01);box-shadow:0 0 28px #e06c7599}.battle-screen.screen-shake{animation:screen-shake .2s ease}@keyframes screen-shake{0%{transform:translate(0)}25%{transform:translate(-2px,2px)}50%{transform:translate(2px,-2px)}75%{transform:translate(-1px,1px)}to{transform:translate(0)}}.battle-background{position:absolute;inset:0;background:radial-gradient(circle at 15% 20%,rgba(88,193,216,.12),transparent 45%),radial-gradient(circle at 80% 70%,rgba(241,195,106,.12),transparent 45%),linear-gradient(145deg,#141823,#0a0c12 60%,#090b10);z-index:0}.battle-background:before{content:"";position:absolute;inset:0;background:linear-gradient(120deg,rgba(255,255,255,.05) 0%,transparent 25%),linear-gradient(300deg,rgba(255,255,255,.04) 0%,transparent 30%)}.battle-header{position:relative;z-index:10;display:flex;justify-content:center;align-items:center;padding:8px 16px;background:#080a0ed9;border-bottom:1px solid var(--line);flex-wrap:wrap;gap:15px;min-height:64px}.battle-header-side{display:flex;align-items:center;min-width:180px;flex:1}.battle-header-side.right{justify-content:flex-end}.team-indicator{display:flex;flex-direction:column;gap:6px;font-size:.7rem;color:var(--text-dim);text-transform:uppercase;letter-spacing:.2em}.team-indicator-meta{display:flex;align-items:center;gap:10px;letter-spacing:0;text-transform:none}.team-indicator.enemy .team-indicator-meta{flex-direction:row-reverse}.turn-banner{position:absolute;top:70px;left:50%;transform:translate(-50%);z-index:12;background:#0c0e14eb;border:1px solid rgba(241,195,106,.7);box-shadow:0 12px 30px #00000073;padding:8px 20px;border-radius:999px;font-size:.8rem;letter-spacing:.3em;text-transform:uppercase;color:var(--accent-strong);animation:banner-slide .35s ease}@keyframes banner-slide{0%{opacity:0;transform:translate(-50%,-8px)}to{opacity:1;transform:translate(-50%)}}.turn-display{display:flex;align-items:center;gap:8px;background:#f1c36a26;padding:6px 18px;border-radius:20px;border:1px solid rgba(241,195,106,.6)}.turn-label{font-size:.75rem;color:var(--accent);font-weight:700;letter-spacing:2px}.turn-number{font-size:1.3rem;font-weight:700;color:#fff}.actions-display{display:flex;align-items:center;gap:8px;background:#58c1d826;padding:6px 18px;border-radius:20px;border:1px solid rgba(88,193,216,.6)}.actions-label{font-size:.75rem;color:var(--accent-cool);font-weight:700;letter-spacing:1px}.actions-number{font-size:1.3rem;font-weight:700;color:#fff}.targeting-prompt{position:absolute;top:-8px;left:50%;transform:translate(-50%,-100%);z-index:6;display:flex;align-items:center;gap:12px;background:#e06c752e;padding:8px 20px;border-radius:20px;border:1px solid rgba(224,108,117,.6);animation:pulse-prompt 1s ease-in-out infinite;box-shadow:0 12px 24px #00000059;max-width:min(90vw,520px);text-align:center}@keyframes pulse-prompt{0%,to{border-color:#e06c7599;box-shadow:0 0 10px #e06c7540}50%{border-color:#e06c75e6;box-shadow:0 0 18px #e06c7559}}.targeting-prompt span{font-size:.85rem;font-weight:700}.cancel-btn{background:#e06c75e6;color:#fff;border:none;padding:5px 15px;border-radius:15px;cursor:pointer;font-size:.75rem;font-weight:700;transition:all .2s ease}.cancel-btn:hover{background:#c55a62;transform:scale(1.05)}.end-turn-btn{background:linear-gradient(135deg,#62c189,#3f9d73);color:#fff;border:1px solid rgba(98,193,137,.4);padding:7px 16px;border-radius:18px;cursor:pointer;font-size:.8rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;transition:all .2s ease}.end-turn-btn:hover{transform:translateY(-1px);box-shadow:0 6px 14px #62c18959}.queue-tray{position:relative;z-index:10;display:flex;align-items:center;gap:12px;padding:8px 20px;border-bottom:1px solid var(--line);background:#080a0eb3;flex-wrap:wrap;min-height:48px}.queue-title{font-size:.7rem;text-transform:uppercase;letter-spacing:.2em;color:var(--text-dim)}.queue-items{display:flex;flex-wrap:wrap;gap:8px;flex:1;min-width:200px}.queue-empty{color:var(--text-dim);font-size:.75rem}.queue-chip{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#ffffff0f;border:1px solid rgba(255,255,255,.14);font-size:.75rem;color:#e7eaf0;max-width:100%}.queue-order{display:inline-flex;align-items:center;justify-content:center;width:18px;height:18px;border-radius:999px;background:#f1c36a33;border:1px solid rgba(241,195,106,.45);color:var(--accent-strong);font-size:.65rem;font-weight:700}.queue-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:220px}.queue-remove{background:transparent;border:none;color:var(--danger);cursor:pointer;font-size:.75rem}.auth-screen{min-height:100vh;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at top,#141823,#0a0c12 60%);padding:20px;position:relative;overflow:hidden}.auth-screen:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle at center,rgba(241,195,106,.03) 0%,transparent 50%);animation:auth-glow 20s ease-in-out infinite;pointer-events:none}@keyframes auth-glow{0%,to{transform:translate(0)}50%{transform:translate(10%,10%)}}.auth-panel{width:min(460px,100%);background:var(--panel);border:1px solid var(--line);border-radius:24px;padding:40px 36px;text-align:center;box-shadow:0 24px 48px #00000080;position:relative;z-index:1;animation:auth-panel-enter .4s ease}@keyframes auth-panel-enter{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.auth-logo{font-size:4rem;margin-bottom:16px;filter:drop-shadow(0 4px 12px rgba(241,195,106,.3));animation:logo-float 3s ease-in-out infinite}@keyframes logo-float{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}.auth-panel h1{font-size:2rem;color:var(--accent-strong);letter-spacing:3px;margin-bottom:12px;font-weight:800;text-shadow:0 2px 12px rgba(241,195,106,.2)}.auth-subtitle{color:var(--text-dim);font-size:.95rem;margin-bottom:32px;line-height:1.6}.auth-label{display:flex;flex-direction:column;gap:10px;font-size:.85rem;color:var(--text-dim);margin-bottom:20px;text-align:left}.auth-label-text{font-weight:600;font-size:.8rem;text-transform:uppercase;letter-spacing:.5px}.auth-input{background:#00000073;color:#e7eaf0;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:14px 16px;font-size:.95rem;transition:all .25s ease}.auth-input:focus{outline:none;border-color:#f1c36a99;box-shadow:0 0 0 3px #f1c36a1a;background:#0000008c}.auth-input::placeholder{color:#a7b0bf80}.auth-actions{display:flex;gap:12px;margin-top:24px}.auth-btn{flex:1;border-radius:14px;padding:14px 16px;font-weight:700;font-size:.9rem;border:1px solid rgba(255,255,255,.12);cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.auth-btn:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff1a;transform:translate(-50%,-50%);transition:width .6s,height .6s}.auth-btn:hover:before{width:300px;height:300px}.auth-btn span{position:relative;z-index:1}.auth-btn.primary{background:linear-gradient(135deg,#f1c36a,#dba34f);color:#0f1218;border-color:transparent;box-shadow:0 4px 12px #f1c36a4d}.auth-btn.secondary{background:#00000059;color:#e7eaf0}.auth-btn:hover{transform:translateY(-2px)}.auth-btn.primary:hover{box-shadow:0 8px 20px #f1c36a66}.auth-btn:active{transform:translateY(0)}.auth-error{color:var(--danger);font-size:.85rem;margin-bottom:8px;padding:12px;background:#e06c751a;border:1px solid rgba(224,108,117,.3);border-radius:10px;text-align:left}.auth-loading{margin-top:24px;height:4px;background:#ffffff1a;border-radius:999px;overflow:hidden}.auth-loading-bar{height:100%;width:60%;background:linear-gradient(90deg,var(--accent-cool),var(--accent));border-radius:999px;animation:loading-slide 1.5s ease-in-out infinite}@keyframes loading-slide{0%{transform:translate(-100%)}50%{transform:translate(150%)}to{transform:translate(-100%)}}.auth-wrapper{min-height:100vh;display:flex;flex-direction:column;overflow:visible}.auth-content{flex:1;min-height:0;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden}.auth-bar{position:sticky;top:0;z-index:20;display:flex;justify-content:space-between;align-items:center;gap:20px;padding:12px 24px;background:#080a0ef2;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-bottom:1px solid var(--line);flex-wrap:wrap;box-shadow:0 4px 12px #0003}.auth-bar.compact,.auth-bar.compact .auth-user-card,.auth-bar.compact .auth-center{display:none}.auth-user-card{display:flex;align-items:center;gap:14px;background:#ffffff0d;border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:8px 14px;color:inherit;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1)}.auth-user-card:disabled{cursor:default;opacity:.7}.auth-user-card:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #0006;background:#ffffff14;border-color:#f1c36a4d}.auth-avatar{width:48px;height:48px;border-radius:14px;overflow:hidden;background:linear-gradient(135deg,#f1c36a33,#58c1d833);border:2px solid rgba(255,255,255,.15);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.1rem;color:var(--accent-strong)}.auth-avatar img{width:100%;height:100%;object-fit:cover}.auth-user-meta{display:flex;flex-direction:column;gap:3px;font-size:.8rem}.auth-user-name{font-weight:700;font-size:.95rem;color:#f6d08a}.auth-user-level{color:var(--text-dim)}.auth-center{display:flex;flex-direction:column;align-items:center;gap:10px;flex:1;min-width:220px}.auth-title{font-size:1.1rem;letter-spacing:.5em;text-transform:uppercase;color:var(--accent-strong);font-weight:800;text-shadow:0 2px 8px rgba(241,195,106,.2)}.auth-nav{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.auth-nav-btn{background:#ffffff0f;border:1px solid rgba(255,255,255,.15);color:#e7eaf0;padding:8px 16px;border-radius:12px;font-size:.75rem;font-weight:600;letter-spacing:.5px;text-transform:uppercase;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.auth-nav-btn:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#f1c36a1a,#58c1d81a);opacity:0;transition:opacity .25s ease}.auth-nav-btn:hover:not(:disabled):before{opacity:1}.auth-nav-btn:hover:not(:disabled){transform:translateY(-2px);border-color:#ffffff40;box-shadow:0 4px 12px #0000004d}.auth-nav-btn.active{background:linear-gradient(135deg,#f1c36a26,#58c1d826);border-color:#f1c36a80;color:var(--accent-strong);box-shadow:0 0 20px #f1c36a33}.auth-nav-btn:disabled{opacity:.4;cursor:not-allowed}.auth-actions{display:flex;align-items:center;gap:10px}.auth-currency{display:flex;gap:8px;font-size:.8rem;color:var(--text-dim)}.auth-currency span{background:#ffffff14;border:1px solid rgba(255,255,255,.12);border-radius:999px;padding:4px 10px}.auth-link{background:transparent;border:1px solid rgba(255,255,255,.2);color:#e7eaf0;padding:8px 14px;border-radius:12px;cursor:pointer;font-size:.8rem;font-weight:600;transition:all .25s ease}.auth-link:hover{background:#e06c751a;border-color:#e06c7566;color:var(--danger);transform:translateY(-1px)}.level-toast{position:fixed;top:70px;left:50%;transform:translate(-50%);background:#0a0c10f2;border:1px solid rgba(241,195,106,.6);color:#f6d08a;padding:10px 18px;border-radius:14px;font-size:.85rem;letter-spacing:.02em;z-index:40;box-shadow:0 12px 30px #00000080;animation:toast-pop .3s ease}@keyframes toast-pop{0%{transform:translate(-50%,-6px);opacity:0}to{transform:translate(-50%);opacity:1}}.profile-page,.meta-page{min-height:0;flex:1;padding:24px;background:radial-gradient(circle at top,#141823,#0a0c12 60%);color:#e7eaf0;display:flex;flex-direction:column;overflow:hidden;animation:panel-fade .25s ease}@keyframes panel-fade{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.meta-header{max-width:1100px;margin:0 auto 18px;display:flex;align-items:center;gap:12px}.meta-header h1{font-size:2rem;color:var(--accent-strong)}.meta-currency{margin-left:auto;display:flex;gap:12px;color:var(--text-dim);font-size:.85rem}.meta-grid{max-width:1100px;margin:0 auto;display:grid;gap:20px;flex:1;min-height:0;overflow:auto;padding-bottom:12px}.mission-list{display:grid;gap:12px}.mission-list>div{display:flex;flex-direction:column;gap:8px}.mission-card{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:18px 20px;display:grid;grid-template-columns:1.6fr .8fr;gap:16px;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.mission-card:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(88,193,216,.05),transparent);opacity:0;transition:opacity .25s ease}.mission-card:hover:before{opacity:1}.mission-card:hover{transform:translateY(-4px);box-shadow:0 16px 32px #0006;border-color:#58c1d84d}.mission-card h4{margin-bottom:6px;color:#fff}.mission-card p{color:var(--text-dim);font-size:.8rem;margin-bottom:10px}.mission-progress{display:flex;align-items:center;gap:10px;font-size:.75rem;color:var(--text-dim)}.mission-progress-bar{flex:1;height:6px;background:#ffffff1f;border-radius:999px;overflow:hidden}.mission-progress-fill{height:100%;background:linear-gradient(90deg,#58c1d8e6,#62c189e6)}.mission-reward{display:flex;flex-direction:column;gap:6px;font-size:.75rem;color:var(--text-dim)}.mission-claim{margin-top:8px;background:linear-gradient(135deg,#f1c36a,#dba34f);color:#0f1218;border:none;padding:10px 16px;border-radius:12px;cursor:pointer;font-weight:700;font-size:.85rem;transition:all .25s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #f1c36a4d;position:relative;overflow:hidden}.mission-claim:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#fff3;transform:translate(-50%,-50%);transition:width .6s,height .6s}.mission-claim:hover:not(:disabled):before{width:300px;height:300px}.mission-claim:disabled{opacity:.4;cursor:not-allowed;filter:grayscale(.5)}.mission-claim:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #f1c36a66}.mission-claim:active:not(:disabled){transform:translateY(0)}.shop-grid{display:grid;gap:12px}.shop-empty{color:var(--text-dim);font-size:.9rem;padding:16px;background:#ffffff0a;border:1px solid rgba(255,255,255,.08);border-radius:14px}.shop-card{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:18px 20px;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.shop-card:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(241,195,106,.05),transparent);opacity:0;transition:opacity .25s ease}.shop-card:hover:before{opacity:1}.shop-card:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 16px 32px #0006;border-color:#f1c36a4d}.shop-card h4{color:#fff;margin-bottom:6px}.shop-card p{color:var(--text-dim);font-size:.8rem;margin-bottom:10px}.shop-cost{display:flex;gap:10px;font-size:.75rem;color:var(--text-dim);margin-bottom:10px}.gacha-banner{background:var(--panel);border:1px solid var(--line);border-radius:20px;padding:24px;box-shadow:0 12px 32px #0006;transition:all .3s ease}.gacha-banner:hover{transform:translateY(-2px);box-shadow:0 16px 40px #00000080}.gacha-result{margin-top:12px;display:flex;flex-direction:column;gap:4px;color:var(--text-dim);font-size:.8rem}.gacha-empty{margin-top:10px;font-size:.8rem;color:var(--text-dim)}.gacha-items{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:16px}.gacha-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px;margin-top:12px}.gacha-card{background:#ffffff0d;border:1px solid rgba(255,255,255,.15);border-radius:14px;padding:14px 16px;color:var(--text-dim);font-size:.8rem;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.gacha-card em{font-style:normal;font-size:.7rem;color:var(--text-dim);opacity:.8}.gacha-card:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(246,208,138,.1),transparent);opacity:0;transition:opacity .25s ease}.gacha-card:hover:before{opacity:1}.gacha-card:hover{transform:translateY(-4px) scale(1.05);box-shadow:0 12px 28px #0006;border-color:#f6d08a66}.profile-header{max-width:1100px;margin:0 auto 18px;display:flex;align-items:center;gap:12px}.profile-header h1{font-size:2rem;color:var(--accent-strong)}.profile-back{background:#ffffff14;border:1px solid rgba(255,255,255,.15);color:#e7eaf0;padding:8px 12px;border-radius:12px;cursor:pointer;transition:transform .15s ease,box-shadow .2s ease}.profile-back:hover{transform:translateY(-1px);box-shadow:0 6px 14px #0000004d}.profile-back:active{transform:translateY(0)}.profile-grid{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1.2fr 1fr;gap:20px;min-height:0;overflow:auto;padding-bottom:12px}.profile-card{background:var(--panel);border:1px solid var(--line);border-radius:20px;padding:24px;box-shadow:0 16px 40px #0006;transition:all .3s ease}.profile-card:hover{transform:translateY(-2px);box-shadow:0 20px 48px #00000080}.profile-card.primary{grid-column:span 2}.profile-hero{display:flex;align-items:center;gap:20px;margin-bottom:20px}.profile-avatar{width:88px;height:88px;border-radius:22px;background:linear-gradient(135deg,#f1c36ae6,#58c1d8cc);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1.8rem;color:#0f1218;overflow:hidden;box-shadow:0 8px 24px #f1c36a4d;border:3px solid rgba(255,255,255,.1);transition:all .3s ease}.profile-avatar:hover{transform:scale(1.05);box-shadow:0 12px 32px #f1c36a66}.profile-avatar img{width:100%;height:100%;object-fit:cover}.profile-subtitle{color:var(--text-dim);font-size:.9rem}.profile-avatar-actions{margin-top:8px;display:flex;flex-direction:column;gap:6px}.profile-avatar-btn{background:#00000059;color:#e7eaf0;border:1px solid rgba(255,255,255,.2);padding:6px 10px;border-radius:10px;cursor:pointer;font-size:.75rem}.profile-avatar-btn:disabled{opacity:.6;cursor:not-allowed}.profile-upload-error{color:var(--danger);font-size:.75rem}.profile-avatar-input{display:none}.profile-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px}.profile-stats span{color:var(--text-dim);font-size:.75rem;text-transform:uppercase;letter-spacing:.04em}.profile-stats strong{display:block;margin-top:6px;font-size:1rem}.profile-xp{margin-top:14px}.profile-xp-text{font-size:.8rem;color:var(--text-dim);margin-bottom:6px}.profile-xp-bar{height:8px;background:#ffffff1f;border-radius:999px;overflow:hidden}.profile-xp-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6)}.profile-title-grid{display:flex;flex-wrap:wrap;gap:8px}.profile-title-pill{background:#ffffff0f;border:1px solid rgba(255,255,255,.15);color:#e7eaf0;padding:6px 12px;border-radius:999px;font-size:.75rem;text-transform:capitalize;cursor:pointer;transition:border-color .2s ease,color .2s ease}.profile-title-pill.active{border-color:#f1c36acc;color:#f2d28a}.match-list{display:flex;flex-direction:column;gap:10px;margin-top:10px}.match-row{background:#ffffff0a;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:12px 16px;display:grid;grid-template-columns:80px 1fr 1fr;gap:12px;align-items:center;font-size:.8rem;transition:all .25s ease}.match-row:hover{background:#ffffff0f;transform:translate(4px)}.match-row.win{border-color:#62c18980;background:linear-gradient(90deg,rgba(98,193,137,.08),transparent)}.match-row.win:hover{border-color:#62c189b3;box-shadow:0 4px 16px #62c18933}.match-row.lose{border-color:#e06c7580;background:linear-gradient(90deg,rgba(224,108,117,.08),transparent)}.match-row.lose:hover{border-color:#e06c75b3;box-shadow:0 4px 16px #e06c7533}.match-result{font-weight:700;color:var(--accent)}.match-meta,.match-xp{display:flex;flex-direction:column;gap:4px;color:var(--text-dim)}.match-date{grid-column:span 3;color:var(--text-dim)}.profile-empty{color:var(--text-dim);margin-top:10px}.activity-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:10px}.activity-grid span{color:var(--text-dim);font-size:.75rem;text-transform:uppercase;letter-spacing:.04em}.activity-grid strong{display:block;margin-top:6px}@media(max-width:900px){.team-select-layout,.roster-and-team,.profile-grid{grid-template-columns:1fr}.profile-card.primary{grid-column:span 1}.battle-main{grid-template-columns:1fr;gap:16px}.team-container.enemy-side{align-items:flex-start}.auth-bar{padding:10px 16px}.auth-nav{gap:6px}.auth-nav-btn{padding:6px 12px;font-size:.7rem}.mode-btn{padding:10px 16px;font-size:.8rem}}@media(max-width:600px){.auth-panel{padding:32px 24px}.auth-panel h1{font-size:1.6rem}.auth-logo{font-size:3rem}.team-select-topbar h1{font-size:1.8rem}.selected-preview{flex-direction:column;align-items:center}.preview-slot{width:100%;max-width:140px}.roster-grid{grid-template-columns:repeat(auto-fill,minmax(72px,1fr))}.ability-card{width:76px;height:96px}.profile-hero{flex-direction:column;text-align:center}.match-row{grid-template-columns:1fr;gap:8px}.match-date{grid-column:span 1;font-size:.7rem}}.xp-row{width:100%;margin-top:6px;display:flex;flex-direction:column;gap:4px}.xp-text{font-size:.65rem;color:var(--text-dim)}.xp-bar{height:6px;background:#ffffff1f;border-radius:999px;overflow:hidden}.xp-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6)}.battle-main{position:relative;z-index:10;display:flex;flex-direction:column;align-items:stretch;padding:12px 16px 32px;flex:1;gap:12px;min-height:calc(100vh - 180px);overflow:visible;width:100%}.battle-main.battle-main-compact{gap:10px}.battle-main.battle-main-story{gap:12px}.battle-hud{display:grid;grid-template-columns:minmax(220px,.9fr) auto minmax(220px,.9fr);align-items:center;gap:12px;padding:10px 16px;background:#080a0ee6;border:1px solid rgba(255,255,255,.08);border-radius:16px;margin:10px 16px 0;position:relative;z-index:5}.hud-center{display:flex;align-items:center;gap:12px;justify-content:center}.hud-side{display:flex;justify-content:flex-start}.hud-side.right{justify-content:flex-end}.battle-top-row{display:grid;grid-template-columns:minmax(360px,1fr);gap:12px;align-items:start;min-height:0;width:min(1100px,100%);margin:0 auto}.battle-team-row{display:grid;grid-template-columns:2fr 1fr;gap:80px;align-items:stretch;align-content:space-between;width:min(1500px,100%);margin:0 auto;min-height:calc(100vh - 250px);overflow:visible;padding:0}@media(max-height:900px){.battle-team-row{min-height:calc(100vh - 220px)}.character-row{min-height:clamp(170px,24vh,210px)}}.battle-team-row .team-container.player-side{justify-self:start;padding-right:0}.battle-team-row .team-container.enemy-side{justify-self:end;padding-left:0}.team-container{display:flex;flex-direction:column;gap:12px;width:100%}.team-container{display:flex;flex-direction:column;gap:10px;flex:1;max-width:none;min-height:0;position:relative;overflow:visible}.team-container>*{position:relative;z-index:1}.team-container.player-side{width:100%}.team-container.enemy-side{width:100%;align-items:flex-end}.team-container.enemy-side:before{content:"";position:absolute;inset:36px 0 0 20%;border-radius:18px;background:linear-gradient(270deg,rgba(224,108,117,.16),transparent 60%);pointer-events:none}.team-label{font-size:.9rem;font-weight:700;letter-spacing:2px;padding:6px 12px;border-radius:5px;text-align:center;margin-bottom:5px}.team-label-row{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:6px}.team-identity{display:flex;align-items:center;gap:10px;color:var(--text-dim)}.team-identity.enemy{flex-direction:row-reverse;text-align:right}.team-avatar{width:36px;height:36px;border-radius:10px;border:1px solid rgba(255,255,255,.15);background:#0006;display:flex;align-items:center;justify-content:center;overflow:hidden;color:#fff;font-size:.75rem;font-weight:700}.team-avatar img{width:100%;height:100%;object-fit:cover}.team-name{font-size:.85rem;color:#fff;font-weight:700}.team-subtitle{font-size:.7rem;color:var(--text-dim)}.player-side .team-label{background:linear-gradient(90deg,rgba(97,193,199,.2),transparent);color:var(--accent-cool);border-left:3px solid rgba(97,193,199,.8);text-align:left}.enemy-side .team-label{background:linear-gradient(270deg,rgba(224,108,117,.2),transparent);color:var(--danger);border-right:3px solid rgba(224,108,117,.8);text-align:right}.character-row{display:flex;align-items:center;gap:clamp(10px,1.5vw,18px);padding:clamp(12px,2vw,18px) clamp(16px,2.2vw,22px);background:var(--panel);border-radius:12px;border:1px solid var(--line);box-shadow:0 10px 24px #00000059;transition:all .2s ease;position:relative;overflow:visible;z-index:1;min-height:clamp(190px,28vh,230px)}.character-row.hit-flash{animation:hit-flash .35s ease}.character-row.crit-flash{animation:crit-flash .4s ease}@keyframes hit-flash{0%{box-shadow:0 0 #f1c36a00}50%{box-shadow:0 0 18px #f1c36a66}to{box-shadow:0 10px 24px #00000059}}@keyframes crit-flash{0%{box-shadow:0 0 #e06c7500}50%{box-shadow:0 0 24px #e06c7580}to{box-shadow:0 10px 24px #00000059}}.player-side .character-row{width:100%}.enemy-side .character-row{max-width:320px}.character-row:hover{background:var(--panel-strong);z-index:25}.character-row.selected{border-color:#d7b36ab3;background:#d7b36a14}.character-row.dead{opacity:.5}.character-row.acted{opacity:.7}.character-row.acted .ability-cards{opacity:.4;pointer-events:none}.character-row.acted .ability-cards .ability-card.queue-slot{pointer-events:auto;opacity:1;filter:brightness(2.2) saturate(1.8) contrast(1.2)}.character-row.acted .ability-cards .ability-card.queue-slot.queued{pointer-events:auto;opacity:1;filter:brightness(2.5) saturate(2) contrast(1.3)}.character-row.selecting-target{background:#d7b36a1f;border-color:#d7b36ae6;box-shadow:0 0 18px #d7b36a33}.character-row.enemy{flex-direction:row-reverse}.character-row.enemy.targetable{cursor:pointer;border-color:#e06c75cc;animation:target-glow 1s ease-in-out infinite}@keyframes target-glow{0%,to{box-shadow:0 0 8px #e06c7540}50%{box-shadow:0 0 20px #e06c7573}}.character-row.enemy.targetable:hover{background:#e06c751f;transform:scale(1.02)}.portrait-container{display:flex;flex-direction:column;align-items:center;min-width:120px;transition:transform .2s ease}.portrait-container.active .portrait-frame{border-color:#94602db3;box-shadow:0 0 16px #94602d40}.portrait-container.targetable{cursor:pointer}.portrait-frame{width:80px;height:80px;border:2px solid rgba(255,255,255,.18);border-radius:10px;position:relative;overflow:hidden;background:linear-gradient(145deg,#1a2230,#0f141d);transition:all .2s ease}.portrait-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(255,255,255,.08) 0%,transparent 50%),linear-gradient(135deg,#253041,#1a2230)}.portrait-initial{font-size:1.8rem;font-weight:700;color:#ffffffd9;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.portrait-rarity{position:absolute;top:4px;right:4px;padding:2px 5px;border-radius:3px;font-size:.55rem;font-weight:700}.portrait-rarity.ur{background:linear-gradient(90deg,#e6c37d,#d7b36a);color:#000}.portrait-rarity.ssr{background:#5fbac3;color:#fff}.portrait-rarity.sr{background:#6c7d91;color:#fff}.portrait-name{font-size:.8rem;font-weight:700;margin-top:5px;text-align:center}.passive-indicator{position:relative;margin-top:6px;display:inline-flex;align-items:center;gap:6px}.passive-tag{text-transform:uppercase;letter-spacing:.08em;font-size:.55rem;color:var(--accent);padding:3px 8px;border-radius:999px;background:#f1c36a1a;border:1px solid rgba(241,195,106,.35)}.passive-tooltip{position:absolute;bottom:calc(100% + 6px);left:50%;transform:translate(-50%) scale(.96);width:200px;background:#0c0e14fa;border:1px solid rgba(255,255,255,.14);border-radius:10px;padding:10px;opacity:0;visibility:hidden;transition:all .12s ease-out;z-index:1000;pointer-events:none;box-shadow:0 10px 30px #0009;color:#e7eaf0;display:flex;flex-direction:column;gap:6px}.passive-indicator:hover .passive-tooltip{opacity:1;visibility:visible;transform:translate(-50%) scale(1)}.acted-overlay,.dead-overlay,.target-indicator{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}.acted-overlay{background:#2ecc7166;font-size:1.8rem;color:#fff}.dead-overlay{background:#000000bf;font-size:1.8rem}.target-indicator{background:#ff6b6b66;font-size:1.5rem;animation:pulse-target .6s ease-in-out infinite}@keyframes pulse-target{0%,to{transform:scale(1)}50%{transform:scale(1.15)}}.status-icons{position:absolute;bottom:4px;left:4px;display:flex;gap:2px;flex-wrap:wrap;max-width:60px}.status-icon{font-size:.7rem;background:#000c;border-radius:3px;padding:1px 3px;cursor:help}.player-status-row{display:flex;gap:8px;margin-bottom:8px;flex-wrap:wrap}.status-pill{font-size:.7rem;font-weight:700;padding:4px 8px;border-radius:999px;background:#ffffff14;border:1px solid rgba(255,255,255,.12)}.status-pill.stunned{color:var(--accent);border-color:#f1c36a80}.status-pill.buffed{color:var(--success);border-color:#62c18980}.portrait-hp-bar,.portrait-mana-bar{width:110px;height:14px;background:#00000080;border-radius:6px;overflow:hidden;margin-top:4px;position:relative;border:1px solid rgba(255,255,255,.15)}.portrait-hp-preview{position:absolute;top:0;left:0;height:100%;background:#e06c7599;transition:width .4s ease}.portrait-hp-fill{height:100%;transition:width .3s ease;border-radius:6px}.portrait-mana-bar{height:8px;border-radius:4px;margin-top:3px}.portrait-mana-fill{height:100%;background:linear-gradient(90deg,#58c1d8,#2e6f7e);transition:width .3s ease;border-radius:4px}.portrait-hp-text,.portrait-mana-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.7rem;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.6)}.ability-cards{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-start;align-items:flex-start;transition:opacity .2s ease;flex:1;margin-top:8px}.ability-card{width:clamp(72px,7vw,110px);height:clamp(96px,9vw,140px);background:linear-gradient(145deg,#1b2230,#121825);border:2px solid rgba(255,255,255,.15);border-radius:10px;cursor:pointer;position:relative;transition:all .25s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column;overflow:visible;z-index:2}.ability-card.needs-target{border-color:#e06c7559}.ability-queue-order{position:absolute;top:-10px;left:-10px;background:#f1c36af2;color:#0a0c12;font-size:.6rem;font-weight:800;padding:3px 6px;border-radius:999px;letter-spacing:.05em;z-index:5;box-shadow:0 6px 14px #00000059}.ability-target-tag{position:absolute;top:4px;left:4px;width:18px;height:18px;display:inline-flex;align-items:center;justify-content:center;border-radius:6px;background:#e06c7540;border:1px solid rgba(224,108,117,.55);font-size:.7rem;z-index:4}.ability-card:before{content:"";position:absolute;inset:0;border-radius:10px;background:linear-gradient(135deg,rgba(255,255,255,.1),transparent);opacity:0;transition:opacity .25s ease;pointer-events:none}.ability-card:hover:not(.disabled):before{opacity:1}.ability-card:hover:not(.disabled){transform:translateY(-6px) scale(1.05);border-color:#f1c36ab3;box-shadow:0 12px 28px #f1c36a40;z-index:30}.ability-card.selected{border-color:#f1c36ae6;box-shadow:0 0 24px #f1c36a73;transform:translateY(-6px) scale(1.05);z-index:30}.ability-card.queued{border-color:#58c1d8e6;box-shadow:0 0 20px #58c1d880;animation:queued-pulse 1.4s ease-in-out infinite;z-index:25}.ability-card.queued:after{content:"Queued";position:absolute;top:-10px;right:-10px;background:#58c1d8e6;color:#081219;font-size:.55rem;font-weight:700;padding:3px 6px;border-radius:999px;letter-spacing:.08em;text-transform:uppercase}.ability-card.queue-slot{background:#0a0c10b3;border-style:dashed;border-color:#fff3;cursor:default}.ability-card.queue-slot.queued{cursor:pointer;border-style:solid;border-color:#61c1c7cc;background:linear-gradient(145deg,#61c1c726,#61c1c70d);box-shadow:0 0 16px #61c1c74d;animation:queue-slot-pulse 2s ease-in-out infinite}@keyframes queue-slot-pulse{0%,to{box-shadow:0 0 16px #61c1c74d}50%{box-shadow:0 0 24px #61c1c780}}.ability-card.queue-slot.queued:hover{border-color:#e06c75cc;box-shadow:0 8px 20px #e06c754d;transform:translateY(-4px);animation:none}.ability-card.queue-slot .ability-name{color:#f7e7bf}.ability-card.queue-slot .ability-desc{color:#e7eaf099;font-size:.72rem}@keyframes queued-pulse{0%,to{box-shadow:0 0 12px #58c1d866;transform:scale(1)}50%{box-shadow:0 0 28px #58c1d8b3;transform:scale(1.02)}}.ability-card.disabled{opacity:.4;cursor:not-allowed;filter:grayscale(.5)}.ability-card.disabled:hover{transform:none}.ability-card.no-mana{border-color:#e06c75b3}.ability-card.no-mana:hover:not(.disabled){border-color:#e06c75e6;box-shadow:0 8px 20px #e06c754d}.ability-card.ultimate{border-color:#f1c36ab3;background:linear-gradient(145deg,#2a1d1f,#1a1214);box-shadow:0 0 16px #f1c36a33}.ability-card.ultimate:hover:not(.disabled){border-color:#f1c36ae6;box-shadow:0 8px 24px #f1c36a59}.ability-card.ultimate.selected{box-shadow:0 0 28px #f1c36a80}.ability-card-art{flex:1;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(255,255,255,.08),transparent);position:relative;border-radius:6px 6px 0 0}.ability-name{font-size:.6rem;text-align:center;padding:3px 6px 2px;color:#e7eaf0;line-height:1.1;min-height:24px;text-transform:uppercase;letter-spacing:.04em;white-space:normal}.ability-card-initial{font-size:.9rem;font-weight:700;color:#ffffffd9;text-transform:uppercase}.ultimate-indicator{position:absolute;top:2px;right:2px;font-size:.65rem;color:var(--accent)}.ability-cooldown-overlay{position:absolute;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;flex-direction:column;font-size:1.4rem;font-weight:700;color:#fff;border-radius:6px}.ability-cooldown-label{font-size:.6rem;letter-spacing:.2em;color:var(--text-dim);text-transform:uppercase}.ability-mana-cost{background:#0009;padding:3px;text-align:center;font-size:.7rem;color:var(--accent-cool);font-weight:700;border-radius:0 0 6px 6px}.ability-mana-cost.not-enough{background:#e06c7559;color:var(--danger)}.ability-tooltip{position:absolute;top:calc(100% + 12px);left:50%;transform:translate(-50%) scale(.96);width:260px;background:radial-gradient(circle at top,rgba(241,195,106,.14),transparent 60%),#090a0efa;border:1px solid rgba(241,195,106,.65);border-radius:14px;padding:14px 16px;opacity:0;visibility:hidden;transition:all .12s ease-out;z-index:9999;pointer-events:none;box-shadow:0 18px 40px #0000008c,0 0 20px #f1c36a26}.ability-tooltip:after{content:"";position:absolute;bottom:100%;left:50%;transform:translate(-50%);border:10px solid transparent;border-bottom-color:#f1c36aa6}.ability-card:hover .ability-tooltip{opacity:1;visibility:visible;transform:translate(-50%) scale(1)}.ability-card.tooltip-up .ability-tooltip{top:auto;bottom:calc(100% + 12px)}.ability-card.tooltip-up .ability-tooltip:after{bottom:auto;top:100%;border-bottom-color:transparent;border-top-color:#f1c36aa6}.tooltip-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;gap:8px}.tooltip-header h4{font-size:1.05rem;color:var(--accent);margin:0;flex:1}.tooltip-ultimate{background:#f1c36a33;color:#f6d08a;padding:2px 6px;border-radius:4px;font-size:.55rem;font-weight:700;white-space:nowrap}.ability-tooltip p{font-size:.85rem;color:#d7dbe2;margin-bottom:12px;line-height:1.45}.tooltip-stats{display:flex;justify-content:space-between;font-size:.75rem;color:var(--text-dim);padding-top:8px;border-top:1px solid rgba(255,255,255,.1)}.tooltip-stats span{display:flex;align-items:center;gap:3px}.tooltip-stats .not-enough{color:var(--danger);font-weight:700}.enemy-status-effects{display:flex;flex-direction:column;gap:4px}.character-row.enemy .enemy-status-effects{margin-right:10px;align-items:flex-start}.status-badge{display:flex;align-items:center;gap:5px;padding:5px 10px;border-radius:8px;font-size:.75rem;font-weight:700;box-shadow:0 2px 8px #0000004d;animation:status-appear .3s ease}@keyframes status-appear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.status-badge.invincible{background:linear-gradient(135deg,#58c1d840,#58c1d826);border:1px solid rgba(88,193,216,.6);color:#7dd3ea}.status-badge.stunned{background:linear-gradient(135deg,#f1c36a40,#f1c36a26);border:1px solid rgba(241,195,106,.6);color:#f6d08a}.status-badge.burning{background:linear-gradient(135deg,#e06c7540,#e06c7526);border:1px solid rgba(224,108,117,.6);color:#f08b94;animation:burning-pulse 1.5s ease-in-out infinite}@keyframes burning-pulse{0%,to{box-shadow:0 2px 8px #e06c754d}50%{box-shadow:0 2px 16px #e06c7580}}.status-badge.marked{background:linear-gradient(135deg,#f1c36a40,#f1c36a26);border:1px solid rgba(241,195,106,.6);color:#f6d08a}.status-emoji{font-size:.85rem}.status-count{color:#fff}.damage-floats{position:absolute;top:-6px;right:12px;display:flex;flex-direction:column;gap:4px;pointer-events:none}.character-row.enemy .damage-floats{left:12px;right:auto;align-items:flex-start}.damage-float{font-size:.95rem;font-weight:800;color:#f3b0b5;text-shadow:0 2px 8px rgba(0,0,0,.8),0 0 4px rgba(224,108,117,.6);animation:float-up .8s cubic-bezier(.33,1,.68,1) forwards;filter:drop-shadow(0 0 6px rgba(224,108,117,.4))}.damage-float.heal{color:#b7f0cb;text-shadow:0 2px 8px rgba(0,0,0,.8),0 0 4px rgba(98,193,137,.6);filter:drop-shadow(0 0 6px rgba(98,193,137,.4))}.damage-float.big{font-size:1.25rem;animation:float-up-big .9s cubic-bezier(.33,1,.68,1) forwards}@keyframes float-up{0%{opacity:0;transform:translateY(8px) scale(.8)}20%{opacity:1;transform:translateY(0) scale(1.1)}to{opacity:0;transform:translateY(-16px) scale(.9)}}@keyframes float-up-big{0%{opacity:0;transform:translateY(10px) scale(.7)}20%{opacity:1;transform:translateY(0) scale(1.2)}to{opacity:0;transform:translateY(-20px) scale(.9)}}.battle-center{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;gap:12px;width:100%;min-width:200px;padding-top:0;max-height:100%;min-height:0}.battle-log-header{display:flex;flex-direction:column;gap:10px;margin-bottom:10px}.battle-objective{background:#f1c36a1a;border:1px solid rgba(241,195,106,.35);border-radius:12px;padding:8px 10px;display:flex;flex-direction:column;gap:4px;width:100%}.battle-objective-title{font-size:.75rem;text-transform:uppercase;letter-spacing:.12em;color:var(--accent-strong)}.battle-objective-text{font-size:.85rem;color:#f3e3c1}.battle-log-center{background:#0a0c10b3;border-radius:12px;padding:15px;width:100%;border:1px solid var(--line);display:flex;flex-direction:column;flex:1;min-height:0;max-height:170px;height:160px}.battle-queue{width:100%;background:#0a0c10b3;border-radius:12px;padding:12px 14px;border:1px solid var(--line);max-height:120px;height:110px}.combat-feed-ticker{margin-top:10px;background:#0a0c10a6;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:8px 10px;display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center;width:100%}.combat-feed-ticker .ticker-label{font-size:.65rem;letter-spacing:.2em;color:var(--text-dim)}.combat-feed-ticker .ticker-text{font-size:.75rem;color:#f2f4f8;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.combat-feed-btn{background:#f1c36a2e;border:1px solid rgba(241,195,106,.5);color:#f7e7bf;border-radius:999px;padding:4px 12px;font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.1em}.combat-feed-overlay{position:fixed;inset:0;background:#080a0ebf;display:flex;justify-content:flex-end;z-index:1200}.combat-feed-panel{width:min(420px,92vw);height:100%;background:#0a0c10f5;border-left:1px solid rgba(255,255,255,.08);display:flex;flex-direction:column;padding:20px;box-shadow:-20px 0 40px #00000073}.combat-feed-header{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:12px}.combat-feed-header h3{margin:0;color:var(--accent);font-size:1.1rem}.combat-feed-header p{margin:4px 0 0;color:var(--text-dim);font-size:.8rem}.combat-feed-close{background:transparent;border:1px solid rgba(255,255,255,.15);color:#fff;border-radius:10px;padding:6px 10px}.combat-feed-body{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:8px;padding-right:6px}.combat-feed-body p{font-size:.8rem;color:var(--text-dim);padding:8px 10px;background:#ffffff0d;border-radius:6px;border-left:3px solid transparent;line-height:1.35}.combat-feed-body p.latest{color:#fff;background:#f1c36a26;border-left-color:var(--accent)}.combat-feed-empty{color:var(--text-dim);font-size:.85rem}.end-turn-overlay{position:fixed;inset:0;background:#080a0eb3;display:flex;align-items:center;justify-content:center;z-index:1200;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.end-turn-panel{width:min(680px,92vw);background:#0a0c10f5;border:1px solid rgba(255,255,255,.08);border-radius:18px;padding:20px 22px;box-shadow:0 24px 60px #00000080}.end-turn-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:14px}.end-turn-header h3{margin:0;color:var(--accent);font-size:1.1rem}.end-turn-header p{margin:4px 0 0;color:var(--text-dim);font-size:.8rem}.end-turn-close{background:transparent;border:1px solid rgba(255,255,255,.15);color:#fff;border-radius:10px;padding:6px 10px}.end-turn-body{max-height:280px;overflow-y:auto;padding-right:6px}.end-turn-empty{color:var(--text-dim);font-size:.85rem;padding:16px 0;text-align:center}.end-turn-list{display:flex;flex-direction:column;gap:10px}.end-turn-item{display:flex;align-items:center;gap:12px;padding:10px 12px;border-radius:12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.08);color:#fff}.end-turn-item .drag-handle{color:#e7eaf099}.end-turn-item .queue-order{background:#ffffff1f;padding:4px 8px;border-radius:999px;font-size:.75rem}.end-turn-item .queue-text{font-size:.9rem}.end-turn-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:16px}.end-turn-actions .secondary-btn{background:transparent;border:1px solid rgba(255,255,255,.2);color:#fff;padding:8px 16px;border-radius:10px}.end-turn-actions .primary-btn{background:#f1c36a;border:none;color:#1b1f2c;padding:8px 18px;border-radius:10px;font-weight:700}.battle-queue-title{font-size:.75rem;color:var(--text-dim);text-transform:uppercase;letter-spacing:.2em;margin-bottom:4px}.battle-queue-meta{font-size:.65rem;color:#e7eaf0a6;margin-bottom:8px}.battle-queue-items{display:flex;flex-direction:row;flex-wrap:wrap;gap:8px;overflow-y:auto}.battle-log-center h3{color:var(--accent);font-size:.85rem;margin-bottom:10px;text-align:center;letter-spacing:1px}.log-scroll-vertical{flex:1;min-height:0;overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;gap:6px;padding-right:4px}.log-scroll-vertical::-webkit-scrollbar{width:4px}.log-scroll-vertical::-webkit-scrollbar-track{background:#ffffff0d;border-radius:2px}.log-scroll-vertical::-webkit-scrollbar-thumb{background:#d7b36a66;border-radius:2px}.log-scroll-vertical p{font-size:.75rem;color:var(--text-dim);padding:6px 10px;background:#ffffff0d;border-radius:5px;border-left:3px solid transparent;transition:all .2s ease;line-height:1.35;white-space:normal;word-break:break-word}.log-scroll-vertical p.latest{color:#fff;background:#f1c36a26;border-left-color:var(--accent)}.log-hit{border-left-color:#58c1d8b3;color:#cfe6f3}.log-heal{border-left-color:#62c189b3;color:#d1f1df}.log-stun,.log-burn{border-left-color:#e06c75b3;color:#f2c1c7}.log-shield{border-left-color:#f1c36acc;color:#f6d08a}.log-win{border-left-color:#62c189e6;color:#b7f0cb}.log-lose{border-left-color:#e06c75e6;color:#f3b0b5}.battle-log-full{display:none}.game-over-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1000;background:#1e241dbf;animation:fade-in .3s ease}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.game-over-content{text-align:center;padding:50px;border-radius:20px;animation:pop-in .3s ease;color:#fff}@keyframes pop-in{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}.game-over-overlay.win .game-over-content{background:#62c1892e;border:2px solid var(--success);box-shadow:0 0 60px #62c18940}.game-over-overlay.lose .game-over-content{background:#e06c752e;border:2px solid var(--danger);box-shadow:0 0 60px #e06c7540}.game-over-content h1{font-size:2.5rem;margin-bottom:25px}.match-summary{width:320px;margin:0 auto 20px;background:#00000059;border:1px solid rgba(255,255,255,.15);border-radius:14px;padding:14px 16px;display:flex;flex-direction:column;gap:8px}.summary-row{display:flex;justify-content:space-between;font-size:.85rem;color:#d7dbe2}.summary-row strong{color:#fff}.summary-xp-bar{height:8px;background:#ffffff1a;border-radius:999px;overflow:hidden;margin-top:4px}.summary-xp-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6)}.summary-levelups{display:flex;flex-direction:column;gap:4px;font-size:.75rem;color:#f6d08a}.summary-characters{display:flex;flex-direction:column;gap:10px;margin-top:8px}.summary-character{display:grid;grid-template-columns:44px 1fr;gap:10px;align-items:center;background:#ffffff0f;border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:8px}.summary-portrait{width:44px;height:44px;border-radius:8px;background:#0006;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;overflow:hidden}.summary-portrait img{width:100%;height:100%;object-fit:cover}.summary-char-info{display:flex;flex-direction:column;gap:4px}.summary-char-name{font-size:.8rem;color:#fff}.summary-char-level{font-size:.7rem;color:var(--text-dim)}.summary-char-bar{height:6px;background:#ffffff1f;border-radius:999px;overflow:hidden}.summary-char-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6)}.play-again-btn{background:linear-gradient(135deg,#e6c37d,#cfa35d);color:#1a1a1a;border:none;padding:15px 50px;font-size:1.1rem;font-weight:700;border-radius:25px;cursor:pointer;transition:all .2s ease}.play-again-btn:hover{transform:scale(1.05);box-shadow:0 5px 30px #d7b36a59}.battle-result-actions{display:flex;gap:12px;align-items:center;justify-content:center;flex-wrap:wrap}.team-select-container{min-height:100vh;height:100%;padding:0;display:flex;flex-direction:column;background:radial-gradient(circle at top,#141823,#0a0c12 65%);overflow:hidden}.team-select-grid{display:grid;grid-template-columns:1fr 360px;gap:16px;padding:18px 24px 22px;flex:1;min-height:0;overflow:hidden}.team-left-column,.team-right-column{display:flex;flex-direction:column;gap:16px;min-height:0}.character-details-panel,.character-roster-panel,.squad-panel,.match-controls{background:#0c1018b8;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:14px}.character-details-panel{display:flex;flex-direction:column;gap:12px;min-height:220px}.details-header-row{display:flex;align-items:center;justify-content:space-between;gap:12px}.details-header-left{display:flex;align-items:center;gap:10px;min-width:0}.details-portrait{width:72px;height:72px;border-radius:12px;border:2px solid rgba(255,255,255,.15);padding:2px;display:flex;align-items:center;justify-content:center}.details-portrait .select-portrait{width:100%;height:100%}.details-meta h2{margin:0 0 4px;font-size:1.2rem;color:#fff;line-height:1.2}.details-level{font-size:.8rem;color:var(--text-dim)}.details-primary-btn{background:linear-gradient(135deg,#f1c36a,#dba34f);border:none;color:#0f1218;padding:10px 16px;border-radius:10px;font-weight:700;cursor:pointer}.details-primary-btn:disabled{opacity:.6;cursor:not-allowed}.details-passive-line{font-size:.85rem;color:var(--text-dim);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-top:0}.details-passive-line span{color:var(--accent-strong);font-weight:600;margin-right:6px}.details-skills{display:flex;flex-direction:column;gap:12px}.skills-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}.skill-card{background:#ffffff0a;border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:10px;text-align:left;cursor:pointer;display:flex;flex-direction:column;gap:6px;transition:border-color .2s ease,background .2s ease;position:relative}.skill-card:hover{border-color:#f1c36a80;background:#ffffff14}.skill-card.active{border-color:#f1c36acc;background:#f1c36a1a}.skill-icon{color:#f1c36a}.skill-name{font-size:.9rem;font-weight:600;color:#fff}.skill-cost{font-size:.75rem;color:var(--text-dim)}.skill-tooltip{position:absolute;left:0;top:calc(100% + 6px);min-width:220px;max-width:260px;background:#080a10f5;border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:10px;font-size:.78rem;color:var(--text-dim);opacity:0;transform:translateY(-4px);pointer-events:none;transition:opacity .2s ease,transform .2s ease;z-index:20}.skill-card:hover .skill-tooltip{opacity:1;transform:translateY(0)}.skill-tooltip-title{font-size:.85rem;color:#f1c36a;margin-bottom:6px;font-weight:600}.skill-tooltip-meta{display:flex;gap:10px;margin-top:6px;font-size:.7rem}.details-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--text-dim);gap:10px;min-height:180px}.character-roster-panel{padding:12px;flex:1;min-height:0;display:flex;flex-direction:column;gap:12px}.squad-panel{display:flex;flex-direction:column;gap:12px}.match-controls{display:flex;flex-direction:column;gap:10px}.match-primary-btn{background:linear-gradient(135deg,var(--accent) 0%,#dba34f 100%);border:none;color:#0f1218;padding:var(--space-4) var(--space-5);border-radius:var(--radius-lg);font-weight:700;font-size:var(--text-lg);cursor:pointer;transition:all var(--duration-fast) var(--transition-bounce);box-shadow:var(--shadow-md);position:relative;overflow:hidden}.match-primary-btn:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left var(--duration-slow)}.match-primary-btn:hover:not(:disabled):before{left:100%}.match-primary-btn:hover:not(:disabled){transform:scale(1.05) translateY(-2px);box-shadow:var(--glow-accent),var(--shadow-lg)}.match-primary-btn:active:not(:disabled){transform:scale(1.02)}.match-primary-btn:disabled{opacity:.5;cursor:not-allowed;filter:grayscale(.5)}.pvp-status-container{display:flex;flex-direction:column;gap:12px}.pvp-status{background:#0c1018e6;border:2px solid rgba(88,193,216,.3);border-radius:12px;padding:16px;display:flex;align-items:center;gap:16px;animation:statusPulse 2s ease-in-out infinite}@keyframes statusPulse{0%,to{border-color:#58c1d84d;box-shadow:0 0 #58c1d84d}50%{border-color:#58c1d899;box-shadow:0 0 20px #58c1d84d}}.pvp-status-match_found{border-color:#f1c36a80;animation:statusFound .5s ease-out}@keyframes statusFound{0%{transform:scale(.95);opacity:0}50%{transform:scale(1.02)}to{transform:scale(1);opacity:1}}.pvp-status-timeout,.pvp-status-error{border-color:#e74c3c80;animation:none}.status-spinner{width:40px;height:40px;border:3px solid rgba(88,193,216,.2);border-top-color:#58c1d8;border-radius:50%;animation:spin 1s linear infinite;flex-shrink:0}@keyframes spin{to{transform:rotate(360deg)}}.status-icon{font-size:32px;flex-shrink:0;animation:iconBounce .6s ease-out}@keyframes iconBounce{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.status-text{flex:1;display:flex;flex-direction:column;gap:4px}.status-title{font-size:16px;font-weight:700;color:var(--text)}.status-subtitle{font-size:13px;color:var(--text-muted)}.cancel-queue-btn{background:#e74c3c26;border:2px solid rgba(231,76,60,.5);color:#e74c3c;padding:10px 16px;border-radius:10px;font-weight:600;cursor:pointer;transition:all .2s ease}.cancel-queue-btn:hover{background:#e74c3c40;border-color:#e74c3ccc;transform:translateY(-2px)}.match-secondary-buttons{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}.match-secondary-btn{background:#ffffff0f;border:1px solid rgba(255,255,255,.12);color:var(--text-primary);padding:var(--space-3) var(--space-3);border-radius:var(--radius-md);font-size:var(--text-sm);font-weight:600;cursor:pointer;transition:all var(--duration-fast) var(--transition-ease);box-shadow:var(--shadow-sm)}.match-secondary-btn:hover:not(:disabled){background:#ffffff1a;border-color:var(--accent);transform:translateY(-2px);box-shadow:var(--shadow-md)}.match-secondary-btn:active:not(:disabled){transform:translateY(0)}.match-secondary-btn:disabled{opacity:.5;cursor:not-allowed;filter:grayscale(.3)}.header-actions{display:flex;gap:12px}.header-squad{display:flex;flex-direction:column;gap:10px;min-width:360px;max-width:520px}.header-squad-title{display:flex;align-items:center;justify-content:space-between;gap:12px}.header-squad-title h2{margin:0;font-size:1.1rem;letter-spacing:.8px;color:#f2d28a;text-transform:uppercase}.team-slots.header-slots{flex-direction:row;gap:12px;flex:0 0 auto;min-height:0;overflow-x:auto;overflow-y:hidden;padding-bottom:4px}.team-slots.header-slots::-webkit-scrollbar{height:6px}.team-slots.header-slots::-webkit-scrollbar-thumb{background:#ffffff24;border-radius:999px}.team-slot.compact{min-height:88px;width:180px;padding:12px;grid-template-columns:56px 1fr;gap:10px}.team-slot.compact .slot-portrait{width:56px;height:56px}.team-slot.compact .slot-info{display:flex;flex-direction:column;gap:4px;align-items:flex-start}.team-slot.compact .slot-name{font-size:.9rem}.team-slot.compact .slot-level,.team-slot.compact .slot-rarity{font-size:.75rem}.team-slot.compact .slot-remove{width:22px;height:22px;font-size:.75rem}.team-slot.compact .empty-icon{font-size:1.6rem;margin-bottom:4px}.team-slot.compact .empty-text{font-size:.75rem}.header-squad .team-ready-indicator{align-self:flex-end;font-size:.8rem}.header-btn{background:#ffffff0f;border:1px solid rgba(255,255,255,.12);color:#e7eaf0;padding:10px 20px;border-radius:12px;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.header-btn.primary{background:linear-gradient(135deg,#f1c36a,#dba34f);border:none;color:#0f1218}.header-btn:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff1a;transform:translate(-50%,-50%);transition:width .6s,height .6s}.header-btn:hover:before{width:300px;height:300px}.header-btn:hover{transform:translateY(-2px);border-color:#ffffff40;box-shadow:0 4px 12px #0000004d}.header-btn:disabled{opacity:.4;cursor:not-allowed;transform:none}.header-btn.ghost{border-style:dashed;color:var(--accent-strong);background:#f1c36a0d}.team-select-main{display:grid;grid-template-columns:minmax(520px,1.6fr) minmax(280px,.9fr);gap:20px;padding:24px;flex:1;min-height:0;overflow:visible;align-items:stretch}.roster-column{display:flex;flex-direction:column;min-height:0;overflow:auto;gap:16px}.roster-section{background:#0c1018b3;border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:20px;display:flex;flex-direction:column;height:100%;min-height:0;overflow:hidden;flex:1 1 auto}.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-header h2{font-size:1.3rem;color:#fff;font-weight:700;letter-spacing:.5px;margin:0}.selection-count{font-size:.9rem;color:var(--accent-strong);font-weight:600;background:#f1c36a1a;padding:4px 12px;border-radius:20px;border:1px solid rgba(241,195,106,.3)}.roster-search-bar{position:relative;margin-bottom:16px}.search-icon{position:absolute;left:12px;top:50%;transform:translateY(-50%);font-size:1rem;opacity:.6}.search-input{width:100%;padding:12px 12px 12px 40px;background:#0006;border:1px solid rgba(255,255,255,.12);border-radius:12px;color:#e7eaf0;font-size:.9rem;transition:all .25s ease}.search-input::placeholder{color:#fff6}.search-input:focus{outline:none;border-color:#f1c36a99;box-shadow:0 0 0 3px #f1c36a1a;background:#0009}.roster-grid-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(88px,1fr));grid-auto-rows:118px;align-content:start;gap:12px;overflow-y:auto;padding-right:6px;flex:1;min-height:0}.roster-grid-container::-webkit-scrollbar{width:6px}.roster-grid-container::-webkit-scrollbar-track{background:#0003;border-radius:10px}.roster-grid-container::-webkit-scrollbar-thumb{background:#ffffff26;border-radius:10px;transition:background .2s}.roster-grid-container::-webkit-scrollbar-thumb:hover{background:#ffffff40}.roster-character-card{background:#0f131ccc;border:2px solid rgba(255,255,255,.08);border-radius:10px;padding:6px 6px 8px;cursor:pointer;transition:border-color .2s ease,background .2s ease;position:relative;display:flex;flex-direction:column;align-items:center;gap:4px;height:118px;overflow:hidden}.roster-character-card:hover{border-color:#f1c36a80;background:#161a24e6}.roster-character-card.is-focused{border-color:#f1c36ae6}.roster-character-card.is-selected{border-color:#62c189cc;background:#62c1891f}.roster-character-card.is-selected .card-selected-badge{display:flex}.card-selected-badge{display:none;position:absolute;top:6px;right:6px;background:linear-gradient(135deg,#62c189,#4fa973);color:#fff;width:22px;height:22px;border-radius:50%;align-items:center;justify-content:center;font-size:.7rem;font-weight:700;box-shadow:0 2px 8px #62c18966;z-index:2}.roster-character-card.rarity-ur:hover{box-shadow:0 8px 24px #ff6b6b66,0 0 20px #feca574d}.roster-character-card.rarity-ssr:hover{box-shadow:0 8px 24px #9b59b666}.roster-character-card.rarity-sr:hover{box-shadow:0 8px 24px #3498db66}.roster-character-card.rarity-r:hover{box-shadow:0 8px 24px #95a5a64d}.card-portrait{width:100%;height:52px;display:flex;align-items:center;justify-content:center;flex:0 0 auto}.card-portrait .select-portrait{flex-shrink:0}.card-info{text-align:center;width:100%;display:flex;flex-direction:column;gap:2px}.card-name{font-size:.8rem;font-weight:600;color:#fff;margin-bottom:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card-level{font-size:.7rem;color:var(--text-dim);font-weight:500}.details-portrait.rarity-ur,.roster-character-card.rarity-ur{border-color:#ff6b6bb3}.details-portrait.rarity-ssr,.roster-character-card.rarity-ssr{border-color:#9b59b6bf}.details-portrait.rarity-sr,.roster-character-card.rarity-sr{border-color:#3498dbbf}.details-portrait.rarity-r,.roster-character-card.rarity-r{border-color:#95a5a6a6}.team-column{display:flex;flex-direction:column;min-height:0;overflow:visible}.team-section{background:#0c1018b3;border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:20px;display:flex;flex-direction:column;flex:0 0 auto;gap:16px;min-height:0;overflow:auto}.clear-btn{background:#dc505033;border:1px solid rgba(220,80,80,.4);color:#f09999;padding:6px 14px;border-radius:10px;font-size:.8rem;font-weight:600;cursor:pointer;transition:all .2s ease}.clear-btn:hover{background:#dc50504d;border-color:#dc505099;transform:translateY(-1px)}.team-slots{display:flex;flex-direction:column;gap:14px;flex:1;min-height:0;overflow:auto}.team-slot{background:#0000004d;border:2px dashed rgba(255,255,255,.15);border-radius:14px;padding:10px;min-height:90px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative}.team-slot.empty:hover{border-color:#ffffff4d;background:#ffffff05}.team-slot.filled{background:#ffffff0f;border:1px solid rgba(255,255,255,.15);padding:10px;display:grid;grid-template-columns:60px 1fr;grid-template-rows:auto auto;gap:10px;align-items:start;justify-content:start}.team-slot.filled:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0006}.team-slot.drag-over{border-color:var(--accent-strong);background:#f1c36a1a;box-shadow:0 0 0 3px #f1c36a33}.team-slot.filled.rarity-ur{border-color:#ff6b6b80;box-shadow:inset 0 0 20px #ff6b6b14}.team-slot.filled.rarity-ssr{border-color:#9b59b680;box-shadow:inset 0 0 20px #9b59b614}.team-slot.filled.rarity-sr{border-color:#3498db80;box-shadow:inset 0 0 20px #3498db14}.team-slot.filled.rarity-r{border-color:#95a5a666}.slot-remove{position:absolute;top:8px;right:8px;background:#dc5050e6;border:none;color:#fff;width:28px;height:28px;border-radius:50%;cursor:pointer;font-size:.9rem;font-weight:700;display:flex;align-items:center;justify-content:center;transition:all .2s ease;z-index:10}.slot-remove:hover{background:#dc5050;transform:scale(1.1)}.slot-portrait{grid-row:1 / 3;width:56px;height:56px}.slot-info{display:flex;flex-direction:column;gap:4px}.slot-name{font-size:1rem;font-weight:700;color:#fff;letter-spacing:.3px}.slot-rarity{font-size:.75rem;font-weight:700;letter-spacing:.5px}.slot-level{font-size:.75rem;color:var(--text-dim)}.slot-abilities{display:flex;gap:6px;align-items:center;grid-column:2}.ability-mini{width:28px;height:28px;background:#f1c36a26;border:1px solid rgba(241,195,106,.3);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:.8rem;cursor:help;transition:all .2s ease}.ability-mini:hover{background:#f1c36a40;transform:scale(1.15)}.ability-mini-icon{opacity:.8}.slot-empty-state{text-align:center;color:var(--text-dim)}.empty-icon{font-size:2.5rem;opacity:.3;margin-bottom:8px}.empty-text{font-size:.9rem;font-weight:600;margin-bottom:4px}.empty-hint{font-size:.75rem;opacity:.6}.team-ready-indicator{background:#ffffff0a;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:12px 16px;text-align:center;color:var(--text-dim);font-size:.85rem;font-weight:600;transition:all .3s ease}.team-ready-indicator.ready{background:linear-gradient(135deg,#62c18933,#62c1891a);border-color:#62c18980;color:#b7f0cb;display:flex;align-items:center;justify-content:center;gap:8px;animation:ready-pulse 2s ease-in-out infinite}.ready-icon{font-size:1.2rem}.battle-start-btn{background:linear-gradient(135deg,#f1c36a,#dba34f);border:none;color:#0f1218;padding:16px 24px;border-radius:14px;font-size:1rem;font-weight:700;letter-spacing:1px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:center;gap:10px;box-shadow:0 6px 20px #f1c36a4d;position:relative;overflow:hidden;margin-top:auto;position:sticky;bottom:0}.battle-start-btn:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff4d;transform:translate(-50%,-50%);transition:width .6s,height .6s}.battle-start-btn:hover:before{width:400px;height:400px}.battle-start-btn:hover{transform:translateY(-3px);box-shadow:0 10px 30px #f1c36a80}.battle-start-btn:active{transform:translateY(-1px)}.battle-start-btn:disabled{background:#ffffff1a;color:#ffffff4d;cursor:not-allowed;transform:none;box-shadow:none}.battle-start-btn:disabled:hover:before{width:0;height:0}.btn-icon{font-size:1.2rem;position:relative;z-index:1}.btn-text{position:relative;z-index:1}.detail-column{display:flex;flex-direction:column;min-height:0;overflow:visible}.detail-section{background:#0c1018b3;border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:20px 20px 28px;display:flex;flex-direction:column;gap:18px;flex:1;min-height:0;overflow-y:auto}.detail-section::-webkit-scrollbar{width:6px}.detail-section::-webkit-scrollbar-track{background:#0003;border-radius:10px}.detail-section::-webkit-scrollbar-thumb{background:#ffffff26;border-radius:10px}.detail-header{display:flex;gap:14px;align-items:flex-start}.detail-portrait-large{width:80px;height:80px;flex-shrink:0}.detail-header-info{flex:1;display:flex;flex-direction:column;gap:6px}.detail-character-name{font-size:1.3rem;font-weight:800;color:#fff;margin:0;letter-spacing:.5px}.detail-rarity{font-size:.85rem;font-weight:700;letter-spacing:.5px}.detail-level-bar{display:flex;flex-direction:column;gap:6px;font-size:.8rem;color:var(--text-dim)}.level-xp-bar{height:6px;background:#ffffff1a;border-radius:999px;overflow:hidden}.level-xp-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6);transition:width .3s ease}.xp-text{font-size:.7rem;opacity:.8}.detail-passive-section{background:#f1c36a14;border:1px solid rgba(241,195,106,.25);border-radius:12px;padding:14px}.passive-label{font-size:.7rem;text-transform:uppercase;letter-spacing:1px;color:var(--accent-strong);font-weight:700;margin-bottom:6px}.passive-name{font-size:.95rem;font-weight:700;color:#fff;margin-bottom:6px}.passive-desc{font-size:.8rem;color:var(--text-dim);line-height:1.5}.detail-techniques-section{display:flex;flex-direction:column;gap:10px}.techniques-label{font-size:.7rem;text-transform:uppercase;letter-spacing:1px;color:var(--text-dim);font-weight:700}.techniques-list{display:flex;flex-direction:column;gap:10px}.technique-card{background:#ffffff0a;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:12px;transition:all .2s ease}.technique-card:hover{background:#ffffff14;border-color:#fff3;transform:translate(4px)}.technique-card.ultimate-card{background:#f1c36a14;border-color:#f1c36a66}.technique-card.ultimate-card:hover{background:#f1c36a1f;border-color:#f1c36a99}.technique-header{display:flex;align-items:center;gap:8px;margin-bottom:8px}.technique-icon{font-size:1rem;opacity:.8}.technique-icon.ultimate{color:var(--accent-strong);font-size:1.1rem}.technique-name{font-size:.9rem;font-weight:700;color:#fff}.technique-desc{font-size:.75rem;color:var(--text-dim);line-height:1.5;margin-bottom:10px}.technique-stats{display:flex;gap:14px;font-size:.7rem;color:var(--text-dim)}.detail-action-btn{background:linear-gradient(135deg,#62c189,#4fa973);border:none;color:#fff;padding:12px 20px;border-radius:12px;font-size:.9rem;font-weight:700;cursor:pointer;transition:all .25s ease;width:100%;box-shadow:0 4px 12px #62c1894d}.detail-action-btn:hover{transform:translateY(-2px);box-shadow:0 6px 16px #62c18966}.detail-action-btn:disabled{background:#ffffff1a;color:#ffffff4d;cursor:not-allowed;transform:none;box-shadow:none}.detail-empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--text-dim);text-align:center;gap:12px}.empty-state-icon{font-size:3rem;opacity:.2}.empty-state-text{font-size:.9rem;opacity:.6}.presets-modal-overlay{position:fixed;inset:0;background:#000000b3;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:fadeIn .2s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.presets-modal{background:#0c1018f2;border:1px solid rgba(255,255,255,.15);border-radius:20px;padding:28px;max-width:500px;width:90%;box-shadow:0 20px 60px #0009;animation:slideUp .3s cubic-bezier(.4,0,.2,1)}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.modal-header h3{font-size:1.5rem;font-weight:800;color:#fff;letter-spacing:.5px;margin:0}.modal-close{background:#dc505033;border:1px solid rgba(220,80,80,.4);color:#f09999;width:36px;height:36px;border-radius:50%;cursor:pointer;font-size:1.2rem;font-weight:700;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.modal-close:hover{background:#dc50504d;transform:rotate(90deg)}.preset-cards{display:flex;flex-direction:column;gap:14px}.preset-card-modal{background:#ffffff0a;border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:16px;transition:all .2s ease}.preset-card-modal:hover{background:#ffffff0f;border-color:#fff3}.preset-card-header{display:flex;gap:12px;align-items:center;margin-bottom:12px}.preset-number{background:#f1c36a33;border:1px solid rgba(241,195,106,.4);color:var(--accent-strong);padding:4px 10px;border-radius:8px;font-size:.8rem;font-weight:700}.preset-name{font-size:1rem;font-weight:600;color:#fff}.preset-card-actions{display:flex;gap:10px}.preset-action-btn{flex:1;background:#ffffff0f;border:1px solid rgba(255,255,255,.15);color:#e7eaf0;padding:10px 16px;border-radius:10px;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s ease}.preset-action-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}.preset-action-btn.save{background:#62c18926;border-color:#62c18966;color:#b7f0cb}.preset-action-btn.save:hover:not(:disabled){background:#62c18940;border-color:#62c18999}.preset-action-btn.load{background:#3498db26;border-color:#3498db66;color:#95d8f7}.preset-action-btn.load:hover:not(:disabled){background:#3498db40;border-color:#3498db99}.preset-action-btn:disabled{opacity:.3;cursor:not-allowed}@media(max-width:1400px){.team-select-grid{grid-template-columns:1fr 320px}.roster-grid-container{grid-template-columns:repeat(auto-fill,minmax(84px,1fr))}}@media(max-width:1200px){.team-select-grid{grid-template-columns:1fr}.team-right-column{flex-direction:row;flex-wrap:wrap}.squad-panel,.match-controls{flex:1 1 320px}}@media(max-width:768px){.team-select-grid{padding:16px}.roster-grid-container{grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:10px}}.detail-header{display:grid;grid-template-columns:120px 1fr auto;gap:16px;align-items:center}.detail-info h2{margin-bottom:6px;font-size:1.4rem;color:#fff}.detail-meta{display:flex;gap:12px;font-size:.8rem;color:var(--text-dim);margin-bottom:10px}.detail-xp{height:6px;border-radius:999px;background:#ffffff1f;overflow:hidden;margin-bottom:10px}.detail-xp-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6)}.detail-passive{color:var(--accent);font-size:.85rem;margin-bottom:4px}.detail-passive-desc{color:var(--text-dim);font-size:.75rem;line-height:1.4}.detail-actions{display:flex;justify-content:flex-end}.detail-abilities{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-top:16px}.detail-ability-card{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:10px 12px}.detail-ability-card.ultimate{border-color:#f1c36a99;box-shadow:inset 0 0 14px #f1c36a1f}.detail-ability-name{font-size:.85rem;color:#fff;margin-bottom:6px}.detail-ability-desc{color:var(--text-dim);font-size:.75rem;line-height:1.4;margin-bottom:6px}.detail-ability-meta{display:flex;justify-content:space-between;font-size:.7rem;color:var(--text-dim)}.team-select-title{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;color:var(--text-dim)}.roster-hint{font-size:.75rem;color:var(--text-dim);margin-bottom:8px}.team-select-title h2{color:#fff;font-size:1.4rem;letter-spacing:1px}.team-select-roster .character-roster{max-width:none}.roster-search{max-width:320px}.roster-search input{width:100%;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:#0006;color:#e7eaf0}.roster-search input:focus{outline:none;border-color:#f1c36a99;box-shadow:0 0 12px #f1c36a33}.roster-grid{grid-template-columns:repeat(auto-fill,minmax(84px,1fr));margin-bottom:0;flex:1;min-height:0;max-height:none;overflow:auto;padding-right:6px;height:100%}.roster-panel{display:flex;flex-direction:column;gap:12px;flex:1;min-height:0}.roster-header{display:flex;justify-content:space-between;align-items:center;color:var(--text-dim)}.roster-header h2{color:#fff;font-size:1.4rem;letter-spacing:1px}.roster-and-team{display:grid;grid-template-columns:1.4fr .6fr;gap:16px;align-items:start}.roster-list{display:flex;flex-direction:column;gap:10px}.roster-side{display:flex;flex-direction:column;gap:12px}.detail-panel-compact{background:#0c1018e6;border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:12px;display:flex;flex-direction:column;gap:10px;max-height:260px;overflow:auto}.detail-panel-compact .detail-panel-header{display:flex;gap:10px;align-items:center}.detail-panel-compact .detail-panel-name{font-size:1rem;font-weight:700;color:#fff}.detail-panel-compact .detail-panel-meta{color:var(--text-dim);font-size:.75rem}.detail-panel-compact .detail-panel-xp{color:var(--text-dim);font-size:.7rem}.detail-panel-compact .detail-panel-passive{font-size:.75rem;color:var(--accent)}.detail-panel-compact .detail-panel-abilities{display:grid;gap:6px}.detail-panel-compact .detail-panel-ability{display:flex;justify-content:space-between;font-size:.72rem;color:var(--text-dim);background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:8px;padding:6px 8px}.detail-panel-compact .detail-panel-ability.ultimate{border-color:#f1c36a80;color:var(--accent-strong)}.detail-panel-compact .detail-panel-btn{width:100%;justify-content:center}.roster-card.compact{flex-direction:column;align-items:center;gap:4px;padding:8px 6px;text-align:center;min-height:90px}.roster-mini-name{font-size:.74rem;color:#fff;font-weight:600}.roster-team-box{height:fit-content;margin-top:6px;align-self:start}.roster-grid::-webkit-scrollbar{width:6px}.roster-grid::-webkit-scrollbar-thumb{background:#ffffff26;border-radius:999px}.team-select-sidebar{display:flex;flex-direction:column;gap:18px}.team-select-panel{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:18px;box-shadow:0 14px 30px #0006}.roster-layout{display:grid;grid-template-columns:minmax(0,1fr) minmax(220px,.45fr);gap:16px;align-items:start;min-height:0;flex:1}.team-select-inline{margin-bottom:16px}.war-room{position:relative;overflow:hidden;background:linear-gradient(160deg,#0e121cf2,#080a0ef2);border:1px solid rgba(241,195,106,.2)}.war-room:before{content:"";position:absolute;inset:0;background:linear-gradient(90deg,rgba(255,255,255,.04) 1px,transparent 1px) 0 0 / 24px 24px,linear-gradient(0deg,rgba(255,255,255,.03) 1px,transparent 1px) 0 0 / 24px 24px;opacity:.35;pointer-events:none}.war-room>*{position:relative;z-index:1}.team-select-split{display:grid;grid-template-columns:1.2fr .8fr;gap:18px;align-items:start;min-height:0;flex:1;height:100%}.team-select-roster-panel{min-height:0;display:flex;flex-direction:column;flex:1;overflow:hidden;height:100%}.team-select-team-panel{overflow-y:auto;padding-right:4px}.team-select-team-panel{display:flex;flex-direction:column;gap:14px}.team-select-panel h3{color:#fff;margin-bottom:14px}.ready-state{margin-top:14px;padding:12px 16px;border-radius:14px;background:#ffffff0f;border:1px solid rgba(255,255,255,.1);color:var(--text-dim);font-size:.9rem;font-weight:600;text-align:center;transition:all .3s ease}.ready-state.ready{background:linear-gradient(135deg,#62c18940,#62c18926);border-color:#62c18980;color:#b7f0cb;animation:ready-pulse 2s ease-in-out infinite}@keyframes ready-pulse{0%,to{box-shadow:0 0 #62c18900}50%{box-shadow:0 0 20px #62c1894d}}.team-select-tips{background:#080a0ecc;border:1px solid var(--line);border-radius:16px;padding:16px;color:var(--text-dim)}.team-select-tips h4{color:var(--accent);margin-bottom:8px}.team-select-tips ul{list-style:none;display:flex;flex-direction:column;gap:8px}.team-select-tips li:before{content:"";color:var(--accent);margin-right:6px}.preset-grid{display:flex;flex-direction:column;gap:10px}.preset-card{display:flex;justify-content:space-between;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.12)}.preset-name{font-size:.85rem;color:#fff}.preset-actions{display:flex;gap:8px}.preset-btn{background:#00000059;border:1px solid rgba(255,255,255,.2);color:#e7eaf0;padding:6px 10px;border-radius:10px;cursor:pointer;font-size:.75rem;transition:transform .15s ease,box-shadow .2s ease}.preset-btn.ghost{color:var(--accent);border-style:dashed}.preset-btn:disabled{opacity:.5;cursor:not-allowed}.preset-btn:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 6px 12px #00000059}.team-select-container h1{font-size:2.4rem;color:var(--accent-strong);letter-spacing:4px;margin-bottom:10px}.team-select-container h2{color:var(--accent);margin-bottom:5px}.select-instructions{color:var(--text-dim);margin-bottom:20px}.selected-preview{display:flex;gap:15px;margin-bottom:12px}.war-room .selected-preview{padding:10px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.08)}.preview-slot{width:120px;height:120px;border:2px dashed rgba(255,255,255,.25);border-radius:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;transition:all .25s cubic-bezier(.4,0,.2,1);padding:10px;position:relative;background:#0003;cursor:pointer}.preview-slot:hover{border-color:#fff6;background:#0000004d}.preview-slot.filled{border:2px solid rgba(215,179,106,.7);background:linear-gradient(135deg,#d7b36a1f,#d7b36a0d);cursor:pointer}.preview-slot.filled:hover{transform:scale(1.05);box-shadow:0 8px 24px #d7b36a4d}.preview-slot.drag-over{border-color:#f1c36ae6;border-style:solid;box-shadow:0 0 20px #f1c36a66;background:#f1c36a26;transform:scale(1.05)}.preview-slot.filled.rarity-ur{border-color:#f6d08acc;box-shadow:0 0 20px #f6d08a66}.preview-slot.filled.rarity-ssr{border-color:#58c1d8b3;box-shadow:0 0 18px #58c1d859}.preview-slot.filled.rarity-sr{border-color:#6c7d9199;box-shadow:0 0 14px #6c7d914d}.preview-name{font-weight:700;font-size:1rem}.preview-rarity{padding:2px 8px;border-radius:4px;font-size:.7rem;font-weight:700;color:#fff}.preview-empty{color:#a7b0bf99;font-size:.8rem;font-weight:500}.preview-empty-content{display:flex;flex-direction:column;align-items:center;gap:4px}.preview-empty-icon{font-size:2rem;opacity:.4}.character-roster{display:grid;grid-template-columns:repeat(auto-fit,minmax(84px,1fr));gap:15px;max-width:1000px;width:100%;margin-bottom:30px}.roster-card{background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:6px;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.roster-card:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.05),transparent);opacity:0;transition:opacity .25s ease;pointer-events:none}.roster-card:hover:before{opacity:1}.roster-card:hover{background:var(--panel-strong);transform:translateY(-4px) scale(1.02);box-shadow:0 12px 32px #0006}.roster-card.selected{border-color:#62c189cc;background:#62c1891a;box-shadow:0 0 20px #62c1894d}.roster-card.selected:after{content:"";position:absolute;inset:0;border-radius:14px;border:2px solid rgba(98,193,137,.4);pointer-events:none}.roster-card.rarity-ur{border-color:#f6d08a99;box-shadow:0 0 18px #f6d08a26}.roster-card.rarity-ssr{border-color:#58c1d880;box-shadow:0 0 14px #58c1d81f}.roster-card.rarity-sr{border-color:#6c7d9180}.roster-card.rarity-ur:hover{box-shadow:0 12px 36px #f6d08a59;border-color:#f6d08acc}.roster-card.rarity-ssr:hover{box-shadow:0 12px 32px #58c1d84d;border-color:#58c1d8b3}.roster-card.focused{border-color:#f1c36acc;box-shadow:0 0 20px #f1c36a4d;transform:scale(1.03)}.roster-card h3{margin:25px 0 10px;font-size:1.2rem}.roster-rarity{position:absolute;top:10px;right:10px;padding:2px 8px;border-radius:4px;font-size:.7rem;font-weight:700;color:#fff}.roster-stats{display:flex;gap:15px;margin-bottom:10px;font-size:.9rem}.roster-passive{color:var(--accent);font-size:.85rem;margin-bottom:4px}.roster-passive-desc{color:var(--text-dim);font-size:.75rem}.selected-checkmark{position:absolute;top:8px;left:8px;width:28px;height:28px;background:linear-gradient(135deg,#62c189,#3f9d73);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem;color:#fff;box-shadow:0 4px 12px #62c18980;z-index:10;animation:checkmark-pop .3s cubic-bezier(.68,-.55,.265,1.55)}@keyframes checkmark-pop{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}button{font-family:inherit;-webkit-user-select:none;user-select:none}button:not(:disabled){cursor:pointer}button:disabled{cursor:not-allowed}.loading-spinner{display:inline-block;width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:var(--accent);border-radius:50%;animation:spinner-rotate .8s linear infinite}@keyframes spinner-rotate{to{transform:rotate(360deg)}}.start-battle-btn{background:linear-gradient(135deg,#62c189,#3f9d73);color:#fff;border:none;padding:16px 32px;font-size:1.1rem;font-weight:800;letter-spacing:1px;text-transform:uppercase;border-radius:14px;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1);width:100%;box-shadow:0 6px 20px #62c1894d;position:relative;overflow:hidden}.start-battle-btn:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#fff3;transform:translate(-50%,-50%);transition:width .6s,height .6s}.start-battle-btn:hover:not(:disabled):before{width:400px;height:400px}.start-battle-btn:hover:not(:disabled){transform:translateY(-2px) scale(1.02);box-shadow:0 10px 32px #62c18973}.start-battle-btn:disabled{background:#555;cursor:not-allowed;opacity:.7}.story-container{width:100%;max-width:1200px;margin:0 auto;padding:24px;display:flex;flex-direction:column;gap:18px;color:#e7eaf0;min-height:0;height:100%;position:relative;background:radial-gradient(circle at 20% 20%,rgba(241,195,106,.08),transparent 45%),radial-gradient(circle at 80% 30%,rgba(88,193,216,.08),transparent 50%);border-radius:18px}.story-container:before{content:"";position:absolute;inset:0;border-radius:18px;border:1px solid rgba(241,195,106,.12);pointer-events:none}.story-header{display:flex;justify-content:space-between;align-items:flex-end;gap:16px}.story-header h1{font-size:2.2rem;color:var(--accent-strong);margin-bottom:6px;letter-spacing:3px;text-transform:uppercase}.story-header h1:after{content:"";display:block;width:140px;height:2px;margin-top:8px;background:linear-gradient(90deg,rgba(241,195,106,.8),transparent)}.story-subtitle{color:var(--text-dim);font-size:.9rem}.story-progress{background:#ffffff0f;border:1px solid rgba(255,255,255,.12);padding:10px 14px;border-radius:14px;font-size:.8rem}.story-layout{display:grid;grid-template-columns:minmax(0,.45fr) minmax(0,.55fr);gap:18px;flex:1;min-height:0}.story-map,.story-detail{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:16px;min-height:0;display:flex;flex-direction:column;gap:12px;box-shadow:0 16px 40px #00000059;position:relative;overflow:hidden}.story-map:before,.story-detail:before{content:"";position:absolute;inset:0;background:linear-gradient(140deg,rgba(255,255,255,.04),transparent 40%);pointer-events:none}.story-map-title{font-size:.9rem;letter-spacing:.2em;text-transform:uppercase;color:var(--text-dim)}.story-map-nodes{display:flex;flex-direction:column;gap:10px;overflow:auto;padding-right:4px}.story-node{position:relative;display:grid;grid-template-columns:64px 1fr auto;gap:12px;align-items:center;padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:#ffffff0a;color:#e7eaf0;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.story-node-badge{position:absolute;top:-10px;right:-10px;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.85rem;font-weight:700;color:#06140f;background:linear-gradient(135deg,#2ce8c7,#34e187);box-shadow:0 8px 18px #34e18740}.story-node:after{content:"";position:absolute;inset:0;border-radius:14px;background:linear-gradient(120deg,rgba(241,195,106,.12),transparent 60%);opacity:0;transition:opacity .2s ease;pointer-events:none}.story-node.active{border-color:#f1c36a99;box-shadow:0 0 20px #f1c36a26}.story-node.active:after,.story-node:hover:not(.locked):after{opacity:1}.story-node.completed{border-color:#62c18980;background:#62c1891f;box-shadow:0 0 0 1px #62c18933,0 0 16px #62c1891f}.story-node.locked{opacity:.45;cursor:not-allowed}.story-node:hover:not(.locked){transform:translateY(-2px);box-shadow:0 12px 24px #00000059}.story-node-id{font-weight:700;color:var(--accent-strong)}.story-node-title{font-size:.95rem;font-weight:600}.story-node-type{font-size:.7rem;text-transform:uppercase;letter-spacing:.08em;color:var(--text-dim)}.story-node-type.battle{color:#e07a7a}.story-node-link{position:absolute;left:30px;top:calc(100% - 4px);height:12px;width:2px;background:#fff3}.story-detail-header{display:flex;justify-content:space-between;align-items:flex-start;gap:16px}.story-detail-header h2{margin:0 0 4px;font-size:1.4rem}.story-location{color:var(--text-dim);font-size:.85rem}.story-status{padding:6px 12px;border-radius:999px;font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;background:#ffffff0f}.story-status.completed{background:#62c18933;color:#b7f0cb}.story-status.available{background:#f1c36a2e;color:#f6d08a}.story-status.locked{background:#ffffff0f;color:var(--text-dim)}.story-scroll{display:flex;flex-direction:column;gap:16px;overflow:auto;padding-right:6px;min-height:0;flex:1}.story-scroll::-webkit-scrollbar{width:6px}.story-scroll::-webkit-scrollbar-thumb{background:#f1c36a4d;border-radius:999px}.story-scene{display:flex;flex-direction:column;gap:10px}.story-line{display:grid;grid-template-columns:140px 1fr;gap:12px;font-size:.9rem}.story-speaker{color:var(--accent);font-weight:600}.story-text{color:#d4d8e0;line-height:1.4}.story-system{margin-top:12px;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:#00000073;font-size:.85rem;color:var(--accent-strong)}.story-battle-info{display:grid;gap:6px;padding:12px;border-radius:12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.12);font-size:.85rem}.story-prompts{display:grid;gap:6px;padding:10px 12px;border-radius:12px;background:#f1c36a14;border:1px solid rgba(241,195,106,.2);font-size:.8rem}.story-outro-title{font-size:.8rem;text-transform:uppercase;letter-spacing:.1em;color:var(--text-dim)}.story-actions{display:flex;justify-content:flex-end}.story-result{padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.2);background:#ffffff0d;display:flex;flex-direction:column;gap:6px}.story-result.win{border-color:#62c18980;background:#62c1891f}.story-result.lose{border-color:#e07a7a80;background:#e07a7a1f}.story-footer{display:grid;grid-template-columns:1fr .8fr;gap:18px}.story-rewards,.story-preview{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:16px;box-shadow:0 12px 30px #00000059}.story-reward-grid{display:grid;gap:10px}.story-reward-card{padding:10px 12px;border-radius:12px;background:#ffffff0f;border:1px solid rgba(255,255,255,.12);font-size:.85rem}.story-preview-line{color:var(--text-dim);font-size:.85rem;margin-bottom:8px}@media(max-width:960px){.story-layout,.story-footer{grid-template-columns:1fr}}@media(max-width:1200px){.battle-main{grid-template-columns:1fr;align-items:center;overflow-y:auto}.team-container{max-width:100%;width:100%}.character-row,.enemy-side .character-row{flex-direction:row!important}.battle-center{order:-1;width:100%;max-width:400px}.team-container{max-height:none}.portrait-container{min-width:120px}.ability-card{width:76px;height:94px}.portrait-hp-bar,.portrait-mana-bar{width:110px}}.portrait-image-container{width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;border-radius:7px}.portrait-image-container.portrait-small{width:50px;height:50px}.portrait-img{width:100%;height:100%;object-fit:cover}.portrait-placeholder{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(255,255,255,.08) 0%,transparent 50%),linear-gradient(135deg,#253041,#1a2230)}.portrait-initial{font-size:1.8rem;font-weight:700;color:#ffffffd9;text-shadow:2px 2px 4px rgba(0,0,0,.5);line-height:1}.portrait-name-small{font-size:.6rem;color:#fff9;text-transform:lowercase;margin-top:2px}.ability-icon-container{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative}.ability-icon-container.ultimate{background:linear-gradient(135deg,rgba(215,179,106,.18),transparent)}.ability-img{width:100%;height:100%;object-fit:cover;border-radius:4px}.ability-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(255,255,255,.08),transparent)}.ability-initial{font-size:.85rem;font-weight:700;color:#ffffffd9;text-transform:uppercase}.ultimate-star{position:absolute;top:2px;right:2px;font-size:.6rem;color:var(--accent);text-shadow:0 0 5px rgba(215,179,106,.6)}.select-portrait{width:80px;height:80px;border-radius:10px;overflow:hidden;background:linear-gradient(135deg,#253041,#1a2230)}.select-portrait.small{width:44px;height:44px;border-radius:8px}.select-portrait.mini{width:40px;height:40px;border-radius:8px}.select-portrait-img{width:100%;height:100%;object-fit:cover}.select-portrait-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(255,255,255,.08),transparent),linear-gradient(135deg,#253041,#1a2230)}.select-portrait-initial{font-size:2rem;font-weight:700;color:#ffffffd9;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.select-portrait.small .select-portrait-initial{font-size:1.2rem}.select-portrait.mini .select-portrait-initial{font-size:.95rem}.roster-card{background:var(--panel);border:1px solid var(--line);border-radius:12px;padding:15px;cursor:pointer;transition:all .2s ease;display:flex;gap:15px;align-items:flex-start;position:relative;overflow:hidden}.roster-card:hover{background:var(--panel-strong);transform:translateY(-3px);box-shadow:0 10px 30px #0000004d}.roster-card:after{content:"";position:absolute;inset:0;background:linear-gradient(120deg,transparent 20%,rgba(255,255,255,.1) 45%,transparent 70%);transform:translate(-120%);transition:transform .6s ease;pointer-events:none}.roster-card:hover:after{transform:translate(120%)}.roster-card.selected{border-color:#62c189cc;background:#62c1891f}.roster-portrait-container{position:relative;flex-shrink:0}.roster-portrait-container .roster-rarity{position:absolute;top:-5px;right:-5px;padding:2px 6px;border-radius:4px;font-size:.6rem;font-weight:700;color:#fff}.roster-portrait-container .selected-checkmark{position:absolute;top:-5px;left:-5px;width:22px;height:22px;background:#62c189;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.8rem;color:#fff;box-shadow:0 2px 8px #62c18980}.roster-info{flex:1}.roster-info h3{margin:0 0 8px;font-size:1.1rem}.roster-xp{display:flex;flex-direction:column;gap:4px;margin-bottom:8px;font-size:.7rem;color:var(--text-dim)}.roster-xp-bar{height:6px;background:#ffffff1f;border-radius:999px;overflow:hidden}.roster-xp-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6)}.roster-stats{display:flex;gap:12px;margin-bottom:8px;font-size:.85rem}.roster-passive{color:var(--accent);font-size:.8rem;margin-bottom:3px}.roster-passive-desc{color:var(--text-dim);font-size:.7rem;line-height:1.3}.preview-slot{width:130px;height:100px;border:1px dashed rgba(255,255,255,.25);border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:5px;transition:all .2s ease;padding:10px}.preview-slot.drag-over{border-color:#f1c36acc;box-shadow:0 0 16px #f1c36a4d}.preview-slot.filled{border:1px solid rgba(215,179,106,.7);background:#d7b36a14;border-style:solid}.preview-empty-content{display:flex;flex-direction:column;align-items:center;gap:5px}.preview-empty-icon{font-size:1.5rem;color:#767f8f}.preview-empty{color:#767f8f;font-size:.8rem;font-style:italic}.preview-name{font-weight:700;font-size:.85rem;margin-top:3px}.preview-rarity{padding:2px 8px;border-radius:4px;font-size:.65rem;font-weight:700;color:#fff}.character-roster{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:15px;max-width:1200px;width:100%;margin-bottom:30px}.inventory-grid{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.inventory-tabs{display:flex;gap:12px;margin:16px 0}.inventory-tab{background:#ffffff0f;border:1px solid rgba(255,255,255,.12);color:#e6edf7;border-radius:999px;padding:8px 18px;font-weight:600;text-transform:capitalize;transition:background .2s ease,border-color .2s ease,transform .2s ease}.inventory-tab.active{background:linear-gradient(135deg,#f1c36a4d,#f1c36a0d);border-color:#f1c36a99;color:#f7e7bf;transform:translateY(-1px)}.inventory-toolbar{display:flex;flex-wrap:wrap;gap:12px;margin:8px 0 18px;align-items:center}.inventory-search{flex:1;min-width:200px;padding:10px 12px;border-radius:10px;background:#0c0f16d9;border:1px solid rgba(255,255,255,.12);color:#e6edf7}.inventory-select{padding:9px 12px;border-radius:10px;background:#0c0f16d9;border:1px solid rgba(255,255,255,.12);color:#e6edf7}.inventory-card{display:flex;gap:16px;align-items:center;padding:16px;background:#0c0f16d9;border:1px solid rgba(255,255,255,.08);border-radius:14px;box-shadow:0 10px 20px #00000059;transition:transform .2s ease,box-shadow .2s ease}.inventory-card.locked{opacity:.6;border-color:#ffffff0d}.inventory-card.locked .mission-claim{opacity:.5}.inventory-card:hover{transform:translateY(-2px);box-shadow:0 14px 26px #0006}.inventory-portrait{width:72px;height:72px;border-radius:12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.12);display:flex;align-items:center;justify-content:center;overflow:hidden}.inventory-portrait img{width:100%;height:100%;object-fit:cover}.inventory-info{display:flex;flex-direction:column;gap:8px;flex:1}.inventory-info h4{font-size:1rem;letter-spacing:.5px}.inventory-stats{display:flex;gap:12px;font-size:.85rem;color:var(--text-dim)}.inventory-shards{font-size:.85rem;color:var(--accent-strong)}.inventory-extras{grid-template-columns:repeat(auto-fit,minmax(240px,1fr));margin-top:18px}.inventory-section{background:#0c0f16b3;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:16px}.inventory-section h2{margin:0 0 12px;font-size:1rem;color:#f2d28a}.inventory-item-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px}.inventory-item-card{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:10px 12px;display:flex;flex-direction:column;gap:6px;text-transform:capitalize}.inventory-item-card.active{border-color:#f1c36a99;box-shadow:0 0 12px #f1c36a33}.inventory-empty{color:var(--text-dim);font-size:.85rem}.admin-panel{background:#0c0f16b3;border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:18px;color:#dfe6f3;max-height:calc(100vh - 140px);overflow:auto}.admin-empty{text-align:center;font-size:.95rem}.admin-tabs{display:flex;gap:12px;margin:12px 0 18px;flex-wrap:wrap}.admin-tab{background:#ffffff0f;border:1px solid rgba(255,255,255,.12);color:#e6edf7;border-radius:999px;padding:8px 18px;font-weight:600;text-transform:capitalize;transition:background .2s ease,border-color .2s ease}.admin-tab.active{background:linear-gradient(120deg,#f1c36a59,#f1c36a0d);border-color:#f1c36a99;color:#f7e7bf}.admin-grid{display:grid;grid-template-columns:minmax(220px,320px) minmax(320px,1fr);gap:18px;min-height:0}.admin-list,.admin-detail{background:#0c0f16b3;border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:16px;max-height:72vh;overflow:auto}.admin-list h2,.admin-detail h2{margin:0 0 12px;font-size:1rem;color:#f2d28a}.admin-subsection{margin-top:20px;padding-top:14px;border-top:1px solid rgba(255,255,255,.08)}.admin-subsection h3{margin:0 0 12px;font-size:.95rem;color:#e7f0ff}.admin-select{width:100%;padding:10px 12px;border-radius:10px;background:#0c0f16e6;border:1px solid rgba(255,255,255,.12);color:#e6edf7;margin-bottom:12px}.admin-scroll{display:grid;gap:8px;max-height:320px;overflow:auto;padding-right:4px}.admin-list-item{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:10px 12px;color:#dfe6f3;text-align:left;display:flex;flex-direction:column;gap:4px}.admin-list-item.active{border-color:#f1c36a99;box-shadow:0 0 12px #f1c36a33}.admin-form{display:grid;gap:10px}.admin-form label{display:flex;flex-direction:column;gap:6px;font-size:.85rem}.admin-form input,.admin-form select,.admin-form textarea{background:#0c0f16e6;border:1px solid rgba(255,255,255,.12);color:#e6edf7;border-radius:10px;padding:8px 10px}.admin-form textarea{min-height:70px;resize:vertical}.admin-form .admin-code{font-family:Courier New,Courier,monospace;min-height:120px;white-space:pre}.admin-error{color:#ffb6b6;font-size:.85rem}.admin-form.compact{margin-top:16px}.admin-actions{display:flex;gap:10px}.admin-btn{background:#f1c36a33;border:1px solid rgba(241,195,106,.5);color:#f7e7bf;border-radius:10px;padding:8px 12px;font-weight:600}.admin-btn.danger{background:#ff6b6b33;border-color:#ff6b6b80;color:#ffd5d5}.admin-character-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:8px}.admin-character{display:flex;gap:8px;align-items:center;background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:8px 10px;font-size:.85rem}.admin-character.unlocked{border-color:#62c18999}.admin-toggle{flex-direction:row;align-items:center;gap:10px}@media(max-width:900px){.admin-grid{grid-template-columns:1fr}}.ability-card.queue-slot{cursor:pointer}.ability-cards{align-items:stretch}.error-boundary-screen{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--bg-0) 0%,var(--bg-1) 100%);padding:24px}.error-boundary-panel{background:var(--panel-strong);border:1px solid var(--line);border-radius:16px;padding:48px;max-width:600px;width:100%;text-align:center;box-shadow:0 8px 32px #0006}.error-boundary-icon{font-size:72px;margin-bottom:24px;animation:error-pulse 2s ease-in-out infinite}@keyframes error-pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(1.05)}}.error-boundary-title{font-size:28px;font-weight:700;color:var(--accent);margin-bottom:16px}.error-boundary-message{font-size:16px;color:var(--text-dim);margin-bottom:32px;line-height:1.6}.error-boundary-details{margin:24px 0;text-align:left}.error-boundary-details summary{cursor:pointer;color:var(--accent-cool);font-weight:600;padding:8px;border-radius:4px;transition:background var(--transition-fast) var(--transition-ease)}.error-boundary-details summary:hover{background:#58c1d81a}.error-boundary-stack{background:var(--bg-0);border:1px solid var(--line);border-radius:8px;padding:16px;margin-top:12px;overflow-x:auto;font-size:12px;font-family:Monaco,Menlo,Courier New,monospace;color:#e7eaf0;max-height:300px;overflow-y:auto;white-space:pre-wrap;word-break:break-word}.error-boundary-actions{display:flex;gap:12px;justify-content:center;margin-top:24px}.error-boundary-btn{padding:12px 32px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all var(--transition-fast) var(--transition-ease)}.error-boundary-btn.primary{background:var(--accent);color:var(--bg-0)}.error-boundary-btn.primary:hover{background:var(--accent-strong);transform:translateY(-2px);box-shadow:0 4px 12px #f1c36a4d}.error-boundary-btn.secondary{background:transparent;color:var(--text-dim);border:1px solid var(--line)}.error-boundary-btn.secondary:hover{background:#ffffff0d;border-color:var(--accent);color:var(--accent)}.error-boundary-warning{margin-top:32px;padding:16px;background:#e06c751a;border:1px solid var(--danger);border-radius:8px;text-align:left}.error-boundary-warning p{color:var(--danger);font-weight:600;margin-bottom:12px}.error-boundary-warning ul{list-style:none;padding-left:0}.error-boundary-warning li{color:var(--text-dim);padding:4px 0 4px 24px;position:relative}.error-boundary-warning li:before{content:"";position:absolute;left:8px;color:var(--danger)}.gacha-pulling{display:flex;flex-direction:column;align-items:center;gap:16px;padding:32px;margin-top:24px;background:#58c1d80d;border:2px dashed rgba(88,193,216,.3);border-radius:12px}.gacha-spinner{width:48px;height:48px;border:4px solid rgba(88,193,216,.2);border-top-color:var(--accent-cool);border-radius:50%;animation:gacha-spin 1s linear infinite}@keyframes gacha-spin{to{transform:rotate(360deg)}}.gacha-pulling span{color:var(--accent-cool);font-weight:600;font-size:16px}.gacha-result{margin-top:24px;background:linear-gradient(145deg,#f1c36a26,#f1c36a0d);border:2px solid var(--accent);border-radius:16px;padding:24px;opacity:0;transform:scale(.9) translateY(10px);transition:all .4s cubic-bezier(.34,1.56,.64,1)}.gacha-result.show{opacity:1;transform:scale(1) translateY(0)}.gacha-result-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.gacha-result-header strong{color:var(--accent);font-size:18px;text-transform:uppercase;letter-spacing:.5px}.gacha-result-close{background:transparent;border:none;color:var(--text-dim);font-size:32px;line-height:1;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;transition:all var(--transition-fast) var(--transition-ease)}.gacha-result-close:hover{color:var(--accent);transform:rotate(90deg)}.gacha-result-content{display:flex;flex-direction:column;gap:12px}.gacha-result-item{display:flex;flex-direction:column;gap:8px;align-items:center;padding:20px;background:var(--bg-0);border-radius:12px}.gacha-result-rarity{color:var(--accent-strong);font-weight:700;font-size:14px;text-transform:uppercase;letter-spacing:1px;animation:gacha-glow 2s ease-in-out infinite}@keyframes gacha-glow{0%,to{text-shadow:0 0 10px rgba(241,195,106,.5)}50%{text-shadow:0 0 20px rgba(241,195,106,.8)}}.gacha-result-label{font-size:20px;font-weight:700;color:#e7eaf0;text-align:center}.gacha-result-bonus{color:var(--success);font-size:14px;font-weight:600}.gacha-result-currency{color:var(--accent-cool);font-size:14px;font-weight:600}.shop-card{transition:all var(--transition-normal) var(--transition-ease)}.shop-card.purchased{background:linear-gradient(145deg,#62c18926,#62c1890d);border-color:var(--success);animation:shop-purchase-success .6s ease-out}@keyframes shop-purchase-success{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.shop-reward{display:flex;flex-direction:column;gap:6px;margin:12px 0;padding:12px;background:#58c1d814;border-radius:8px}.shop-reward-item{color:var(--accent-cool);font-weight:600;font-size:14px}.shop-cost{display:flex;gap:12px;margin:12px 0}.shop-cost span{padding:6px 12px;background:#ffffff0d;border-radius:6px;font-size:13px;font-weight:600;transition:all var(--transition-fast) var(--transition-ease)}.shop-cost span.insufficient{color:var(--danger);background:#e06c751a}.mission-claim.success{background:var(--success);color:var(--bg-0);pointer-events:none}.mission-claim:disabled{opacity:.5;cursor:not-allowed}.gacha-page{min-height:100vh;background:linear-gradient(135deg,#0a0c12,#141823,#1a1f2e);padding:24px}.gacha-header{display:flex;align-items:center;gap:24px;margin-bottom:32px}.gacha-back{display:flex;align-items:center;gap:8px;padding:12px 20px;background:var(--panel);border:1px solid var(--line);border-radius:12px;color:var(--text-dim);font-weight:600;cursor:pointer;transition:all var(--transition-fast) var(--transition-ease)}.gacha-back:hover{background:var(--panel-strong);border-color:var(--accent);color:var(--accent);transform:translate(-4px)}.gacha-title{flex:1;display:flex;justify-content:space-between;align-items:center}.gacha-title h1{font-size:36px;font-weight:700;background:linear-gradient(135deg,var(--accent) 0%,var(--accent-cool) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.gacha-currency-display{display:flex;gap:16px}.currency-badge{display:flex;align-items:center;gap:8px;padding:10px 16px;background:var(--panel-strong);border:2px solid var(--line);border-radius:12px;transition:all var(--transition-fast) var(--transition-ease)}.currency-badge:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}.currency-badge.premium{border-color:#58c1d866;background:linear-gradient(135deg,#58c1d81a,#58c1d80d)}.currency-badge.fragment{border-color:#f1c36a66;background:linear-gradient(135deg,#f1c36a1a,#f1c36a0d)}.currency-badge.soft{border-color:#62c18966;background:linear-gradient(135deg,#62c1891a,#62c1890d)}.currency-icon{font-size:20px}.currency-amount{font-size:18px;font-weight:700;color:#e7eaf0}.gacha-container{display:grid;grid-template-columns:1fr 320px;gap:24px;max-width:1400px;margin:0 auto}.gacha-main{min-height:600px}.banner-showcase{background:var(--panel-strong);border:2px solid var(--line);border-radius:20px;overflow:hidden;position:relative}.banner-art{position:relative;padding:48px;background:linear-gradient(135deg,#58c1d81a,#f1c36a1a);min-height:280px;display:flex;align-items:center;justify-content:center}.banner-glow{position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(88,193,216,.15) 0%,transparent 70%);animation:banner-glow-pulse 4s ease-in-out infinite}@keyframes banner-glow-pulse{0%,to{opacity:.5;transform:scale(1)}50%{opacity:.8;transform:scale(1.1)}}.banner-content{position:relative;z-index:1;text-align:center}.banner-content h2{font-size:32px;font-weight:700;color:var(--accent);margin-bottom:12px;text-shadow:0 2px 12px rgba(241,195,106,.5)}.banner-content p{font-size:16px;color:var(--text-dim);max-width:500px;margin:0 auto}.banner-empty{text-align:center;padding:80px 40px}.empty-icon{font-size:64px;margin-bottom:16px;opacity:.5}.banner-empty p{font-size:18px;font-weight:600;color:#e7eaf0;margin-bottom:8px}.banner-empty span{font-size:14px;color:var(--text-dim)}.pull-actions{display:grid;grid-template-columns:1fr 1fr;gap:16px;padding:24px}.pull-button{position:relative;padding:24px;background:linear-gradient(145deg,var(--panel-strong) 0%,var(--panel) 100%);border:2px solid var(--line);border-radius:16px;cursor:pointer;transition:all var(--transition-normal) var(--transition-ease);overflow:hidden}.pull-button:hover:not(:disabled){transform:translateY(-4px);box-shadow:0 8px 24px #0006;border-color:var(--accent)}.pull-button.primary{border-color:#58c1d880}.pull-button.primary:hover:not(:disabled){border-color:var(--accent-cool);box-shadow:0 8px 24px #58c1d866}.pull-button.fragment{border-color:#f1c36a80}.pull-button.fragment:hover:not(:disabled){border-color:var(--accent);box-shadow:0 8px 24px #f1c36a66}.pull-button.pulling{animation:pull-button-pulse 1.5s ease-in-out infinite}@keyframes pull-button-pulse{0%,to{opacity:1}50%{opacity:.7}}.pull-button:disabled{cursor:not-allowed;opacity:.5}.pull-button-content{display:flex;align-items:center;gap:16px}.pull-icon{font-size:32px}.pull-text{display:flex;flex-direction:column;gap:4px;text-align:left}.pull-label{font-size:16px;font-weight:700;color:#e7eaf0}.pull-cost{font-size:13px;color:var(--text-dim)}.pull-overlay{position:absolute;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;color:var(--danger)}.summoning-animation{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#000000e6;z-index:10}.summon-circle{position:relative;width:200px;height:200px}.summon-ring{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border:3px solid;border-radius:50%;opacity:.8}.summon-ring.ring-1{width:80%;height:80%;border-color:var(--accent-cool);animation:summon-rotate 2s linear infinite}.summon-ring.ring-2{width:60%;height:60%;border-color:var(--accent);animation:summon-rotate 1.5s linear infinite reverse}.summon-ring.ring-3{width:40%;height:40%;border-color:var(--accent-cool);animation:summon-rotate 1s linear infinite}@keyframes summon-rotate{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}.summon-core{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:20%;height:20%;background:radial-gradient(circle,var(--accent) 0%,transparent 70%);border-radius:50%;animation:summon-pulse 1s ease-in-out infinite}@keyframes summon-pulse{0%,to{opacity:.5;transform:translate(-50%,-50%) scale(1)}50%{opacity:1;transform:translate(-50%,-50%) scale(1.2)}}.summon-text{margin-top:32px;font-size:20px;font-weight:700;color:var(--accent-cool);animation:summon-text-fade 1.5s ease-in-out infinite}@keyframes summon-text-fade{0%,to{opacity:.5}50%{opacity:1}}.summon-result{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:20;opacity:0;transform:scale(.8);transition:all .6s cubic-bezier(.34,1.56,.64,1)}.summon-result.revealed{opacity:1;transform:scale(1)}.result-backdrop{position:absolute;inset:0;background:#000000f2}.result-close{position:absolute;top:20px;right:20px;width:40px;height:40px;background:#ffffff1a;border:none;border-radius:50%;color:#e7eaf0;font-size:24px;cursor:pointer;z-index:1;transition:all var(--transition-fast) var(--transition-ease)}.result-close:hover{background:var(--danger);transform:rotate(90deg)}.result-card{position:relative;background:linear-gradient(145deg,var(--panel-strong) 0%,var(--panel) 100%);border:3px solid var(--accent);border-radius:24px;padding:48px;max-width:400px;text-align:center;box-shadow:0 0 60px #f1c36a99}.result-rarity{margin-bottom:24px}.rarity-stars{font-size:32px;color:var(--accent);margin-bottom:12px;animation:rarity-glow 2s ease-in-out infinite}@keyframes rarity-glow{0%,to{text-shadow:0 0 10px rgba(241,195,106,.6)}50%{text-shadow:0 0 20px rgba(241,195,106,1)}}.rarity-label{font-size:16px;font-weight:700;text-transform:uppercase;letter-spacing:2px;color:var(--accent)}.result-name{font-size:28px;font-weight:700;color:#e7eaf0;margin-bottom:24px}.result-rewards{display:flex;flex-direction:column;gap:8px}.reward-badge{padding:8px 16px;background:#62c18933;border:1px solid var(--success);border-radius:8px;color:var(--success);font-weight:600}.gacha-sidebar{background:var(--panel-strong);border:2px solid var(--line);border-radius:20px;padding:24px;max-height:800px;overflow-y:auto}.drop-rates h3{font-size:20px;font-weight:700;color:var(--accent);margin-bottom:20px}.rates-list{display:flex;flex-direction:column;gap:16px}.rate-item{padding:16px;background:var(--panel);border:1px solid var(--line);border-radius:12px;transition:all var(--transition-fast) var(--transition-ease)}.rate-item:hover{border-color:var(--accent);transform:translate(4px)}.rate-item.rarity-ssr{border-color:#f1c36a80;background:linear-gradient(145deg,rgba(241,195,106,.05) 0%,var(--panel) 100%)}.rate-item.rarity-sr{border-color:#58c1d880;background:linear-gradient(145deg,rgba(88,193,216,.05) 0%,var(--panel) 100%)}.rate-info{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.rate-name{font-size:14px;font-weight:600;color:#e7eaf0}.rate-amount{font-size:12px;color:var(--text-dim)}.rate-bar{height:6px;background:#ffffff1a;border-radius:3px;overflow:hidden;margin-bottom:8px}.rate-fill{height:100%;background:linear-gradient(90deg,var(--accent-cool) 0%,var(--accent) 100%);transition:width .6s cubic-bezier(.4,0,.2,1)}.rate-percent{font-size:13px;font-weight:700;color:var(--accent)}.shop-page{min-height:100vh;background:linear-gradient(135deg,#0a0c12,#141823,#1a1f2e);padding:24px}.shop-header{display:flex;align-items:center;gap:24px;margin-bottom:32px}.shop-back{display:flex;align-items:center;gap:8px;padding:12px 20px;background:var(--panel);border:1px solid var(--line);border-radius:12px;color:var(--text-dim);font-weight:600;cursor:pointer;transition:all var(--transition-fast) var(--transition-ease)}.shop-back:hover{background:var(--panel-strong);border-color:var(--accent);color:var(--accent);transform:translate(-4px)}.shop-title{flex:1;display:flex;justify-content:space-between;align-items:center}.shop-title h1{font-size:36px;font-weight:700;background:linear-gradient(135deg,var(--accent) 0%,var(--success) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.shop-currency-display{display:flex;gap:16px}.shop-container{max-width:1400px;margin:0 auto}.shop-empty-state{text-align:center;padding:120px 40px;background:var(--panel-strong);border:2px solid var(--line);border-radius:24px}.shop-empty-state .empty-icon{font-size:80px;margin-bottom:24px;opacity:.5}.shop-empty-state h2{font-size:28px;font-weight:700;color:#e7eaf0;margin-bottom:12px}.shop-empty-state p{font-size:16px;color:var(--text-dim)}.shop-offers-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:24px}.shop-offer-card{background:var(--panel-strong);border:2px solid var(--line);border-radius:20px;padding:24px;display:flex;flex-direction:column;transition:all var(--transition-normal) var(--transition-ease);position:relative;overflow:hidden}.shop-offer-card:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--accent-cool) 0%,var(--accent) 100%);opacity:0;transition:opacity var(--transition-fast) var(--transition-ease)}.shop-offer-card:hover:before{opacity:1}.shop-offer-card:hover{transform:translateY(-4px);box-shadow:0 12px 32px #0006;border-color:var(--accent)}.shop-offer-card.locked{opacity:.6}.shop-offer-card.just-purchased{border-color:var(--success);box-shadow:0 0 24px #62c1894d;animation:purchase-celebrate .6s ease-out}@keyframes purchase-celebrate{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.offer-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.offer-header h3{font-size:20px;font-weight:700;color:#e7eaf0}.purchased-badge{padding:4px 12px;background:var(--success);border-radius:12px;color:var(--bg-0);font-size:12px;font-weight:700}.offer-body{flex:1;margin-bottom:20px}.offer-description{font-size:14px;color:var(--text-dim);margin-bottom:20px;line-height:1.5}.offer-rewards{background:#58c1d814;border:1px solid rgba(88,193,216,.2);border-radius:12px;padding:16px}.rewards-label{font-size:12px;text-transform:uppercase;letter-spacing:1px;color:var(--accent-cool);font-weight:700;margin-bottom:12px}.rewards-list{display:flex;flex-direction:column;gap:8px}.reward-item{display:flex;align-items:center;gap:8px}.reward-icon{font-size:18px}.reward-text{font-size:14px;font-weight:600;color:#e7eaf0}.offer-footer{border-top:1px solid var(--line);padding-top:20px}.offer-price{display:flex;gap:12px;margin-bottom:16px}.price-tag{flex:1;display:flex;align-items:center;justify-content:center;gap:8px;padding:10px;background:#ffffff0d;border:1px solid var(--line);border-radius:10px;transition:all var(--transition-fast) var(--transition-ease)}.price-tag.soft{border-color:#62c1894d}.price-tag.premium{border-color:#58c1d84d}.price-tag.insufficient{border-color:var(--danger);background:#e06c751a}.price-icon{font-size:16px}.price-value{font-size:15px;font-weight:700;color:#e7eaf0}.offer-buy-button{width:100%;padding:14px;background:linear-gradient(145deg,var(--accent) 0%,var(--accent-strong) 100%);border:none;border-radius:12px;color:var(--bg-0);font-size:16px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;transition:all var(--transition-fast) var(--transition-ease)}.offer-buy-button:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #f1c36a66}.offer-buy-button.purchased{background:linear-gradient(145deg,var(--success) 0%,#4a9d6f 100%);pointer-events:none}.offer-buy-button.disabled{background:#ffffff1a;color:var(--text-dim);cursor:not-allowed}.button-spinner{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:button-spin .8s linear infinite}@keyframes button-spin{to{transform:rotate(360deg)}}@media(max-width:1200px){.gacha-container{grid-template-columns:1fr}.gacha-sidebar{max-height:400px}}@media(max-width:768px){.gacha-title h1,.shop-title h1{font-size:24px}.gacha-currency-display,.shop-currency-display{flex-direction:column;gap:8px}.pull-actions,.shop-offers-grid{grid-template-columns:1fr}}.confirm-overlay{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:10000;animation:fadeIn .2s ease-out}.confirm-dialog{background:var(--panel-strong);border:2px solid var(--line);border-radius:16px;max-width:500px;width:90%;box-shadow:0 20px 60px #00000080;animation:slideUp .3s cubic-bezier(.34,1.56,.64,1)}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.confirm-header{padding:24px 24px 16px;border-bottom:1px solid var(--line);display:flex;justify-content:space-between;align-items:center}.confirm-header h3{margin:0;font-size:20px;color:var(--text)}.confirm-close{background:none;border:none;font-size:32px;color:var(--text-secondary);cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.confirm-close:hover{background:var(--panel);color:var(--text)}.confirm-body{padding:24px}.confirm-message{margin:0;font-size:15px;line-height:1.6;color:var(--text-secondary)}.confirm-details{margin-top:16px;padding:12px;background:var(--panel);border-radius:8px;font-size:13px;color:var(--text-tertiary)}.confirm-actions{padding:16px 24px 24px;display:flex;gap:12px;justify-content:flex-end}.confirm-btn{padding:10px 24px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.confirm-btn.cancel{background:var(--panel);color:var(--text);border:1px solid var(--line)}.confirm-btn.cancel:hover{background:var(--panel-strong);transform:translateY(-1px)}.confirm-btn.primary{background:linear-gradient(145deg,var(--accent) 0%,var(--accent-strong) 100%);color:#0a0c12}.confirm-btn.primary:hover{transform:translateY(-2px);box-shadow:0 4px 12px #f1c36a66}.confirm-btn.danger{background:linear-gradient(145deg,var(--danger) 0%,#c2475a 100%);color:#fff}.confirm-btn.danger:hover{transform:translateY(-2px);box-shadow:0 4px 12px #e06c7566}.toast-container{position:fixed;top:24px;right:24px;z-index:9999;display:flex;flex-direction:column;gap:12px;pointer-events:none}.toast{background:var(--panel-strong);border:2px solid var(--line);border-radius:12px;padding:16px 20px;min-width:300px;max-width:400px;display:flex;align-items:center;gap:12px;box-shadow:0 8px 24px #0000004d;pointer-events:all;animation:toastSlideIn .3s cubic-bezier(.34,1.56,.64,1)}.toast.toast-exit{animation:toastSlideOut .3s ease-out forwards}@keyframes toastSlideIn{0%{opacity:0;transform:translate(100px)}to{opacity:1;transform:translate(0)}}@keyframes toastSlideOut{to{opacity:0;transform:translate(100px)}}.toast-icon{font-size:20px;flex-shrink:0}.toast-success{border-color:var(--success)}.toast-success .toast-icon{color:var(--success)}.toast-error{border-color:var(--danger)}.toast-error .toast-icon{color:var(--danger)}.toast-warning{border-color:var(--accent)}.toast-warning .toast-icon{color:var(--accent)}.toast-info{border-color:var(--accent-cool)}.toast-info .toast-icon{color:var(--accent-cool)}.toast-message{flex:1;font-size:14px;color:var(--text)}.toast-close{background:none;border:none;font-size:24px;color:var(--text-secondary);cursor:pointer;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s;flex-shrink:0}.toast-close:hover{background:var(--panel);color:var(--text)}.admin-panel-wrapper{display:flex;min-height:100vh;background:linear-gradient(135deg,#0a0c12,#141823,#1a1f2e)}.admin-sidebar{width:260px;background:var(--panel-strong);border-right:2px solid var(--line);display:flex;flex-direction:column;position:sticky;top:0;height:100vh}.admin-sidebar-header{padding:24px 20px;border-bottom:2px solid var(--line)}.admin-sidebar-header h2{margin:0;font-size:20px;background:linear-gradient(135deg,var(--accent-cool) 0%,var(--accent) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.admin-nav{flex:1;padding:12px;overflow-y:auto}.admin-nav-item{width:100%;background:none;border:none;padding:14px 16px;display:flex;align-items:center;gap:12px;color:var(--text-secondary);font-size:15px;font-weight:500;cursor:pointer;border-radius:10px;transition:all var(--transition-fast);margin-bottom:4px;text-align:left}.admin-nav-item:hover{background:var(--panel);color:var(--text)}.admin-nav-item.active{background:linear-gradient(135deg,#58c1d826,#f1c36a26);color:var(--text);border:1px solid rgba(88,193,216,.3)}.nav-icon{font-size:20px}.nav-label{flex:1}.admin-sidebar-back{padding:16px 20px;border-top:2px solid var(--line);background:none;border-left:none;border-right:none;border-bottom:none;color:var(--text-secondary);font-size:14px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all var(--transition-fast)}.admin-sidebar-back:hover{background:var(--panel);color:var(--text)}.admin-content{flex:1;padding:32px;overflow-y:auto}.admin-content-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;gap:24px}.admin-content-header h1{margin:0;font-size:32px;color:var(--text)}.admin-search{position:relative;width:300px}.admin-search-input{width:100%;padding:12px 40px 12px 16px;background:var(--panel-strong);border:2px solid var(--line);border-radius:12px;color:var(--text);font-size:14px;transition:all var(--transition-fast)}.admin-search-input:focus{outline:none;border-color:var(--accent-cool);box-shadow:0 0 0 3px #58c1d81a}.admin-search-input::placeholder{color:var(--text-tertiary)}.admin-search-clear{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:var(--panel);border:none;width:28px;height:28px;border-radius:6px;color:var(--text-secondary);font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--transition-fast)}.admin-search-clear:hover{background:var(--danger);color:#fff}.admin-layout{display:grid;grid-template-columns:350px 1fr;gap:24px;align-items:start}.admin-panel-list{background:var(--panel-strong);border:2px solid var(--line);border-radius:16px;padding:20px;position:sticky;top:32px}.admin-panel-list-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.admin-panel-list-header h3{margin:0;font-size:16px;color:var(--text)}.item-count{background:var(--panel);padding:4px 10px;border-radius:12px;font-size:12px;color:var(--text-secondary);font-weight:600}.admin-panel-list-items{max-height:500px;overflow-y:auto;margin-bottom:16px}.admin-card-item{width:100%;background:var(--panel);border:2px solid var(--line);border-radius:12px;padding:14px 16px;margin-bottom:8px;cursor:pointer;transition:all var(--transition-fast);text-align:left}.admin-card-item:hover{background:var(--panel-strong);border-color:var(--accent-cool);transform:translate(4px)}.admin-card-item.active{background:linear-gradient(135deg,#58c1d81a,#f1c36a1a);border-color:var(--accent-cool)}.item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;gap:8px}.item-header strong{flex:1;font-size:14px;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.item-meta{display:flex;gap:8px;align-items:center;font-size:12px;color:var(--text-tertiary)}.badge{padding:4px 10px;border-radius:6px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;white-space:nowrap}.badge-admin{background:linear-gradient(145deg,var(--accent) 0%,var(--accent-strong) 100%);color:#0a0c12}.badge-player{background:var(--panel-strong);color:var(--text-secondary);border:1px solid var(--line)}.badge-success{background:#6ac87033;color:var(--success);border:1px solid var(--success)}.badge-inactive{background:var(--panel);color:var(--text-tertiary);border:1px solid var(--line)}.badge-daily{background:#58c1d833;color:var(--accent-cool);border:1px solid var(--accent-cool)}.badge-weekly{background:#f1c36a33;color:var(--accent);border:1px solid var(--accent)}.badge-limited{background:#e06c7533;color:var(--danger);border:1px solid var(--danger)}.rarity-ur{background:linear-gradient(145deg,#ff6b9d,#c06c84);color:#fff}.rarity-ssr{background:linear-gradient(145deg,#f1c36a,#d4a253);color:#0a0c12}.rarity-sr{background:linear-gradient(145deg,#58c1d8,#4a9fb0);color:#0a0c12}.rarity-r{background:linear-gradient(145deg,#6ac870,#5aab5f);color:#0a0c12}.admin-panel-detail{background:var(--panel-strong);border:2px solid var(--line);border-radius:16px;padding:24px}.admin-detail-header{margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid var(--line)}.admin-detail-header h2{margin:0;font-size:24px;color:var(--text)}.admin-empty-state{padding:60px 20px;text-align:center}.admin-empty-state p{margin:0;color:var(--text-tertiary);font-size:15px}.collapsible-section{margin-bottom:20px;border:2px solid var(--line);border-radius:12px;overflow:hidden;background:var(--panel)}.collapsible-header{width:100%;background:none;border:none;padding:16px 20px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:all var(--transition-fast);text-align:left}.collapsible-header:hover{background:var(--panel-strong)}.collapsible-section.open .collapsible-header{background:var(--panel-strong);border-bottom:1px solid var(--line)}.collapsible-title{font-size:16px;font-weight:600;color:var(--text);display:flex;align-items:center;gap:10px}.section-badge{background:var(--accent-cool);color:#0a0c12;padding:2px 8px;border-radius:10px;font-size:12px;font-weight:700}.collapsible-icon{font-size:12px;color:var(--text-secondary);transition:transform .2s}.collapsible-section.open .collapsible-icon{transform:rotate(0)}.collapsible-content{padding:20px}.admin-form{display:flex;flex-direction:column;gap:16px}.form-field{display:flex;flex-direction:column;gap:8px}.field-label{font-size:13px;font-weight:600;color:var(--text);display:flex;align-items:center;gap:6px}.field-label.required:after{content:"*";color:var(--danger);margin-left:2px}.form-input,.form-textarea{width:100%;padding:12px;background:var(--panel-strong);border:2px solid var(--line);border-radius:8px;color:var(--text);font-size:14px;font-family:inherit;transition:all var(--transition-fast)}.form-input:focus,.form-textarea:focus{outline:none;border-color:var(--accent-cool);box-shadow:0 0 0 3px #58c1d81a}.form-textarea{min-height:80px;resize:vertical}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px}.checkbox-field{display:flex;align-items:center;gap:10px}.checkbox-field input[type=checkbox]{width:20px;height:20px;cursor:pointer}.tooltip-wrapper{position:relative;display:inline-flex}.help-icon{display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;border-radius:50%;background:var(--panel);border:1px solid var(--line);font-size:11px;color:var(--text-secondary);cursor:help}.tooltip-bubble{position:absolute;bottom:100%;left:50%;transform:translate(-50%);margin-bottom:8px;padding:8px 12px;background:var(--panel-strong);border:1px solid var(--line);border-radius:6px;font-size:12px;color:var(--text);white-space:nowrap;z-index:100;box-shadow:0 4px 12px #0000004d;pointer-events:none;animation:fadeIn .2s ease-out}.tooltip-bubble:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:6px solid transparent;border-top-color:var(--panel-strong)}.image-preview{width:100%;height:180px;border:2px solid var(--line);border-radius:8px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:var(--panel)}.image-preview.empty{color:var(--text-tertiary);font-size:13px}.image-preview img{width:100%;height:100%;object-fit:contain}.image-loading,.image-error{font-size:13px;color:var(--text-tertiary)}.image-error{color:var(--danger)}.btn-primary,.btn-secondary,.btn-danger{padding:12px 24px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.btn-primary{background:linear-gradient(145deg,var(--accent) 0%,var(--accent-strong) 100%);color:#0a0c12}.btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 16px #f1c36a66}.btn-secondary{background:var(--panel);color:var(--text);border:2px solid var(--line)}.btn-secondary:hover{background:var(--panel-strong);border-color:var(--accent-cool);transform:translateY(-1px)}.btn-danger{background:linear-gradient(145deg,var(--danger) 0%,#c2475a 100%);color:#fff}.btn-danger:hover{transform:translateY(-2px);box-shadow:0 6px 16px #e06c7566}.btn-block{width:100%}.form-actions{display:flex;gap:12px;margin-top:8px}.character-unlock-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px}.unlock-card{background:var(--panel);border:2px solid var(--line);border-radius:10px;padding:12px;cursor:pointer;transition:all var(--transition-fast);display:flex;flex-direction:column;gap:8px}.unlock-card:hover{background:var(--panel-strong);border-color:var(--accent-cool)}.unlock-card.unlocked{border-color:var(--success);background:#6ac8701a}.unlock-card.locked{opacity:.6}.unlock-card input[type=checkbox]{width:18px;height:18px;cursor:pointer}.unlock-name{font-size:13px;font-weight:600;color:var(--text)}.unlock-rarity{font-size:11px;font-weight:600;padding:3px 8px;border-radius:5px;align-self:flex-start}.subsection-list{max-height:300px;overflow-y:auto;margin-bottom:16px}.subsection-item{width:100%;background:var(--panel);border:1px solid var(--line);border-radius:8px;padding:12px;margin-bottom:6px;cursor:pointer;transition:all var(--transition-fast);text-align:left}.subsection-item:hover{background:var(--panel-strong);border-color:var(--accent-cool)}.subsection-item.active{background:#58c1d81a;border-color:var(--accent-cool)}.subsection-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.subsection-item-header strong{font-size:13px;color:var(--text)}.subsection-badge{padding:3px 8px;border-radius:5px;font-size:11px;font-weight:600;background:var(--panel-strong);color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.subsection-item-meta{font-size:12px;color:var(--text-tertiary)}@media(max-width:1200px){.admin-layout{grid-template-columns:300px 1fr}}@media(max-width:900px){.admin-panel-wrapper{flex-direction:column}.admin-sidebar{width:100%;height:auto;position:static;border-right:none;border-bottom:2px solid var(--line)}.admin-nav{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));padding:12px}.admin-content{padding:20px}.admin-layout{grid-template-columns:1fr}.admin-panel-list{position:static}.admin-content-header{flex-direction:column;align-items:flex-start}.admin-search{width:100%}.form-row{grid-template-columns:1fr}.character-unlock-grid{grid-template-columns:repeat(auto-fill,minmax(120px,1fr))}}@media(max-width:600px){.admin-nav{grid-template-columns:1fr}.admin-content{padding:16px}.toast-container{top:16px;right:16px;left:16px}.toast{min-width:0}}.daily-rewards-page{max-width:900px;margin:0 auto;padding:20px}.daily-rewards-header{display:flex;align-items:center;gap:20px;margin-bottom:30px}.daily-rewards-back{padding:10px 20px;background:var(--bg-tertiary);border:1px solid var(--line);border-radius:8px;color:var(--text-primary);cursor:pointer;font-size:14px;transition:all .2s}.daily-rewards-back:hover{background:var(--bg-secondary);transform:translate(-3px)}.daily-rewards-header h1{margin:0;font-size:32px;color:var(--text-primary)}.daily-rewards-container{display:flex;flex-direction:column;gap:24px}.daily-rewards-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.stat-card{background:var(--bg-secondary);border:1px solid var(--line);border-radius:var(--radius-lg);padding:var(--space-5);display:flex;align-items:center;gap:var(--space-4);transition:all var(--duration-fast) var(--transition-ease);box-shadow:var(--shadow-sm)}.stat-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--accent)}.stat-icon{font-size:36px;line-height:1}.stat-content{display:flex;flex-direction:column;gap:4px}.stat-value{font-size:28px;font-weight:700;color:var(--text-primary)}.stat-label{font-size:13px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.reward-calendar{background:var(--bg-secondary);border:1px solid var(--line);border-radius:12px;padding:24px}.reward-calendar h2{margin:0 0 20px;font-size:24px;color:var(--text-primary)}.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:12px}.calendar-day{background:var(--bg-tertiary);border:2px solid var(--line);border-radius:var(--radius-md);padding:var(--space-4);display:flex;flex-direction:column;align-items:center;gap:var(--space-3);transition:all var(--duration-fast) var(--transition-ease);box-shadow:var(--shadow-sm);position:relative}.calendar-day:hover{transform:scale(1.05);box-shadow:var(--shadow-md)}.calendar-day.today{border-color:var(--accent);background:linear-gradient(135deg,#feca5733,#ff6b6b26);box-shadow:var(--glow-accent-strong),var(--shadow-lg);animation:todayPulse 2s infinite;transform:scale(1.15);z-index:10}.calendar-day.today .day-icon{font-size:48px;animation:iconFloat 3s ease-in-out infinite}@keyframes todayPulse{0%,to{box-shadow:0 0 30px #feca5780,var(--shadow-lg)}50%{box-shadow:0 0 45px #feca57b3,var(--shadow-xl)}}@keyframes iconFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}.calendar-day.claimed{opacity:.6;border-color:#27ae60}.calendar-day.upcoming{opacity:.5}.day-header{display:flex;flex-direction:column;align-items:center;gap:4px;width:100%}.day-number{font-size:12px;color:var(--text-secondary);text-transform:uppercase}.claimed-badge{font-size:14px;color:#27ae60}.today-badge{font-size:11px;background:linear-gradient(90deg,#feca57,#ff6b6b);padding:3px 8px;border-radius:4px;color:#000;font-weight:700}.day-icon{font-size:32px;line-height:1}.day-rewards{display:flex;flex-direction:column;gap:6px;width:100%}.reward-item{display:flex;align-items:center;justify-content:center;gap:6px;font-size:14px;color:var(--text-primary)}.reward-item.premium{color:#3498db}.reward-icon{font-size:16px}.reward-amount{font-weight:700}.bonus-badge{background:linear-gradient(90deg,#9b59b6,#e74c3c);color:#fff;padding:4px 8px;border-radius:6px;font-size:11px;font-weight:700;text-transform:uppercase}.claim-button{width:100%;padding:var(--space-5) var(--space-8);background:linear-gradient(135deg,var(--accent) 0%,#ff6b6b 100%);border:none;border-radius:var(--radius-lg);color:#000;font-size:var(--text-xl);font-weight:800;cursor:pointer;transition:all var(--duration-normal) var(--transition-bounce);display:flex;align-items:center;justify-content:center;gap:var(--space-3);box-shadow:var(--shadow-lg);position:relative;overflow:hidden}.claim-button:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left var(--duration-slow)}.claim-button:hover:not(:disabled):before{left:100%}.claim-button:hover:not(:disabled){transform:scale(1.08) translateY(-2px);box-shadow:var(--glow-accent-strong),var(--shadow-2xl)}.claim-button:active:not(:disabled){transform:scale(1.02)}.claim-button:disabled{opacity:.5;cursor:not-allowed;filter:grayscale(.5)}.claim-button.claiming{background:linear-gradient(135deg,#95a5a6,#7f8c8d);animation:pulse 1.5s infinite}.claim-button.claimed{background:linear-gradient(135deg,var(--success) 0%,#2ecc71 100%);animation:successPulse .6s ease-out}@keyframes pulse{0%,to{opacity:1}50%{opacity:.8}}@keyframes successPulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.button-spinner{width:20px;height:20px;border:3px solid rgba(0,0,0,.3);border-top-color:#000;border-radius:50%;animation:spin .8s linear infinite}.claim-cooldown{background:var(--bg-secondary);border:1px solid var(--line);border-radius:12px;padding:20px;display:flex;align-items:center;gap:16px}.cooldown-icon{font-size:40px;opacity:.5}.cooldown-text{display:flex;flex-direction:column;gap:4px}.cooldown-title{font-size:18px;font-weight:700;color:var(--text-primary)}.cooldown-subtitle{font-size:14px;color:var(--text-secondary)}.daily-rewards-info{background:var(--bg-secondary);border:1px solid var(--line);border-radius:12px;padding:20px}.daily-rewards-info h3{margin:0 0 12px;font-size:18px;color:var(--text-primary)}.daily-rewards-info ul{margin:0;padding-left:20px;color:var(--text-secondary);line-height:1.8}@keyframes dayPulse{0%,to{box-shadow:0 0 20px #feca574d}50%{box-shadow:0 0 30px #feca5799}}.achievements-page{max-width:1200px;margin:0 auto;padding:20px}.achievements-header{display:flex;align-items:center;gap:20px;margin-bottom:30px}.achievements-back{padding:10px 20px;background:var(--bg-tertiary);border:1px solid var(--line);border-radius:8px;color:var(--text-primary);cursor:pointer;font-size:14px;transition:all .2s}.achievements-back:hover{background:var(--bg-secondary);transform:translate(-3px)}.achievements-header h1{margin:0;font-size:32px;color:var(--text-primary)}.achievements-container{display:flex;flex-direction:column;gap:24px}.achievements-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.category-filter{display:flex;flex-wrap:wrap;gap:8px;background:var(--bg-secondary);border:1px solid var(--line);border-radius:12px;padding:16px}.category-btn{padding:10px 16px;background:var(--bg-tertiary);border:1px solid var(--line);border-radius:8px;color:var(--text-secondary);cursor:pointer;font-size:14px;display:flex;align-items:center;gap:8px;transition:all .2s}.category-btn:hover{background:var(--bg-secondary);border-color:var(--accent)}.category-btn.active{background:var(--accent);color:var(--text-primary);border-color:var(--accent)}.category-icon{font-size:16px}.category-label{font-weight:500}.category-count{background:#ffffff1a;padding:2px 6px;border-radius:4px;font-size:12px;font-weight:700}.achievements-list{display:flex;flex-direction:column;gap:16px}.achievements-empty{background:var(--bg-secondary);border:1px solid var(--line);border-radius:12px;padding:60px 20px;text-align:center}.empty-icon{font-size:64px;opacity:.3;margin-bottom:16px}.empty-text{color:var(--text-secondary);font-size:16px}.achievement-card{background:var(--bg-secondary);border:2px solid var(--line);border-radius:var(--radius-lg);padding:var(--space-5);display:flex;gap:var(--space-5);transition:all var(--duration-fast) var(--transition-ease);box-shadow:var(--shadow-sm);position:relative;overflow:hidden}.achievement-card:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(241,195,106,.1),transparent);transition:left var(--duration-slow)}.achievement-card:hover:before{left:100%}.achievement-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-xl);border-color:var(--accent)}.achievement-card.completed{border-color:var(--accent);background:linear-gradient(135deg,var(--bg-secondary) 0%,rgba(241,195,106,.05) 100%);box-shadow:var(--glow-accent),var(--shadow-md)}.achievement-card.completed:hover{box-shadow:var(--glow-accent-strong),var(--shadow-2xl)}.achievement-card.claimed{opacity:.6;filter:grayscale(.3)}.achievement-icon-wrapper{position:relative;flex-shrink:0}.achievement-icon{width:80px;height:80px;background:var(--bg-tertiary);border:2px solid var(--line);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:40px}.completion-badge{position:absolute;top:-8px;right:-8px;width:28px;height:28px;background:linear-gradient(135deg,#27ae60,#2ecc71);border:2px solid var(--bg-secondary);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:700;color:#fff}.achievement-content{flex:1;display:flex;flex-direction:column;gap:12px}.achievement-header{display:flex;flex-direction:column;gap:8px}.achievement-title{display:flex;align-items:center;gap:12px}.achievement-title h3{margin:0;font-size:20px;color:var(--text-primary)}.rarity-badge{padding:4px 10px;border-radius:6px;font-size:11px;font-weight:700;text-transform:uppercase}.rarity-badge.rarity-common{background:#95a5a6;color:#fff}.rarity-badge.rarity-rare{background:#3498db;color:#fff}.rarity-badge.rarity-epic{background:#9b59b6;color:#fff}.rarity-badge.rarity-legendary{background:linear-gradient(90deg,#ff6b6b,#feca57);color:#000}.achievement-description{margin:0;color:var(--text-secondary);font-size:14px;line-height:1.5}.achievement-progress{display:flex;flex-direction:column;gap:6px}.progress-bar-container{height:10px;background:var(--bg-tertiary);border-radius:var(--radius-full);overflow:hidden;position:relative;box-shadow:inset 0 2px 4px #0000004d}.progress-bar-fill{height:100%;background:linear-gradient(90deg,#3498db,#9b59b6);border-radius:var(--radius-full);transition:width var(--duration-slow) var(--transition-ease);position:relative;overflow:hidden}.progress-bar-fill:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:shimmer 2s infinite}@keyframes shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.achievement-card.completed .progress-bar-fill{background:linear-gradient(90deg,var(--success) 0%,#2ecc71 100%);box-shadow:var(--glow-success)}.progress-text{font-size:13px;color:var(--text-secondary)}.achievement-footer{display:flex;align-items:center;justify-content:space-between;gap:16px}.achievement-rewards{display:flex;gap:12px;flex-wrap:wrap}.reward-badge{display:flex;align-items:center;gap:6px;padding:6px 12px;background:var(--bg-tertiary);border:1px solid var(--line);border-radius:6px;font-size:14px;color:var(--text-primary)}.reward-badge.premium{border-color:#3498db;color:#3498db}.reward-badge.title{border-color:#feca57;color:#feca57}.claim-reward-btn{padding:var(--space-3) var(--space-6);background:linear-gradient(135deg,var(--accent) 0%,#ff6b6b 100%);border:none;border-radius:var(--radius-md);color:#000;font-size:var(--text-sm);font-weight:700;cursor:pointer;transition:all var(--duration-fast) var(--transition-bounce);box-shadow:var(--shadow-md);position:relative;overflow:hidden}.claim-reward-btn:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#fff6;transform:translate(-50%,-50%);transition:width var(--duration-normal),height var(--duration-normal)}.claim-reward-btn:hover:not(:disabled):before{width:300px;height:300px}.claim-reward-btn:hover:not(:disabled){transform:scale(1.1) translateY(-2px);box-shadow:var(--glow-accent),var(--shadow-lg)}.claim-reward-btn:active:not(:disabled){transform:scale(1.05)}.claim-reward-btn:disabled{opacity:.5;cursor:not-allowed;filter:grayscale(.5)}.claim-reward-btn.claiming{background:linear-gradient(135deg,#95a5a6,#7f8c8d);animation:pulse 1.5s infinite}.claimed-badge{padding:8px 16px;background:linear-gradient(135deg,#27ae60,#2ecc71);border-radius:6px;color:#fff;font-size:13px;font-weight:700}@media(max-width:768px){.daily-rewards-stats,.achievements-stats{grid-template-columns:1fr;gap:var(--space-3)}.calendar-grid{grid-template-columns:repeat(3,1fr);gap:var(--space-2)}.calendar-day{padding:var(--space-3)}.calendar-day.today{transform:scale(1.1)}.achievement-card{flex-direction:column;padding:var(--space-4)}.achievement-footer{flex-direction:column;align-items:flex-start;gap:var(--space-3)}.category-filter{flex-direction:column;gap:var(--space-2)}.claim-button,.claim-reward-btn,.match-primary-btn{font-size:var(--text-base);padding:var(--space-4)}}@media(max-width:600px){.battle-screen{grid-template-rows:auto 1fr auto}.ability-card{min-width:80px;font-size:var(--text-xs)}.ability-name{font-size:var(--text-xs)}.character-portrait{width:60px;height:60px}.stat-card{padding:var(--space-3);gap:var(--space-2)}.stat-icon{font-size:24px}.stat-value{font-size:var(--text-xl)}}.battle-result-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#0a0c12f2;display:flex;align-items:center;justify-content:center;z-index:10000;opacity:0;transition:opacity var(--duration-slow);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.battle-result-overlay.show{opacity:1}.battle-result-modal{background:var(--bg-secondary);border:2px solid var(--accent);border-radius:var(--radius-xl);padding:var(--space-8);max-width:700px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:var(--glow-accent-strong),var(--shadow-2xl);transform:scale(.8);opacity:0;animation:resultModalAppear var(--duration-slow) var(--transition-bounce) forwards}@keyframes resultModalAppear{to{transform:scale(1);opacity:1}}.result-title{font-size:var(--text-4xl);font-weight:900;text-align:center;margin-bottom:var(--space-6);text-transform:uppercase;letter-spacing:.1em;animation:titlePulse 2s ease-in-out infinite}@keyframes titlePulse{0%,to{transform:scale(1);filter:brightness(1)}50%{transform:scale(1.05);filter:brightness(1.2)}}.result-summary{display:flex;gap:var(--space-6);justify-content:center;margin-bottom:var(--space-8);padding:var(--space-5);background:var(--bg-tertiary);border-radius:var(--radius-lg)}.summary-stat{display:flex;flex-direction:column;align-items:center;gap:var(--space-2)}.stat-label{font-size:var(--text-sm);color:#b8c1d0;text-transform:uppercase;letter-spacing:.05em}.stat-value{font-size:var(--text-3xl);font-weight:800;color:var(--accent)}.stat-value.positive{color:#2ecc71}.stat-value.negative{color:#e74c3c}.rewards-section{display:flex;flex-direction:column;gap:var(--space-5);margin-bottom:var(--space-6);opacity:0;animation:rewardsAppear var(--duration-slow) var(--transition-ease) forwards;animation-delay:.3s}@keyframes rewardsAppear{to{opacity:1}}.rewards-title{font-size:var(--text-2xl);font-weight:700;color:var(--accent);text-align:center;margin-bottom:var(--space-3)}.reward-item{display:flex;align-items:center;gap:var(--space-4);padding:var(--space-4);background:var(--bg-tertiary);border:2px solid var(--line);border-radius:var(--radius-lg);transition:all var(--duration-fast)}.reward-item:hover{transform:translate(4px);border-color:var(--accent);box-shadow:var(--shadow-md)}.reward-icon{font-size:40px;min-width:50px;text-align:center}.reward-details{flex:1;display:flex;flex-direction:column;gap:var(--space-1)}.reward-label{font-size:var(--text-sm);color:#b8c1d0;text-transform:uppercase;letter-spacing:.05em}.reward-value{font-size:var(--text-2xl);font-weight:700;color:var(--accent)}.level-up-badge{background:linear-gradient(135deg,var(--accent),#ff6b6b);color:#000;padding:var(--space-2) var(--space-4);border-radius:var(--radius-full);font-size:var(--text-sm);font-weight:700;animation:badgePulse 1s ease-in-out infinite}@keyframes badgePulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.character-rewards{display:flex;flex-direction:column;gap:var(--space-4);padding:var(--space-5);background:var(--bg-tertiary);border-radius:var(--radius-lg);border:2px solid var(--line)}.characters-title{font-size:var(--text-lg);font-weight:700;color:var(--accent);margin-bottom:var(--space-2)}.character-reward-item{display:flex;justify-content:space-between;align-items:center;gap:var(--space-4);padding:var(--space-3);background:var(--bg-secondary);border-radius:var(--radius-md)}.character-reward-left{flex:1;display:flex;flex-direction:column;gap:var(--space-2)}.character-name{font-size:var(--text-base);font-weight:600;color:#e7eaf0}.character-xp-bar{width:100%;height:8px;background:var(--bg-tertiary);border-radius:var(--radius-full);overflow:hidden}.character-xp-fill{height:100%;background:linear-gradient(90deg,#3498db,#9b59b6);border-radius:var(--radius-full);transition:width var(--duration-slow) var(--transition-ease);position:relative}.character-xp-fill:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:shimmer 2s infinite}.character-xp-text{font-size:var(--text-xs);color:#b8c1d0}.character-reward-right{display:flex;flex-direction:column;align-items:flex-end;gap:var(--space-2)}.character-level{font-size:var(--text-xl);font-weight:700;color:var(--accent)}.character-level-up{font-size:var(--text-sm);color:#2ecc71;font-weight:700;animation:levelUpPulse 1s ease-in-out infinite}@keyframes levelUpPulse{0%,to{transform:translateY(0)}50%{transform:translateY(-3px)}}.achievements-unlocked{display:flex;flex-direction:column;gap:var(--space-4);padding:var(--space-5);background:linear-gradient(135deg,var(--bg-tertiary),rgba(241,195,106,.05));border-radius:var(--radius-lg);border:2px solid var(--accent);box-shadow:var(--glow-accent)}.achievements-title{font-size:var(--text-lg);font-weight:700;color:var(--accent);text-align:center}.achievement-unlock-item{display:flex;align-items:center;gap:var(--space-4);padding:var(--space-3);background:var(--bg-secondary);border-radius:var(--radius-md);animation:achievementUnlock .5s var(--transition-bounce)}@keyframes achievementUnlock{0%{transform:scale(.8) translateY(20px);opacity:0}60%{transform:scale(1.05) translateY(-5px)}to{transform:scale(1) translateY(0);opacity:1}}.achievement-icon{font-size:36px;min-width:45px;text-align:center}.achievement-unlock-details{flex:1;display:flex;flex-direction:column;gap:var(--space-1)}.achievement-name{font-size:var(--text-base);font-weight:700;color:var(--accent)}.achievement-description{font-size:var(--text-sm);color:#b8c1d0}.result-continue-btn{width:100%;padding:var(--space-5) var(--space-8);background:linear-gradient(135deg,var(--accent) 0%,#ff6b6b 100%);border:none;border-radius:var(--radius-lg);color:#000;font-size:var(--text-xl);font-weight:800;cursor:pointer;transition:all var(--duration-normal) var(--transition-bounce);box-shadow:var(--shadow-lg);position:relative;overflow:hidden}.result-continue-btn:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left var(--duration-slow)}.result-continue-btn:hover:before{left:100%}.result-continue-btn:hover{transform:scale(1.05) translateY(-2px);box-shadow:var(--glow-accent-strong),var(--shadow-2xl)}@media(max-width:768px){.battle-result-modal{padding:var(--space-6);width:95%}.result-title{font-size:var(--text-2xl)}.result-summary{flex-direction:column;gap:var(--space-3)}.stat-value{font-size:var(--text-2xl)}.reward-item{flex-direction:column;text-align:center}.character-reward-item{flex-direction:column;align-items:flex-start}.character-reward-right{align-items:flex-start}}.opponent-select-container{width:100%;min-height:100vh;background:var(--bg-0);padding:var(--space-6);overflow-y:auto}.opponent-select-header{display:flex;align-items:center;gap:var(--space-5);margin-bottom:var(--space-6)}.opponent-select-header h1{font-size:var(--text-3xl);font-weight:800;background:linear-gradient(135deg,var(--accent),#ff6b6b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.opponent-select-content{max-width:1400px;margin:0 auto;display:flex;flex-direction:column;gap:var(--space-8)}.difficulty-section h2,.presets-section h2,.manual-selection-section h2{font-size:var(--text-2xl);font-weight:700;margin-bottom:var(--space-4);color:var(--accent)}.difficulty-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--space-4)}.difficulty-card{background:var(--bg-secondary);border:2px solid var(--line);border-radius:var(--radius-lg);padding:var(--space-5);cursor:pointer;transition:all var(--duration-fast) var(--transition-bounce);display:flex;flex-direction:column;align-items:center;gap:var(--space-2);box-shadow:var(--shadow-sm)}.difficulty-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--accent)}.difficulty-card.selected{border-color:var(--accent);background:linear-gradient(135deg,var(--bg-secondary),rgba(241,195,106,.1));box-shadow:var(--glow-accent),var(--shadow-md)}.difficulty-icon{font-size:48px;margin-bottom:var(--space-2)}.difficulty-label{font-size:var(--text-xl);font-weight:700;color:#e7eaf0}.difficulty-description{font-size:var(--text-sm);color:#b8c1d0;text-align:center;margin-bottom:var(--space-3)}.difficulty-rewards{display:flex;gap:var(--space-4);font-size:var(--text-sm);color:var(--accent);font-weight:600}.presets-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:var(--space-4)}.preset-team-card{background:var(--bg-secondary);border:2px solid var(--line);border-radius:var(--radius-lg);padding:var(--space-5);cursor:pointer;transition:all var(--duration-fast) var(--transition-bounce);box-shadow:var(--shadow-sm);text-align:left}.preset-team-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--accent)}.preset-team-name{font-size:var(--text-lg);font-weight:700;color:#e7eaf0;margin-bottom:var(--space-2)}.preset-team-description{font-size:var(--text-sm);color:#b8c1d0}.manual-selection-section .section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-4)}.manual-selection-section .selection-count{font-size:var(--text-lg);font-weight:600;color:var(--accent)}.opponent-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:var(--space-4)}.opponent-card{background:var(--bg-secondary);border:2px solid var(--line);border-radius:var(--radius-lg);padding:var(--space-4);cursor:pointer;transition:all var(--duration-fast) var(--transition-bounce);display:flex;flex-direction:column;align-items:center;gap:var(--space-2);position:relative;box-shadow:var(--shadow-sm)}.opponent-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}.opponent-card.is-selected{border-color:var(--accent);background:linear-gradient(135deg,var(--bg-secondary),rgba(241,195,106,.1));box-shadow:var(--glow-accent),var(--shadow-md)}.opponent-card.rarity-ur{border-color:#ff6b6b80}.opponent-card.rarity-ssr{border-color:#9b59b680}.opponent-card.rarity-sr{border-color:#3498db80}.opponent-portrait{width:80px;height:80px;border-radius:var(--radius-md);overflow:hidden;background:var(--bg-tertiary);display:flex;align-items:center;justify-content:center;border:2px solid var(--line)}.opponent-portrait-img{width:100%;height:100%;object-fit:cover}.opponent-portrait-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--bg-tertiary),var(--bg-secondary))}.opponent-portrait-initial{font-size:var(--text-3xl);font-weight:800;color:var(--accent)}.opponent-card-name{font-size:var(--text-base);font-weight:600;color:#e7eaf0;text-align:center}.opponent-card-rarity{font-size:var(--text-xs);font-weight:600;color:var(--accent);text-transform:uppercase;letter-spacing:.05em}.opponent-confirm-section{display:flex;justify-content:center;padding:var(--space-6) 0}.opponent-confirm-btn{background:linear-gradient(135deg,var(--accent) 0%,#ff6b6b 100%);border:none;border-radius:var(--radius-lg);color:#000;font-size:var(--text-xl);font-weight:800;padding:var(--space-5) var(--space-10);cursor:pointer;transition:all var(--duration-normal) var(--transition-bounce);box-shadow:var(--shadow-lg);position:relative;overflow:hidden;min-width:300px}.opponent-confirm-btn:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left var(--duration-slow)}.opponent-confirm-btn:hover:not(:disabled):before{left:100%}.opponent-confirm-btn:hover:not(:disabled){transform:scale(1.08) translateY(-2px);box-shadow:var(--glow-accent-strong),var(--shadow-2xl)}.opponent-confirm-btn:disabled{opacity:.5;filter:grayscale(.3);cursor:not-allowed;transform:none}@media(max-width:768px){.opponent-select-container{padding:var(--space-4)}.difficulty-grid{grid-template-columns:repeat(2,1fr)}.presets-grid{grid-template-columns:1fr}.opponent-grid{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:var(--space-3)}.opponent-portrait{width:60px;height:60px}.opponent-card-name{font-size:var(--text-sm)}.opponent-confirm-btn{min-width:100%;font-size:var(--text-lg)}}*{margin:0;padding:0;box-sizing:border-box}html{scroll-behavior:smooth}body{font-family:Inter,Avenir Next,Segoe UI,-apple-system,BlinkMacSystemFont,sans-serif;background:radial-gradient(circle at top,#141823,#0a0c12 60%);min-height:100vh;color:#e7eaf0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#root{min-height:100vh}
