:root{--bg-0: #0a0c12;--bg-1: #141823;--panel: rgba(20, 24, 33, .9);--panel-strong: rgba(28, 34, 47, .98);--line: rgba(255, 255, 255, .12);--accent: #f1c36a;--accent-strong: #f6d08a;--accent-cool: #58c1d8;--danger: #e06c75;--success: #62c189;--text-dim: #a7b0bf;--transition-fast: .15s;--transition-normal: .25s;--transition-slow: .4s;--transition-ease: cubic-bezier(.4, 0, .2, 1)}*{scroll-behavior:smooth}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#0003;border-radius:4px}::-webkit-scrollbar-thumb{background:#f1c36a4d;border-radius:4px;transition:background .25s ease}::-webkit-scrollbar-thumb:hover{background:#f1c36a80}button:focus-visible,input:focus-visible,[tabindex]:focus-visible{outline:2px solid var(--accent);outline-offset:2px}@media(prefers-reduced-motion:reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}html,body,#root{height:100%}body{font-family:Avenir Next,Trebuchet MS,Segoe UI,sans-serif;background:var(--bg-0);min-height:100vh;color:#e7eaf0;overflow:hidden}.battle-screen{min-height:0;height:100%;position:relative;display:grid;grid-template-rows:auto auto 1fr;flex:1;overflow:hidden}.battle-screen.screen-shake{animation:screen-shake .2s ease}@keyframes screen-shake{0%{transform:translate(0)}25%{transform:translate(-2px,2px)}50%{transform:translate(2px,-2px)}75%{transform:translate(-1px,1px)}to{transform:translate(0)}}.battle-background{position:absolute;inset:0;background:radial-gradient(circle at 15% 20%,rgba(88,193,216,.12),transparent 45%),radial-gradient(circle at 80% 70%,rgba(241,195,106,.12),transparent 45%),linear-gradient(145deg,#141823,#0a0c12 60%,#090b10);z-index:0}.battle-background:before{content:"";position:absolute;inset:0;background:linear-gradient(120deg,rgba(255,255,255,.05) 0%,transparent 25%),linear-gradient(300deg,rgba(255,255,255,.04) 0%,transparent 30%)}.battle-header{position:relative;z-index:10;display:flex;justify-content:center;align-items:center;padding:8px 16px;background:#080a0ed9;border-bottom:1px solid var(--line);flex-wrap:wrap;gap:15px;min-height:64px}.battle-header-side{display:flex;align-items:center;min-width:180px;flex:1}.battle-header-side.right{justify-content:flex-end}.team-indicator{display:flex;flex-direction:column;gap:6px;font-size:.7rem;color:var(--text-dim);text-transform:uppercase;letter-spacing:.2em}.team-indicator-meta{display:flex;align-items:center;gap:10px;letter-spacing:0;text-transform:none}.team-indicator.enemy .team-indicator-meta{flex-direction:row-reverse}.turn-banner{position:absolute;top:70px;left:50%;transform:translate(-50%);z-index:12;background:#0c0e14eb;border:1px solid rgba(241,195,106,.7);box-shadow:0 12px 30px #00000073;padding:8px 20px;border-radius:999px;font-size:.8rem;letter-spacing:.3em;text-transform:uppercase;color:var(--accent-strong);animation:banner-slide .35s ease}@keyframes banner-slide{0%{opacity:0;transform:translate(-50%,-8px)}to{opacity:1;transform:translate(-50%)}}.turn-display{display:flex;align-items:center;gap:8px;background:#f1c36a26;padding:6px 18px;border-radius:20px;border:1px solid rgba(241,195,106,.6)}.turn-label{font-size:.75rem;color:var(--accent);font-weight:700;letter-spacing:2px}.turn-number{font-size:1.3rem;font-weight:700;color:#fff}.actions-display{display:flex;align-items:center;gap:8px;background:#58c1d826;padding:6px 18px;border-radius:20px;border:1px solid rgba(88,193,216,.6)}.actions-label{font-size:.75rem;color:var(--accent-cool);font-weight:700;letter-spacing:1px}.actions-number{font-size:1.3rem;font-weight:700;color:#fff}.targeting-prompt{display:flex;align-items:center;gap:12px;background:#e06c752e;padding:8px 20px;border-radius:20px;border:1px solid rgba(224,108,117,.6);animation:pulse-prompt 1s ease-in-out infinite}@keyframes pulse-prompt{0%,to{border-color:#e06c7599;box-shadow:0 0 10px #e06c7540}50%{border-color:#e06c75e6;box-shadow:0 0 18px #e06c7559}}.targeting-prompt span{font-size:.85rem;font-weight:700}.cancel-btn{background:#e06c75e6;color:#fff;border:none;padding:5px 15px;border-radius:15px;cursor:pointer;font-size:.75rem;font-weight:700;transition:all .2s ease}.cancel-btn:hover{background:#c55a62;transform:scale(1.05)}.end-turn-btn{background:linear-gradient(135deg,#62c189,#3f9d73);color:#fff;border:1px solid rgba(98,193,137,.4);padding:7px 16px;border-radius:18px;cursor:pointer;font-size:.8rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;transition:all .2s ease}.end-turn-btn:hover{transform:translateY(-1px);box-shadow:0 6px 14px #62c18959}.queue-tray{position:relative;z-index:10;display:flex;align-items:center;gap:12px;padding:8px 20px;border-bottom:1px solid var(--line);background:#080a0eb3;flex-wrap:wrap;min-height:48px}.queue-title{font-size:.7rem;text-transform:uppercase;letter-spacing:.2em;color:var(--text-dim)}.queue-items{display:flex;flex-wrap:wrap;gap:8px;flex:1;min-width:200px}.queue-empty{color:var(--text-dim);font-size:.75rem}.queue-chip{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#ffffff0f;border:1px solid rgba(255,255,255,.14);font-size:.75rem;color:#e7eaf0}.queue-remove{background:transparent;border:none;color:var(--danger);cursor:pointer;font-size:.75rem}.auth-screen{min-height:100vh;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at top,#141823,#0a0c12 60%);padding:20px;position:relative;overflow:hidden}.auth-screen:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle at center,rgba(241,195,106,.03) 0%,transparent 50%);animation:auth-glow 20s ease-in-out infinite;pointer-events:none}@keyframes auth-glow{0%,to{transform:translate(0)}50%{transform:translate(10%,10%)}}.auth-panel{width:min(460px,100%);background:var(--panel);border:1px solid var(--line);border-radius:24px;padding:40px 36px;text-align:center;box-shadow:0 24px 48px #00000080;position:relative;z-index:1;animation:auth-panel-enter .4s ease}@keyframes auth-panel-enter{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.auth-logo{font-size:4rem;margin-bottom:16px;filter:drop-shadow(0 4px 12px rgba(241,195,106,.3));animation:logo-float 3s ease-in-out infinite}@keyframes logo-float{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}.auth-panel h1{font-size:2rem;color:var(--accent-strong);letter-spacing:3px;margin-bottom:12px;font-weight:800;text-shadow:0 2px 12px rgba(241,195,106,.2)}.auth-subtitle{color:var(--text-dim);font-size:.95rem;margin-bottom:32px;line-height:1.6}.auth-label{display:flex;flex-direction:column;gap:10px;font-size:.85rem;color:var(--text-dim);margin-bottom:20px;text-align:left}.auth-label-text{font-weight:600;font-size:.8rem;text-transform:uppercase;letter-spacing:.5px}.auth-input{background:#00000073;color:#e7eaf0;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:14px 16px;font-size:.95rem;transition:all .25s ease}.auth-input:focus{outline:none;border-color:#f1c36a99;box-shadow:0 0 0 3px #f1c36a1a;background:#0000008c}.auth-input::placeholder{color:#a7b0bf80}.auth-actions{display:flex;gap:12px;margin-top:24px}.auth-btn{flex:1;border-radius:14px;padding:14px 16px;font-weight:700;font-size:.9rem;border:1px solid rgba(255,255,255,.12);cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.auth-btn:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff1a;transform:translate(-50%,-50%);transition:width .6s,height .6s}.auth-btn:hover:before{width:300px;height:300px}.auth-btn span{position:relative;z-index:1}.auth-btn.primary{background:linear-gradient(135deg,#f1c36a,#dba34f);color:#0f1218;border-color:transparent;box-shadow:0 4px 12px #f1c36a4d}.auth-btn.secondary{background:#00000059;color:#e7eaf0}.auth-btn:hover{transform:translateY(-2px)}.auth-btn.primary:hover{box-shadow:0 8px 20px #f1c36a66}.auth-btn:active{transform:translateY(0)}.auth-error{color:var(--danger);font-size:.85rem;margin-bottom:8px;padding:12px;background:#e06c751a;border:1px solid rgba(224,108,117,.3);border-radius:10px;text-align:left}.auth-loading{margin-top:24px;height:4px;background:#ffffff1a;border-radius:999px;overflow:hidden}.auth-loading-bar{height:100%;width:60%;background:linear-gradient(90deg,var(--accent-cool),var(--accent));border-radius:999px;animation:loading-slide 1.5s ease-in-out infinite}@keyframes loading-slide{0%{transform:translate(-100%)}50%{transform:translate(150%)}to{transform:translate(-100%)}}.auth-wrapper{min-height:0;height:100%;display:flex;flex-direction:column;overflow:hidden}.auth-content{flex:1;min-height:0;display:flex;flex-direction:column;overflow:hidden}.auth-bar{position:sticky;top:0;z-index:20;display:flex;justify-content:space-between;align-items:center;gap:20px;padding:12px 24px;background:#080a0ef2;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-bottom:1px solid var(--line);flex-wrap:wrap;box-shadow:0 4px 12px #0003}.auth-bar.compact,.auth-bar.compact .auth-user-card,.auth-bar.compact .auth-center{display:none}.auth-user-card{display:flex;align-items:center;gap:14px;background:#ffffff0d;border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:8px 14px;color:inherit;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1)}.auth-user-card:disabled{cursor:default;opacity:.7}.auth-user-card:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #0006;background:#ffffff14;border-color:#f1c36a4d}.auth-avatar{width:48px;height:48px;border-radius:14px;overflow:hidden;background:linear-gradient(135deg,#f1c36a33,#58c1d833);border:2px solid rgba(255,255,255,.15);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.1rem;color:var(--accent-strong)}.auth-avatar img{width:100%;height:100%;object-fit:cover}.auth-user-meta{display:flex;flex-direction:column;gap:3px;font-size:.8rem}.auth-user-name{font-weight:700;font-size:.95rem;color:#f6d08a}.auth-user-level{color:var(--text-dim)}.auth-center{display:flex;flex-direction:column;align-items:center;gap:10px;flex:1;min-width:220px}.auth-title{font-size:1.1rem;letter-spacing:.5em;text-transform:uppercase;color:var(--accent-strong);font-weight:800;text-shadow:0 2px 8px rgba(241,195,106,.2)}.auth-nav{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.auth-nav-btn{background:#ffffff0f;border:1px solid rgba(255,255,255,.15);color:#e7eaf0;padding:8px 16px;border-radius:12px;font-size:.75rem;font-weight:600;letter-spacing:.5px;text-transform:uppercase;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.auth-nav-btn:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#f1c36a1a,#58c1d81a);opacity:0;transition:opacity .25s ease}.auth-nav-btn:hover:not(:disabled):before{opacity:1}.auth-nav-btn:hover:not(:disabled){transform:translateY(-2px);border-color:#ffffff40;box-shadow:0 4px 12px #0000004d}.auth-nav-btn.active{background:linear-gradient(135deg,#f1c36a26,#58c1d826);border-color:#f1c36a80;color:var(--accent-strong);box-shadow:0 0 20px #f1c36a33}.auth-nav-btn:disabled{opacity:.4;cursor:not-allowed}.auth-actions{display:flex;align-items:center;gap:10px}.auth-link{background:transparent;border:1px solid rgba(255,255,255,.2);color:#e7eaf0;padding:8px 14px;border-radius:12px;cursor:pointer;font-size:.8rem;font-weight:600;transition:all .25s ease}.auth-link:hover{background:#e06c751a;border-color:#e06c7566;color:var(--danger);transform:translateY(-1px)}.level-toast{position:fixed;top:70px;left:50%;transform:translate(-50%);background:#0a0c10f2;border:1px solid rgba(241,195,106,.6);color:#f6d08a;padding:10px 18px;border-radius:14px;font-size:.85rem;letter-spacing:.02em;z-index:40;box-shadow:0 12px 30px #00000080;animation:toast-pop .3s ease}@keyframes toast-pop{0%{transform:translate(-50%,-6px);opacity:0}to{transform:translate(-50%);opacity:1}}.profile-page,.meta-page{min-height:0;flex:1;padding:24px;background:radial-gradient(circle at top,#141823,#0a0c12 60%);color:#e7eaf0;display:flex;flex-direction:column;overflow:hidden;animation:panel-fade .25s ease}@keyframes panel-fade{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.meta-header{max-width:1100px;margin:0 auto 18px;display:flex;align-items:center;gap:12px}.meta-header h1{font-size:2rem;color:var(--accent-strong)}.meta-currency{margin-left:auto;display:flex;gap:12px;color:var(--text-dim);font-size:.85rem}.meta-grid{max-width:1100px;margin:0 auto;display:grid;gap:20px;flex:1;min-height:0;overflow:auto;padding-bottom:12px}.mission-list{display:grid;gap:12px}.mission-list>div{display:flex;flex-direction:column;gap:8px}.mission-card{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:18px 20px;display:grid;grid-template-columns:1.6fr .8fr;gap:16px;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.mission-card:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(88,193,216,.05),transparent);opacity:0;transition:opacity .25s ease}.mission-card:hover:before{opacity:1}.mission-card:hover{transform:translateY(-4px);box-shadow:0 16px 32px #0006;border-color:#58c1d84d}.mission-card h4{margin-bottom:6px;color:#fff}.mission-card p{color:var(--text-dim);font-size:.8rem;margin-bottom:10px}.mission-progress{display:flex;align-items:center;gap:10px;font-size:.75rem;color:var(--text-dim)}.mission-progress-bar{flex:1;height:6px;background:#ffffff1f;border-radius:999px;overflow:hidden}.mission-progress-fill{height:100%;background:linear-gradient(90deg,#58c1d8e6,#62c189e6)}.mission-reward{display:flex;flex-direction:column;gap:6px;font-size:.75rem;color:var(--text-dim)}.mission-claim{margin-top:8px;background:linear-gradient(135deg,#f1c36a,#dba34f);color:#0f1218;border:none;padding:10px 16px;border-radius:12px;cursor:pointer;font-weight:700;font-size:.85rem;transition:all .25s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #f1c36a4d;position:relative;overflow:hidden}.mission-claim:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#fff3;transform:translate(-50%,-50%);transition:width .6s,height .6s}.mission-claim:hover:not(:disabled):before{width:300px;height:300px}.mission-claim:disabled{opacity:.4;cursor:not-allowed;filter:grayscale(.5)}.mission-claim:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #f1c36a66}.mission-claim:active:not(:disabled){transform:translateY(0)}.shop-grid{display:grid;gap:12px}.shop-card{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:18px 20px;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.shop-card:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(241,195,106,.05),transparent);opacity:0;transition:opacity .25s ease}.shop-card:hover:before{opacity:1}.shop-card:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 16px 32px #0006;border-color:#f1c36a4d}.shop-card h4{color:#fff;margin-bottom:6px}.shop-card p{color:var(--text-dim);font-size:.8rem;margin-bottom:10px}.shop-cost{display:flex;gap:10px;font-size:.75rem;color:var(--text-dim);margin-bottom:10px}.gacha-banner{background:var(--panel);border:1px solid var(--line);border-radius:20px;padding:24px;box-shadow:0 12px 32px #0006;transition:all .3s ease}.gacha-banner:hover{transform:translateY(-2px);box-shadow:0 16px 40px #00000080}.gacha-result{margin-top:12px;display:flex;flex-direction:column;gap:4px;color:var(--text-dim);font-size:.8rem}.gacha-items{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:16px}.gacha-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px;margin-top:12px}.gacha-card{background:#ffffff0d;border:1px solid rgba(255,255,255,.15);border-radius:14px;padding:14px 16px;color:var(--text-dim);font-size:.8rem;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.gacha-card:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(246,208,138,.1),transparent);opacity:0;transition:opacity .25s ease}.gacha-card:hover:before{opacity:1}.gacha-card:hover{transform:translateY(-4px) scale(1.05);box-shadow:0 12px 28px #0006;border-color:#f6d08a66}.profile-header{max-width:1100px;margin:0 auto 18px;display:flex;align-items:center;gap:12px}.profile-header h1{font-size:2rem;color:var(--accent-strong)}.profile-back{background:#ffffff14;border:1px solid rgba(255,255,255,.15);color:#e7eaf0;padding:8px 12px;border-radius:12px;cursor:pointer;transition:transform .15s ease,box-shadow .2s ease}.profile-back:hover{transform:translateY(-1px);box-shadow:0 6px 14px #0000004d}.profile-back:active{transform:translateY(0)}.profile-grid{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1.2fr 1fr;gap:20px;min-height:0;overflow:auto;padding-bottom:12px}.profile-card{background:var(--panel);border:1px solid var(--line);border-radius:20px;padding:24px;box-shadow:0 16px 40px #0006;transition:all .3s ease}.profile-card:hover{transform:translateY(-2px);box-shadow:0 20px 48px #00000080}.profile-card.primary{grid-column:span 2}.profile-hero{display:flex;align-items:center;gap:20px;margin-bottom:20px}.profile-avatar{width:88px;height:88px;border-radius:22px;background:linear-gradient(135deg,#f1c36ae6,#58c1d8cc);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1.8rem;color:#0f1218;overflow:hidden;box-shadow:0 8px 24px #f1c36a4d;border:3px solid rgba(255,255,255,.1);transition:all .3s ease}.profile-avatar:hover{transform:scale(1.05);box-shadow:0 12px 32px #f1c36a66}.profile-avatar img{width:100%;height:100%;object-fit:cover}.profile-subtitle{color:var(--text-dim);font-size:.9rem}.profile-avatar-actions{margin-top:8px;display:flex;flex-direction:column;gap:6px}.profile-avatar-btn{background:#00000059;color:#e7eaf0;border:1px solid rgba(255,255,255,.2);padding:6px 10px;border-radius:10px;cursor:pointer;font-size:.75rem}.profile-avatar-btn:disabled{opacity:.6;cursor:not-allowed}.profile-upload-error{color:var(--danger);font-size:.75rem}.profile-avatar-input{display:none}.profile-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.profile-stats span{color:var(--text-dim);font-size:.75rem;text-transform:uppercase;letter-spacing:.04em}.profile-stats strong{display:block;margin-top:6px;font-size:1rem}.profile-xp{margin-top:14px}.profile-xp-text{font-size:.8rem;color:var(--text-dim);margin-bottom:6px}.profile-xp-bar{height:8px;background:#ffffff1f;border-radius:999px;overflow:hidden}.profile-xp-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6)}.match-list{display:flex;flex-direction:column;gap:10px;margin-top:10px}.match-row{background:#ffffff0a;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:12px 16px;display:grid;grid-template-columns:80px 1fr 1fr;gap:12px;align-items:center;font-size:.8rem;transition:all .25s ease}.match-row:hover{background:#ffffff0f;transform:translate(4px)}.match-row.win{border-color:#62c18980;background:linear-gradient(90deg,rgba(98,193,137,.08),transparent)}.match-row.win:hover{border-color:#62c189b3;box-shadow:0 4px 16px #62c18933}.match-row.lose{border-color:#e06c7580;background:linear-gradient(90deg,rgba(224,108,117,.08),transparent)}.match-row.lose:hover{border-color:#e06c75b3;box-shadow:0 4px 16px #e06c7533}.match-result{font-weight:700;color:var(--accent)}.match-meta,.match-xp{display:flex;flex-direction:column;gap:4px;color:var(--text-dim)}.match-date{grid-column:span 3;color:var(--text-dim)}.profile-empty{color:var(--text-dim);margin-top:10px}.activity-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:10px}.activity-grid span{color:var(--text-dim);font-size:.75rem;text-transform:uppercase;letter-spacing:.04em}.activity-grid strong{display:block;margin-top:6px}@media(max-width:900px){.team-select-layout,.roster-and-team,.profile-grid{grid-template-columns:1fr}.profile-card.primary{grid-column:span 1}.battle-main{grid-template-columns:1fr;gap:16px}.team-container.enemy-side{align-items:flex-start}.auth-bar{padding:10px 16px}.auth-nav{gap:6px}.auth-nav-btn{padding:6px 12px;font-size:.7rem}.mode-btn{padding:10px 16px;font-size:.8rem}}@media(max-width:600px){.auth-panel{padding:32px 24px}.auth-panel h1{font-size:1.6rem}.auth-logo{font-size:3rem}.team-select-topbar h1{font-size:1.8rem}.selected-preview{flex-direction:column;align-items:center}.preview-slot{width:100%;max-width:140px}.roster-grid{grid-template-columns:repeat(auto-fill,minmax(72px,1fr))}.ability-card{width:76px;height:96px}.profile-hero{flex-direction:column;text-align:center}.match-row{grid-template-columns:1fr;gap:8px}.match-date{grid-column:span 1;font-size:.7rem}}.xp-row{width:100%;margin-top:6px;display:flex;flex-direction:column;gap:4px}.xp-text{font-size:.65rem;color:var(--text-dim)}.xp-bar{height:6px;background:#ffffff1f;border-radius:999px;overflow:hidden}.xp-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6)}.battle-main{position:relative;z-index:10;display:flex;flex-direction:column;align-items:stretch;padding:12px 16px 16px;flex:1;gap:12px;min-height:0;overflow:visible;height:100%;max-height:100%}.battle-main.battle-main-compact{gap:10px}.battle-main.battle-main-story{gap:12px}.battle-hud{display:grid;grid-template-columns:minmax(220px,.9fr) auto minmax(220px,.9fr);align-items:center;gap:12px;padding:10px 16px;background:#080a0ee6;border:1px solid rgba(255,255,255,.08);border-radius:16px;margin:10px 16px 0;position:relative;z-index:5}.hud-center{display:flex;align-items:center;gap:12px;justify-content:center}.hud-side{display:flex;justify-content:flex-start}.hud-side.right{justify-content:flex-end}.battle-top-row{display:grid;grid-template-columns:minmax(360px,2fr) minmax(220px,1fr);gap:12px;align-items:start;min-height:0;width:min(1100px,100%);margin:0 auto}.battle-team-row{display:grid;grid-template-columns:minmax(560px,1.6fr) minmax(240px,.8fr);gap:14px;align-items:start;width:min(1200px,100%);margin:0 auto;min-height:0;overflow:visible;padding-bottom:8px}.battle-team-row .team-container.player-side{justify-self:start;padding-right:16px}.battle-team-row .team-container.enemy-side{justify-self:end;padding-left:16px}.team-container{display:flex;flex-direction:column;gap:10px;flex:1;max-width:none;min-height:0;position:relative;overflow:visible}.team-container>*{position:relative;z-index:1}.team-container.player-side{width:100%}.team-container.enemy-side{width:100%;align-items:flex-end}.team-container.enemy-side:before{content:"";position:absolute;inset:36px 0 0 20%;border-radius:18px;background:linear-gradient(270deg,rgba(224,108,117,.16),transparent 60%);pointer-events:none}.team-label{font-size:.9rem;font-weight:700;letter-spacing:2px;padding:6px 12px;border-radius:5px;text-align:center;margin-bottom:5px}.team-label-row{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:6px}.team-identity{display:flex;align-items:center;gap:10px;color:var(--text-dim)}.team-identity.enemy{flex-direction:row-reverse;text-align:right}.team-avatar{width:36px;height:36px;border-radius:10px;border:1px solid rgba(255,255,255,.15);background:#0006;display:flex;align-items:center;justify-content:center;overflow:hidden;color:#fff;font-size:.75rem;font-weight:700}.team-avatar img{width:100%;height:100%;object-fit:cover}.team-name{font-size:.85rem;color:#fff;font-weight:700}.team-subtitle{font-size:.7rem;color:var(--text-dim)}.player-side .team-label{background:linear-gradient(90deg,rgba(97,193,199,.2),transparent);color:var(--accent-cool);border-left:3px solid rgba(97,193,199,.8);text-align:left}.enemy-side .team-label{background:linear-gradient(270deg,rgba(224,108,117,.2),transparent);color:var(--danger);border-right:3px solid rgba(224,108,117,.8);text-align:right}.character-row{display:flex;align-items:center;gap:8px;padding:8px 10px;background:var(--panel);border-radius:12px;border:1px solid var(--line);box-shadow:0 10px 24px #00000059;transition:all .2s ease;position:relative;overflow:visible}.character-row.hit-flash{animation:hit-flash .35s ease}.character-row.crit-flash{animation:crit-flash .4s ease}@keyframes hit-flash{0%{box-shadow:0 0 #f1c36a00}50%{box-shadow:0 0 18px #f1c36a66}to{box-shadow:0 10px 24px #00000059}}@keyframes crit-flash{0%{box-shadow:0 0 #e06c7500}50%{box-shadow:0 0 24px #e06c7580}to{box-shadow:0 10px 24px #00000059}}.player-side .character-row{width:100%}.enemy-side .character-row{max-width:320px}.character-row:hover{background:var(--panel-strong)}.character-row.selected{border-color:#d7b36ab3;background:#d7b36a14}.character-row.dead{opacity:.5}.character-row.acted{opacity:.7}.character-row.acted .ability-cards{opacity:.4;pointer-events:none}.character-row.selecting-target{background:#d7b36a1f;border-color:#d7b36ae6;box-shadow:0 0 18px #d7b36a33}.character-row.enemy{flex-direction:row-reverse}.character-row.enemy.targetable{cursor:pointer;border-color:#e06c75cc;animation:target-glow 1s ease-in-out infinite}@keyframes target-glow{0%,to{box-shadow:0 0 8px #e06c7540}50%{box-shadow:0 0 20px #e06c7573}}.character-row.enemy.targetable:hover{background:#e06c751f;transform:scale(1.02)}.portrait-container{display:flex;flex-direction:column;align-items:center;min-width:120px;transition:transform .2s ease}.portrait-container.active .portrait-frame{border-color:#94602db3;box-shadow:0 0 16px #94602d40}.portrait-container.targetable{cursor:pointer}.portrait-frame{width:80px;height:80px;border:2px solid rgba(255,255,255,.18);border-radius:10px;position:relative;overflow:hidden;background:linear-gradient(145deg,#1a2230,#0f141d);transition:all .2s ease}.portrait-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(255,255,255,.08) 0%,transparent 50%),linear-gradient(135deg,#253041,#1a2230)}.portrait-initial{font-size:1.8rem;font-weight:700;color:#ffffffd9;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.portrait-rarity{position:absolute;top:4px;right:4px;padding:2px 5px;border-radius:3px;font-size:.55rem;font-weight:700}.portrait-rarity.ur{background:linear-gradient(90deg,#e6c37d,#d7b36a);color:#000}.portrait-rarity.ssr{background:#5fbac3;color:#fff}.portrait-rarity.sr{background:#6c7d91;color:#fff}.portrait-name{font-size:.8rem;font-weight:700;margin-top:5px;text-align:center}.passive-indicator{position:relative;margin-top:6px;display:inline-flex;align-items:center;gap:6px}.passive-tag{text-transform:uppercase;letter-spacing:.08em;font-size:.55rem;color:var(--accent);padding:3px 8px;border-radius:999px;background:#f1c36a1a;border:1px solid rgba(241,195,106,.35)}.passive-tooltip{position:absolute;bottom:calc(100% + 6px);left:50%;transform:translate(-50%) scale(.96);width:200px;background:#0c0e14fa;border:1px solid rgba(255,255,255,.14);border-radius:10px;padding:10px;opacity:0;visibility:hidden;transition:all .12s ease-out;z-index:1000;pointer-events:none;box-shadow:0 10px 30px #0009;color:#e7eaf0;display:flex;flex-direction:column;gap:6px}.passive-indicator:hover .passive-tooltip{opacity:1;visibility:visible;transform:translate(-50%) scale(1)}.acted-overlay,.dead-overlay,.target-indicator{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}.acted-overlay{background:#2ecc7166;font-size:1.8rem;color:#fff}.dead-overlay{background:#000000bf;font-size:1.8rem}.target-indicator{background:#ff6b6b66;font-size:1.5rem;animation:pulse-target .6s ease-in-out infinite}@keyframes pulse-target{0%,to{transform:scale(1)}50%{transform:scale(1.15)}}.status-icons{position:absolute;bottom:4px;left:4px;display:flex;gap:2px;flex-wrap:wrap;max-width:60px}.status-icon{font-size:.7rem;background:#000c;border-radius:3px;padding:1px 3px;cursor:help}.player-status-row{display:flex;gap:8px;margin-bottom:8px;flex-wrap:wrap}.status-pill{font-size:.7rem;font-weight:700;padding:4px 8px;border-radius:999px;background:#ffffff14;border:1px solid rgba(255,255,255,.12)}.status-pill.stunned{color:var(--accent);border-color:#f1c36a80}.status-pill.buffed{color:var(--success);border-color:#62c18980}.portrait-hp-bar,.portrait-mana-bar{width:110px;height:14px;background:#00000080;border-radius:6px;overflow:hidden;margin-top:4px;position:relative;border:1px solid rgba(255,255,255,.15)}.portrait-hp-preview{position:absolute;top:0;left:0;height:100%;background:#e06c7599;transition:width .4s ease}.portrait-hp-fill{height:100%;transition:width .3s ease;border-radius:6px}.portrait-mana-bar{height:8px;border-radius:4px;margin-top:3px}.portrait-mana-fill{height:100%;background:linear-gradient(90deg,#58c1d8,#2e6f7e);transition:width .3s ease;border-radius:4px}.portrait-hp-text,.portrait-mana-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.7rem;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.6)}.ability-cards{display:flex;gap:10px;flex-wrap:nowrap;overflow-x:auto;overflow-y:visible;padding-bottom:4px;transition:opacity .2s ease;flex:1}.ability-card{width:72px;height:96px;background:linear-gradient(145deg,#1b2230,#121825);border:2px solid rgba(255,255,255,.15);border-radius:10px;cursor:pointer;position:relative;transition:all .25s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column;overflow:visible}.ability-card:before{content:"";position:absolute;inset:0;border-radius:10px;background:linear-gradient(135deg,rgba(255,255,255,.1),transparent);opacity:0;transition:opacity .25s ease;pointer-events:none}.ability-card:hover:not(.disabled):before{opacity:1}.ability-card:hover:not(.disabled){transform:translateY(-6px) scale(1.05);border-color:#f1c36ab3;box-shadow:0 12px 28px #f1c36a40}.ability-card.selected{border-color:#f1c36ae6;box-shadow:0 0 24px #f1c36a73;transform:translateY(-6px) scale(1.05)}.ability-card.queued{border-color:#58c1d8e6;box-shadow:0 0 20px #58c1d880;animation:queued-pulse 1.4s ease-in-out infinite}@keyframes queued-pulse{0%,to{box-shadow:0 0 12px #58c1d866;transform:scale(1)}50%{box-shadow:0 0 28px #58c1d8b3;transform:scale(1.02)}}.ability-card.disabled{opacity:.4;cursor:not-allowed;filter:grayscale(.5)}.ability-card.disabled:hover{transform:none}.ability-card.no-mana{border-color:#e06c75b3}.ability-card.no-mana:hover:not(.disabled){border-color:#e06c75e6;box-shadow:0 8px 20px #e06c754d}.ability-card.ultimate{border-color:#f1c36ab3;background:linear-gradient(145deg,#2a1d1f,#1a1214);box-shadow:0 0 16px #f1c36a33}.ability-card.ultimate:hover:not(.disabled){border-color:#f1c36ae6;box-shadow:0 8px 24px #f1c36a59}.ability-card.ultimate.selected{box-shadow:0 0 28px #f1c36a80}.ability-card-art{flex:1;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(255,255,255,.08),transparent);position:relative;border-radius:6px 6px 0 0}.ability-name{font-size:.6rem;text-align:center;padding:3px 6px 2px;color:#e7eaf0;line-height:1.1;min-height:24px;text-transform:uppercase;letter-spacing:.04em;white-space:normal}.ability-card-initial{font-size:.9rem;font-weight:700;color:#ffffffd9;text-transform:uppercase}.ultimate-indicator{position:absolute;top:2px;right:2px;font-size:.65rem;color:var(--accent)}.ability-cooldown-overlay{position:absolute;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;flex-direction:column;font-size:1.4rem;font-weight:700;color:#fff;border-radius:6px}.ability-cooldown-label{font-size:.6rem;letter-spacing:.2em;color:var(--text-dim);text-transform:uppercase}.ability-mana-cost{background:#0009;padding:3px;text-align:center;font-size:.7rem;color:var(--accent-cool);font-weight:700;border-radius:0 0 6px 6px}.ability-mana-cost.not-enough{background:#e06c7559;color:var(--danger)}.ability-tooltip{position:absolute;bottom:calc(100% + 8px);left:50%;transform:translate(-50%) scale(.95);width:200px;background:#0a0c10fa;border:1px solid rgba(241,195,106,.6);border-radius:10px;padding:12px;opacity:0;visibility:hidden;transition:all .12s ease-out;z-index:1000;pointer-events:none;box-shadow:0 10px 30px #0009}.ability-tooltip:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:8px solid transparent;border-top-color:#f1c36a99}.ability-card:hover .ability-tooltip{opacity:1;visibility:visible;transform:translate(-50%) scale(1)}.tooltip-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;gap:8px}.tooltip-header h4{font-size:.95rem;color:var(--accent);margin:0;flex:1}.tooltip-ultimate{background:#f1c36a33;color:#f6d08a;padding:2px 6px;border-radius:4px;font-size:.55rem;font-weight:700;white-space:nowrap}.ability-tooltip p{font-size:.8rem;color:#d7dbe2;margin-bottom:10px;line-height:1.4}.tooltip-stats{display:flex;justify-content:space-between;font-size:.75rem;color:var(--text-dim);padding-top:8px;border-top:1px solid rgba(255,255,255,.1)}.tooltip-stats span{display:flex;align-items:center;gap:3px}.tooltip-stats .not-enough{color:var(--danger);font-weight:700}.enemy-status-effects{display:flex;flex-direction:column;gap:4px}.character-row.enemy .enemy-status-effects{margin-right:10px;align-items:flex-start}.status-badge{display:flex;align-items:center;gap:5px;padding:5px 10px;border-radius:8px;font-size:.75rem;font-weight:700;box-shadow:0 2px 8px #0000004d;animation:status-appear .3s ease}@keyframes status-appear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.status-badge.invincible{background:linear-gradient(135deg,#58c1d840,#58c1d826);border:1px solid rgba(88,193,216,.6);color:#7dd3ea}.status-badge.stunned{background:linear-gradient(135deg,#f1c36a40,#f1c36a26);border:1px solid rgba(241,195,106,.6);color:#f6d08a}.status-badge.burning{background:linear-gradient(135deg,#e06c7540,#e06c7526);border:1px solid rgba(224,108,117,.6);color:#f08b94;animation:burning-pulse 1.5s ease-in-out infinite}@keyframes burning-pulse{0%,to{box-shadow:0 2px 8px #e06c754d}50%{box-shadow:0 2px 16px #e06c7580}}.status-badge.marked{background:linear-gradient(135deg,#f1c36a40,#f1c36a26);border:1px solid rgba(241,195,106,.6);color:#f6d08a}.status-emoji{font-size:.85rem}.status-count{color:#fff}.damage-floats{position:absolute;top:-6px;right:12px;display:flex;flex-direction:column;gap:4px;pointer-events:none}.character-row.enemy .damage-floats{left:12px;right:auto;align-items:flex-start}.damage-float{font-size:.95rem;font-weight:800;color:#f3b0b5;text-shadow:0 2px 8px rgba(0,0,0,.8),0 0 4px rgba(224,108,117,.6);animation:float-up .8s cubic-bezier(.33,1,.68,1) forwards;filter:drop-shadow(0 0 6px rgba(224,108,117,.4))}.damage-float.heal{color:#b7f0cb;text-shadow:0 2px 8px rgba(0,0,0,.8),0 0 4px rgba(98,193,137,.6);filter:drop-shadow(0 0 6px rgba(98,193,137,.4))}.damage-float.big{font-size:1.25rem;animation:float-up-big .9s cubic-bezier(.33,1,.68,1) forwards}@keyframes float-up{0%{opacity:0;transform:translateY(8px) scale(.8)}20%{opacity:1;transform:translateY(0) scale(1.1)}to{opacity:0;transform:translateY(-16px) scale(.9)}}@keyframes float-up-big{0%{opacity:0;transform:translateY(10px) scale(.7)}20%{opacity:1;transform:translateY(0) scale(1.2)}to{opacity:0;transform:translateY(-20px) scale(.9)}}.battle-center{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;gap:12px;width:100%;min-width:200px;padding-top:0;max-height:100%;min-height:0}.battle-log-header{display:flex;flex-direction:column;gap:10px;margin-bottom:10px}.battle-objective{background:#f1c36a1a;border:1px solid rgba(241,195,106,.35);border-radius:12px;padding:8px 10px;display:flex;flex-direction:column;gap:4px;width:100%}.battle-objective-title{font-size:.75rem;text-transform:uppercase;letter-spacing:.12em;color:var(--accent-strong)}.battle-objective-text{font-size:.85rem;color:#f3e3c1}.battle-log-center{background:#0a0c10b3;border-radius:12px;padding:15px;width:100%;border:1px solid var(--line);display:flex;flex-direction:column;flex:1;min-height:0;max-height:120px;height:110px}.battle-queue{width:100%;background:#0a0c10b3;border-radius:12px;padding:12px 14px;border:1px solid var(--line);max-height:120px;height:110px}.battle-queue-title{font-size:.75rem;color:var(--text-dim);text-transform:uppercase;letter-spacing:.2em;margin-bottom:8px}.battle-queue-items{display:flex;flex-direction:row;flex-wrap:nowrap;gap:8px;overflow-x:auto}.battle-log-center h3{color:var(--accent);font-size:.85rem;margin-bottom:10px;text-align:center;letter-spacing:1px}.log-scroll-vertical{flex:1;min-height:0;overflow-x:auto;overflow-y:hidden;display:flex;flex-direction:row;gap:8px;padding-bottom:6px;white-space:nowrap}.log-scroll-vertical::-webkit-scrollbar{height:4px}.log-scroll-vertical::-webkit-scrollbar-track{background:#ffffff0d;border-radius:2px}.log-scroll-vertical::-webkit-scrollbar-thumb{background:#d7b36a66;border-radius:2px}.log-scroll-vertical p{font-size:.75rem;color:var(--text-dim);padding:6px 10px;background:#ffffff0d;border-radius:5px;border-left:3px solid transparent;transition:all .2s ease;white-space:nowrap}.log-scroll-vertical p.latest{color:#fff;background:#f1c36a26;border-left-color:var(--accent)}.log-hit{border-left-color:#58c1d8b3;color:#cfe6f3}.log-heal{border-left-color:#62c189b3;color:#d1f1df}.log-stun,.log-burn{border-left-color:#e06c75b3;color:#f2c1c7}.log-shield{border-left-color:#f1c36acc;color:#f6d08a}.log-win{border-left-color:#62c189e6;color:#b7f0cb}.log-lose{border-left-color:#e06c75e6;color:#f3b0b5}.battle-log-full{display:none}.game-over-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1000;background:#1e241dbf;animation:fade-in .3s ease}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.game-over-content{text-align:center;padding:50px;border-radius:20px;animation:pop-in .3s ease;color:#fff}@keyframes pop-in{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}.game-over-overlay.win .game-over-content{background:#62c1892e;border:2px solid var(--success);box-shadow:0 0 60px #62c18940}.game-over-overlay.lose .game-over-content{background:#e06c752e;border:2px solid var(--danger);box-shadow:0 0 60px #e06c7540}.game-over-content h1{font-size:2.5rem;margin-bottom:25px}.match-summary{width:320px;margin:0 auto 20px;background:#00000059;border:1px solid rgba(255,255,255,.15);border-radius:14px;padding:14px 16px;display:flex;flex-direction:column;gap:8px}.summary-row{display:flex;justify-content:space-between;font-size:.85rem;color:#d7dbe2}.summary-row strong{color:#fff}.summary-xp-bar{height:8px;background:#ffffff1a;border-radius:999px;overflow:hidden;margin-top:4px}.summary-xp-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6)}.summary-levelups{display:flex;flex-direction:column;gap:4px;font-size:.75rem;color:#f6d08a}.summary-characters{display:flex;flex-direction:column;gap:10px;margin-top:8px}.summary-character{display:grid;grid-template-columns:44px 1fr;gap:10px;align-items:center;background:#ffffff0f;border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:8px}.summary-portrait{width:44px;height:44px;border-radius:8px;background:#0006;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;overflow:hidden}.summary-portrait img{width:100%;height:100%;object-fit:cover}.summary-char-info{display:flex;flex-direction:column;gap:4px}.summary-char-name{font-size:.8rem;color:#fff}.summary-char-level{font-size:.7rem;color:var(--text-dim)}.summary-char-bar{height:6px;background:#ffffff1f;border-radius:999px;overflow:hidden}.summary-char-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6)}.play-again-btn{background:linear-gradient(135deg,#e6c37d,#cfa35d);color:#1a1a1a;border:none;padding:15px 50px;font-size:1.1rem;font-weight:700;border-radius:25px;cursor:pointer;transition:all .2s ease}.play-again-btn:hover{transform:scale(1.05);box-shadow:0 5px 30px #d7b36a59}.battle-result-actions{display:flex;gap:12px;align-items:center;justify-content:center;flex-wrap:wrap}.team-select-container{min-height:100vh;height:100%;padding:0;display:flex;flex-direction:column;background:radial-gradient(circle at top,#141823,#0a0c12 65%);overflow:hidden}.team-select-grid{display:grid;grid-template-columns:1fr 360px;gap:16px;padding:18px 24px 22px;flex:1;min-height:0;overflow:hidden}.team-left-column,.team-right-column{display:flex;flex-direction:column;gap:16px;min-height:0}.character-details-panel,.character-roster-panel,.squad-panel,.match-controls{background:#0c1018b8;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:14px}.character-details-panel{display:flex;flex-direction:column;gap:12px;min-height:220px}.details-header-row{display:flex;align-items:flex-start;justify-content:space-between;gap:16px}.details-header-left{display:flex;align-items:center;gap:12px;min-width:0}.details-portrait{width:72px;height:72px}.details-meta h2{margin:0 0 6px;font-size:1.2rem;color:#fff;line-height:1.2}.details-grade{font-size:.8rem;letter-spacing:.6px;text-transform:uppercase;margin-bottom:4px}.details-level{font-size:.8rem;color:var(--text-dim)}.details-primary-btn{background:linear-gradient(135deg,#f1c36a,#dba34f);border:none;color:#0f1218;padding:10px 16px;border-radius:10px;font-weight:700;cursor:pointer}.details-primary-btn:disabled{opacity:.6;cursor:not-allowed}.details-passive-line{font-size:.85rem;color:var(--text-dim);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-top:2px}.details-passive-line span{color:var(--accent-strong);font-weight:600;margin-right:6px}.details-skills{display:flex;flex-direction:column;gap:12px}.skills-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}.skill-card{background:#ffffff0a;border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:10px;text-align:left;cursor:pointer;display:flex;flex-direction:column;gap:6px;transition:border-color .2s ease,background .2s ease;position:relative}.skill-card:hover{border-color:#f1c36a80;background:#ffffff14}.skill-card.active{border-color:#f1c36acc;background:#f1c36a1a}.skill-icon{color:#f1c36a}.skill-name{font-size:.9rem;font-weight:600;color:#fff}.skill-cost{font-size:.75rem;color:var(--text-dim)}.skill-tooltip{position:absolute;left:0;top:calc(100% + 6px);min-width:220px;max-width:260px;background:#080a10f5;border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:10px;font-size:.78rem;color:var(--text-dim);opacity:0;transform:translateY(-4px);pointer-events:none;transition:opacity .2s ease,transform .2s ease;z-index:20}.skill-card:hover .skill-tooltip{opacity:1;transform:translateY(0)}.skill-tooltip-title{font-size:.85rem;color:#f1c36a;margin-bottom:6px;font-weight:600}.skill-tooltip-meta{display:flex;gap:10px;margin-top:6px;font-size:.7rem}.details-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--text-dim);gap:10px;min-height:180px}.character-roster-panel{padding:12px;flex:1;min-height:0;display:flex;flex-direction:column;gap:12px}.squad-panel{display:flex;flex-direction:column;gap:12px}.match-controls{display:flex;flex-direction:column;gap:10px}.match-primary-btn{background:linear-gradient(135deg,#f1c36a,#dba34f);border:none;color:#0f1218;padding:12px 16px;border-radius:12px;font-weight:700;cursor:pointer}.match-primary-btn:disabled{opacity:.6;cursor:not-allowed}.match-secondary-buttons{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}.match-secondary-btn{background:#ffffff0f;border:1px solid rgba(255,255,255,.12);color:#e7eaf0;padding:10px 12px;border-radius:10px;font-size:.8rem;font-weight:600;cursor:pointer}.header-actions{display:flex;gap:12px}.header-squad{display:flex;flex-direction:column;gap:10px;min-width:360px;max-width:520px}.header-squad-title{display:flex;align-items:center;justify-content:space-between;gap:12px}.header-squad-title h2{margin:0;font-size:1.1rem;letter-spacing:.8px;color:#f2d28a;text-transform:uppercase}.team-slots.header-slots{flex-direction:row;gap:12px;flex:0 0 auto;min-height:0;overflow-x:auto;overflow-y:hidden;padding-bottom:4px}.team-slots.header-slots::-webkit-scrollbar{height:6px}.team-slots.header-slots::-webkit-scrollbar-thumb{background:#ffffff24;border-radius:999px}.team-slot.compact{min-height:88px;width:180px;padding:12px;grid-template-columns:56px 1fr;gap:10px}.team-slot.compact .slot-portrait{width:56px;height:56px}.team-slot.compact .slot-info{display:flex;flex-direction:column;gap:4px;align-items:flex-start}.team-slot.compact .slot-name{font-size:.9rem}.team-slot.compact .slot-level,.team-slot.compact .slot-rarity{font-size:.75rem}.team-slot.compact .slot-remove{width:22px;height:22px;font-size:.75rem}.team-slot.compact .empty-icon{font-size:1.6rem;margin-bottom:4px}.team-slot.compact .empty-text{font-size:.75rem}.header-squad .team-ready-indicator{align-self:flex-end;font-size:.8rem}.header-btn{background:#ffffff0f;border:1px solid rgba(255,255,255,.12);color:#e7eaf0;padding:10px 20px;border-radius:12px;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.header-btn.primary{background:linear-gradient(135deg,#f1c36a,#dba34f);border:none;color:#0f1218}.header-btn:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff1a;transform:translate(-50%,-50%);transition:width .6s,height .6s}.header-btn:hover:before{width:300px;height:300px}.header-btn:hover{transform:translateY(-2px);border-color:#ffffff40;box-shadow:0 4px 12px #0000004d}.header-btn:disabled{opacity:.4;cursor:not-allowed;transform:none}.header-btn.ghost{border-style:dashed;color:var(--accent-strong);background:#f1c36a0d}.team-select-main{display:grid;grid-template-columns:minmax(520px,1.6fr) minmax(280px,.9fr);gap:20px;padding:24px;flex:1;min-height:0;overflow:visible;align-items:stretch}.roster-column{display:flex;flex-direction:column;min-height:0;overflow:auto;gap:16px}.roster-section{background:#0c1018b3;border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:20px;display:flex;flex-direction:column;height:100%;min-height:0;overflow:hidden;flex:1 1 auto}.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-header h2{font-size:1.3rem;color:#fff;font-weight:700;letter-spacing:.5px;margin:0}.selection-count{font-size:.9rem;color:var(--accent-strong);font-weight:600;background:#f1c36a1a;padding:4px 12px;border-radius:20px;border:1px solid rgba(241,195,106,.3)}.roster-search-bar{position:relative;margin-bottom:16px}.search-icon{position:absolute;left:12px;top:50%;transform:translateY(-50%);font-size:1rem;opacity:.6}.search-input{width:100%;padding:12px 12px 12px 40px;background:#0006;border:1px solid rgba(255,255,255,.12);border-radius:12px;color:#e7eaf0;font-size:.9rem;transition:all .25s ease}.search-input::placeholder{color:#fff6}.search-input:focus{outline:none;border-color:#f1c36a99;box-shadow:0 0 0 3px #f1c36a1a;background:#0009}.roster-grid-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(88px,1fr));grid-auto-rows:118px;align-content:start;gap:12px;overflow-y:auto;padding-right:6px;flex:1;min-height:0}.roster-grid-container::-webkit-scrollbar{width:6px}.roster-grid-container::-webkit-scrollbar-track{background:#0003;border-radius:10px}.roster-grid-container::-webkit-scrollbar-thumb{background:#ffffff26;border-radius:10px;transition:background .2s}.roster-grid-container::-webkit-scrollbar-thumb:hover{background:#ffffff40}.roster-character-card{background:#0f131ccc;border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:6px;cursor:pointer;transition:border-color .2s ease,background .2s ease;position:relative;display:flex;flex-direction:column;align-items:center;gap:6px;height:118px;overflow:hidden}.roster-character-card:hover{border-color:#f1c36a80;background:#161a24e6}.roster-character-card.is-focused{border-color:#f1c36ae6}.roster-character-card.is-selected{border-color:#62c189cc;background:#62c1891f}.roster-character-card.is-selected .card-selected-badge{display:flex}.card-selected-badge{display:none;position:absolute;top:6px;right:6px;background:linear-gradient(135deg,#62c189,#4fa973);color:#fff;width:22px;height:22px;border-radius:50%;align-items:center;justify-content:center;font-size:.7rem;font-weight:700;box-shadow:0 2px 8px #62c18966;z-index:2}.roster-character-card.rarity-ur:hover{box-shadow:0 8px 24px #ff6b6b66,0 0 20px #feca574d}.roster-character-card.rarity-ssr:hover{box-shadow:0 8px 24px #9b59b666}.roster-character-card.rarity-sr:hover{box-shadow:0 8px 24px #3498db66}.roster-character-card.rarity-r:hover{box-shadow:0 8px 24px #95a5a64d}.card-portrait{width:100%;aspect-ratio:1;display:flex;align-items:center;justify-content:center}.card-info{text-align:center;width:100%}.card-name{font-size:.8rem;font-weight:600;color:#fff;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card-rarity{font-size:.7rem;font-weight:700;letter-spacing:.5px;margin-bottom:2px}.card-level{font-size:.7rem;color:var(--text-dim);font-weight:500}.team-column{display:flex;flex-direction:column;min-height:0;overflow:visible}.team-section{background:#0c1018b3;border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:20px;display:flex;flex-direction:column;flex:0 0 auto;gap:16px;min-height:0;overflow:auto}.clear-btn{background:#dc505033;border:1px solid rgba(220,80,80,.4);color:#f09999;padding:6px 14px;border-radius:10px;font-size:.8rem;font-weight:600;cursor:pointer;transition:all .2s ease}.clear-btn:hover{background:#dc50504d;border-color:#dc505099;transform:translateY(-1px)}.team-slots{display:flex;flex-direction:column;gap:14px;flex:1;min-height:0;overflow:auto}.team-slot{background:#0000004d;border:2px dashed rgba(255,255,255,.15);border-radius:14px;padding:10px;min-height:90px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative}.team-slot.empty:hover{border-color:#ffffff4d;background:#ffffff05}.team-slot.filled{background:#ffffff0f;border:1px solid rgba(255,255,255,.15);padding:10px;display:grid;grid-template-columns:60px 1fr;grid-template-rows:auto auto;gap:10px;align-items:start;justify-content:start}.team-slot.filled:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0006}.team-slot.drag-over{border-color:var(--accent-strong);background:#f1c36a1a;box-shadow:0 0 0 3px #f1c36a33}.team-slot.filled.rarity-ur{border-color:#ff6b6b80;box-shadow:inset 0 0 20px #ff6b6b14}.team-slot.filled.rarity-ssr{border-color:#9b59b680;box-shadow:inset 0 0 20px #9b59b614}.team-slot.filled.rarity-sr{border-color:#3498db80;box-shadow:inset 0 0 20px #3498db14}.team-slot.filled.rarity-r{border-color:#95a5a666}.slot-remove{position:absolute;top:8px;right:8px;background:#dc5050e6;border:none;color:#fff;width:28px;height:28px;border-radius:50%;cursor:pointer;font-size:.9rem;font-weight:700;display:flex;align-items:center;justify-content:center;transition:all .2s ease;z-index:10}.slot-remove:hover{background:#dc5050;transform:scale(1.1)}.slot-portrait{grid-row:1 / 3;width:56px;height:56px}.slot-info{display:flex;flex-direction:column;gap:4px}.slot-name{font-size:1rem;font-weight:700;color:#fff;letter-spacing:.3px}.slot-rarity{font-size:.75rem;font-weight:700;letter-spacing:.5px}.slot-level{font-size:.75rem;color:var(--text-dim)}.slot-abilities{display:flex;gap:6px;align-items:center;grid-column:2}.ability-mini{width:28px;height:28px;background:#f1c36a26;border:1px solid rgba(241,195,106,.3);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:.8rem;cursor:help;transition:all .2s ease}.ability-mini:hover{background:#f1c36a40;transform:scale(1.15)}.ability-mini-icon{opacity:.8}.slot-empty-state{text-align:center;color:var(--text-dim)}.empty-icon{font-size:2.5rem;opacity:.3;margin-bottom:8px}.empty-text{font-size:.9rem;font-weight:600;margin-bottom:4px}.empty-hint{font-size:.75rem;opacity:.6}.team-ready-indicator{background:#ffffff0a;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:12px 16px;text-align:center;color:var(--text-dim);font-size:.85rem;font-weight:600;transition:all .3s ease}.team-ready-indicator.ready{background:linear-gradient(135deg,#62c18933,#62c1891a);border-color:#62c18980;color:#b7f0cb;display:flex;align-items:center;justify-content:center;gap:8px;animation:ready-pulse 2s ease-in-out infinite}.ready-icon{font-size:1.2rem}.battle-start-btn{background:linear-gradient(135deg,#f1c36a,#dba34f);border:none;color:#0f1218;padding:16px 24px;border-radius:14px;font-size:1rem;font-weight:700;letter-spacing:1px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:center;gap:10px;box-shadow:0 6px 20px #f1c36a4d;position:relative;overflow:hidden;margin-top:auto;position:sticky;bottom:0}.battle-start-btn:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff4d;transform:translate(-50%,-50%);transition:width .6s,height .6s}.battle-start-btn:hover:before{width:400px;height:400px}.battle-start-btn:hover{transform:translateY(-3px);box-shadow:0 10px 30px #f1c36a80}.battle-start-btn:active{transform:translateY(-1px)}.battle-start-btn:disabled{background:#ffffff1a;color:#ffffff4d;cursor:not-allowed;transform:none;box-shadow:none}.battle-start-btn:disabled:hover:before{width:0;height:0}.btn-icon{font-size:1.2rem;position:relative;z-index:1}.btn-text{position:relative;z-index:1}.detail-column{display:flex;flex-direction:column;min-height:0;overflow:visible}.detail-section{background:#0c1018b3;border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:20px 20px 28px;display:flex;flex-direction:column;gap:18px;flex:1;min-height:0;overflow-y:auto}.detail-section::-webkit-scrollbar{width:6px}.detail-section::-webkit-scrollbar-track{background:#0003;border-radius:10px}.detail-section::-webkit-scrollbar-thumb{background:#ffffff26;border-radius:10px}.detail-header{display:flex;gap:14px;align-items:flex-start}.detail-portrait-large{width:80px;height:80px;flex-shrink:0}.detail-header-info{flex:1;display:flex;flex-direction:column;gap:6px}.detail-character-name{font-size:1.3rem;font-weight:800;color:#fff;margin:0;letter-spacing:.5px}.detail-rarity{font-size:.85rem;font-weight:700;letter-spacing:.5px}.detail-level-bar{display:flex;flex-direction:column;gap:6px;font-size:.8rem;color:var(--text-dim)}.level-xp-bar{height:6px;background:#ffffff1a;border-radius:999px;overflow:hidden}.level-xp-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6);transition:width .3s ease}.xp-text{font-size:.7rem;opacity:.8}.detail-passive-section{background:#f1c36a14;border:1px solid rgba(241,195,106,.25);border-radius:12px;padding:14px}.passive-label{font-size:.7rem;text-transform:uppercase;letter-spacing:1px;color:var(--accent-strong);font-weight:700;margin-bottom:6px}.passive-name{font-size:.95rem;font-weight:700;color:#fff;margin-bottom:6px}.passive-desc{font-size:.8rem;color:var(--text-dim);line-height:1.5}.detail-techniques-section{display:flex;flex-direction:column;gap:10px}.techniques-label{font-size:.7rem;text-transform:uppercase;letter-spacing:1px;color:var(--text-dim);font-weight:700}.techniques-list{display:flex;flex-direction:column;gap:10px}.technique-card{background:#ffffff0a;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:12px;transition:all .2s ease}.technique-card:hover{background:#ffffff14;border-color:#fff3;transform:translate(4px)}.technique-card.ultimate-card{background:#f1c36a14;border-color:#f1c36a66}.technique-card.ultimate-card:hover{background:#f1c36a1f;border-color:#f1c36a99}.technique-header{display:flex;align-items:center;gap:8px;margin-bottom:8px}.technique-icon{font-size:1rem;opacity:.8}.technique-icon.ultimate{color:var(--accent-strong);font-size:1.1rem}.technique-name{font-size:.9rem;font-weight:700;color:#fff}.technique-desc{font-size:.75rem;color:var(--text-dim);line-height:1.5;margin-bottom:10px}.technique-stats{display:flex;gap:14px;font-size:.7rem;color:var(--text-dim)}.detail-action-btn{background:linear-gradient(135deg,#62c189,#4fa973);border:none;color:#fff;padding:12px 20px;border-radius:12px;font-size:.9rem;font-weight:700;cursor:pointer;transition:all .25s ease;width:100%;box-shadow:0 4px 12px #62c1894d}.detail-action-btn:hover{transform:translateY(-2px);box-shadow:0 6px 16px #62c18966}.detail-action-btn:disabled{background:#ffffff1a;color:#ffffff4d;cursor:not-allowed;transform:none;box-shadow:none}.detail-empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--text-dim);text-align:center;gap:12px}.empty-state-icon{font-size:3rem;opacity:.2}.empty-state-text{font-size:.9rem;opacity:.6}.presets-modal-overlay{position:fixed;inset:0;background:#000000b3;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:fadeIn .2s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.presets-modal{background:#0c1018f2;border:1px solid rgba(255,255,255,.15);border-radius:20px;padding:28px;max-width:500px;width:90%;box-shadow:0 20px 60px #0009;animation:slideUp .3s cubic-bezier(.4,0,.2,1)}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.modal-header h3{font-size:1.5rem;font-weight:800;color:#fff;letter-spacing:.5px;margin:0}.modal-close{background:#dc505033;border:1px solid rgba(220,80,80,.4);color:#f09999;width:36px;height:36px;border-radius:50%;cursor:pointer;font-size:1.2rem;font-weight:700;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.modal-close:hover{background:#dc50504d;transform:rotate(90deg)}.preset-cards{display:flex;flex-direction:column;gap:14px}.preset-card-modal{background:#ffffff0a;border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:16px;transition:all .2s ease}.preset-card-modal:hover{background:#ffffff0f;border-color:#fff3}.preset-card-header{display:flex;gap:12px;align-items:center;margin-bottom:12px}.preset-number{background:#f1c36a33;border:1px solid rgba(241,195,106,.4);color:var(--accent-strong);padding:4px 10px;border-radius:8px;font-size:.8rem;font-weight:700}.preset-name{font-size:1rem;font-weight:600;color:#fff}.preset-card-actions{display:flex;gap:10px}.preset-action-btn{flex:1;background:#ffffff0f;border:1px solid rgba(255,255,255,.15);color:#e7eaf0;padding:10px 16px;border-radius:10px;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s ease}.preset-action-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}.preset-action-btn.save{background:#62c18926;border-color:#62c18966;color:#b7f0cb}.preset-action-btn.save:hover:not(:disabled){background:#62c18940;border-color:#62c18999}.preset-action-btn.load{background:#3498db26;border-color:#3498db66;color:#95d8f7}.preset-action-btn.load:hover:not(:disabled){background:#3498db40;border-color:#3498db99}.preset-action-btn:disabled{opacity:.3;cursor:not-allowed}@media(max-width:1400px){.team-select-grid{grid-template-columns:1fr 320px}.roster-grid-container{grid-template-columns:repeat(auto-fill,minmax(84px,1fr))}}@media(max-width:1200px){.team-select-grid{grid-template-columns:1fr}.team-right-column{flex-direction:row;flex-wrap:wrap}.squad-panel,.match-controls{flex:1 1 320px}}@media(max-width:768px){.team-select-grid{padding:16px}.roster-grid-container{grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:10px}}.detail-header{display:grid;grid-template-columns:120px 1fr auto;gap:16px;align-items:center}.detail-info h2{margin-bottom:6px;font-size:1.4rem;color:#fff}.detail-meta{display:flex;gap:12px;font-size:.8rem;color:var(--text-dim);margin-bottom:10px}.detail-xp{height:6px;border-radius:999px;background:#ffffff1f;overflow:hidden;margin-bottom:10px}.detail-xp-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6)}.detail-passive{color:var(--accent);font-size:.85rem;margin-bottom:4px}.detail-passive-desc{color:var(--text-dim);font-size:.75rem;line-height:1.4}.detail-actions{display:flex;justify-content:flex-end}.detail-abilities{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-top:16px}.detail-ability-card{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:10px 12px}.detail-ability-card.ultimate{border-color:#f1c36a99;box-shadow:inset 0 0 14px #f1c36a1f}.detail-ability-name{font-size:.85rem;color:#fff;margin-bottom:6px}.detail-ability-desc{color:var(--text-dim);font-size:.75rem;line-height:1.4;margin-bottom:6px}.detail-ability-meta{display:flex;justify-content:space-between;font-size:.7rem;color:var(--text-dim)}.team-select-title{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;color:var(--text-dim)}.roster-hint{font-size:.75rem;color:var(--text-dim);margin-bottom:8px}.team-select-title h2{color:#fff;font-size:1.4rem;letter-spacing:1px}.team-select-roster .character-roster{max-width:none}.roster-search{max-width:320px}.roster-search input{width:100%;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:#0006;color:#e7eaf0}.roster-search input:focus{outline:none;border-color:#f1c36a99;box-shadow:0 0 12px #f1c36a33}.roster-grid{grid-template-columns:repeat(auto-fill,minmax(84px,1fr));margin-bottom:0;flex:1;min-height:0;max-height:none;overflow:auto;padding-right:6px;height:100%}.roster-panel{display:flex;flex-direction:column;gap:12px;flex:1;min-height:0}.roster-header{display:flex;justify-content:space-between;align-items:center;color:var(--text-dim)}.roster-header h2{color:#fff;font-size:1.4rem;letter-spacing:1px}.roster-and-team{display:grid;grid-template-columns:1.4fr .6fr;gap:16px;align-items:start}.roster-list{display:flex;flex-direction:column;gap:10px}.roster-side{display:flex;flex-direction:column;gap:12px}.detail-panel-compact{background:#0c1018e6;border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:12px;display:flex;flex-direction:column;gap:10px;max-height:260px;overflow:auto}.detail-panel-compact .detail-panel-header{display:flex;gap:10px;align-items:center}.detail-panel-compact .detail-panel-name{font-size:1rem;font-weight:700;color:#fff}.detail-panel-compact .detail-panel-meta{color:var(--text-dim);font-size:.75rem}.detail-panel-compact .detail-panel-xp{color:var(--text-dim);font-size:.7rem}.detail-panel-compact .detail-panel-passive{font-size:.75rem;color:var(--accent)}.detail-panel-compact .detail-panel-abilities{display:grid;gap:6px}.detail-panel-compact .detail-panel-ability{display:flex;justify-content:space-between;font-size:.72rem;color:var(--text-dim);background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:8px;padding:6px 8px}.detail-panel-compact .detail-panel-ability.ultimate{border-color:#f1c36a80;color:var(--accent-strong)}.detail-panel-compact .detail-panel-btn{width:100%;justify-content:center}.roster-card.compact{flex-direction:column;align-items:center;gap:4px;padding:8px 6px;text-align:center;min-height:90px}.roster-mini-name{font-size:.74rem;color:#fff;font-weight:600}.roster-team-box{height:fit-content;margin-top:6px;align-self:start}.roster-grid::-webkit-scrollbar{width:6px}.roster-grid::-webkit-scrollbar-thumb{background:#ffffff26;border-radius:999px}.team-select-sidebar{display:flex;flex-direction:column;gap:18px}.team-select-panel{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:18px;box-shadow:0 14px 30px #0006}.roster-layout{display:grid;grid-template-columns:minmax(0,1fr) minmax(220px,.45fr);gap:16px;align-items:start;min-height:0;flex:1}.team-select-inline{margin-bottom:16px}.war-room{position:relative;overflow:hidden;background:linear-gradient(160deg,#0e121cf2,#080a0ef2);border:1px solid rgba(241,195,106,.2)}.war-room:before{content:"";position:absolute;inset:0;background:linear-gradient(90deg,rgba(255,255,255,.04) 1px,transparent 1px) 0 0 / 24px 24px,linear-gradient(0deg,rgba(255,255,255,.03) 1px,transparent 1px) 0 0 / 24px 24px;opacity:.35;pointer-events:none}.war-room>*{position:relative;z-index:1}.team-select-split{display:grid;grid-template-columns:1.2fr .8fr;gap:18px;align-items:start;min-height:0;flex:1;height:100%}.team-select-roster-panel{min-height:0;display:flex;flex-direction:column;flex:1;overflow:hidden;height:100%}.team-select-team-panel{overflow-y:auto;padding-right:4px}.team-select-team-panel{display:flex;flex-direction:column;gap:14px}.team-select-panel h3{color:#fff;margin-bottom:14px}.ready-state{margin-top:14px;padding:12px 16px;border-radius:14px;background:#ffffff0f;border:1px solid rgba(255,255,255,.1);color:var(--text-dim);font-size:.9rem;font-weight:600;text-align:center;transition:all .3s ease}.ready-state.ready{background:linear-gradient(135deg,#62c18940,#62c18926);border-color:#62c18980;color:#b7f0cb;animation:ready-pulse 2s ease-in-out infinite}@keyframes ready-pulse{0%,to{box-shadow:0 0 #62c18900}50%{box-shadow:0 0 20px #62c1894d}}.team-select-tips{background:#080a0ecc;border:1px solid var(--line);border-radius:16px;padding:16px;color:var(--text-dim)}.team-select-tips h4{color:var(--accent);margin-bottom:8px}.team-select-tips ul{list-style:none;display:flex;flex-direction:column;gap:8px}.team-select-tips li:before{content:"";color:var(--accent);margin-right:6px}.preset-grid{display:flex;flex-direction:column;gap:10px}.preset-card{display:flex;justify-content:space-between;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.12)}.preset-name{font-size:.85rem;color:#fff}.preset-actions{display:flex;gap:8px}.preset-btn{background:#00000059;border:1px solid rgba(255,255,255,.2);color:#e7eaf0;padding:6px 10px;border-radius:10px;cursor:pointer;font-size:.75rem;transition:transform .15s ease,box-shadow .2s ease}.preset-btn.ghost{color:var(--accent);border-style:dashed}.preset-btn:disabled{opacity:.5;cursor:not-allowed}.preset-btn:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 6px 12px #00000059}.team-select-container h1{font-size:2.4rem;color:var(--accent-strong);letter-spacing:4px;margin-bottom:10px}.team-select-container h2{color:var(--accent);margin-bottom:5px}.select-instructions{color:var(--text-dim);margin-bottom:20px}.selected-preview{display:flex;gap:15px;margin-bottom:12px}.war-room .selected-preview{padding:10px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.08)}.preview-slot{width:120px;height:120px;border:2px dashed rgba(255,255,255,.25);border-radius:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;transition:all .25s cubic-bezier(.4,0,.2,1);padding:10px;position:relative;background:#0003;cursor:pointer}.preview-slot:hover{border-color:#fff6;background:#0000004d}.preview-slot.filled{border:2px solid rgba(215,179,106,.7);background:linear-gradient(135deg,#d7b36a1f,#d7b36a0d);cursor:pointer}.preview-slot.filled:hover{transform:scale(1.05);box-shadow:0 8px 24px #d7b36a4d}.preview-slot.drag-over{border-color:#f1c36ae6;border-style:solid;box-shadow:0 0 20px #f1c36a66;background:#f1c36a26;transform:scale(1.05)}.preview-slot.filled.rarity-ur{border-color:#f6d08acc;box-shadow:0 0 20px #f6d08a66}.preview-slot.filled.rarity-ssr{border-color:#58c1d8b3;box-shadow:0 0 18px #58c1d859}.preview-slot.filled.rarity-sr{border-color:#6c7d9199;box-shadow:0 0 14px #6c7d914d}.preview-name{font-weight:700;font-size:1rem}.preview-rarity{padding:2px 8px;border-radius:4px;font-size:.7rem;font-weight:700;color:#fff}.preview-empty{color:#a7b0bf99;font-size:.8rem;font-weight:500}.preview-empty-content{display:flex;flex-direction:column;align-items:center;gap:4px}.preview-empty-icon{font-size:2rem;opacity:.4}.character-roster{display:grid;grid-template-columns:repeat(auto-fit,minmax(84px,1fr));gap:15px;max-width:1000px;width:100%;margin-bottom:30px}.roster-card{background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:6px;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.roster-card:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.05),transparent);opacity:0;transition:opacity .25s ease;pointer-events:none}.roster-card:hover:before{opacity:1}.roster-card:hover{background:var(--panel-strong);transform:translateY(-4px) scale(1.02);box-shadow:0 12px 32px #0006}.roster-card.selected{border-color:#62c189cc;background:#62c1891a;box-shadow:0 0 20px #62c1894d}.roster-card.selected:after{content:"";position:absolute;inset:0;border-radius:14px;border:2px solid rgba(98,193,137,.4);pointer-events:none}.roster-card.rarity-ur{border-color:#f6d08a99;box-shadow:0 0 18px #f6d08a26}.roster-card.rarity-ssr{border-color:#58c1d880;box-shadow:0 0 14px #58c1d81f}.roster-card.rarity-sr{border-color:#6c7d9180}.roster-card.rarity-ur:hover{box-shadow:0 12px 36px #f6d08a59;border-color:#f6d08acc}.roster-card.rarity-ssr:hover{box-shadow:0 12px 32px #58c1d84d;border-color:#58c1d8b3}.roster-card.focused{border-color:#f1c36acc;box-shadow:0 0 20px #f1c36a4d;transform:scale(1.03)}.roster-card h3{margin:25px 0 10px;font-size:1.2rem}.roster-rarity{position:absolute;top:10px;right:10px;padding:2px 8px;border-radius:4px;font-size:.7rem;font-weight:700;color:#fff}.roster-stats{display:flex;gap:15px;margin-bottom:10px;font-size:.9rem}.roster-passive{color:var(--accent);font-size:.85rem;margin-bottom:4px}.roster-passive-desc{color:var(--text-dim);font-size:.75rem}.selected-checkmark{position:absolute;top:8px;left:8px;width:28px;height:28px;background:linear-gradient(135deg,#62c189,#3f9d73);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem;color:#fff;box-shadow:0 4px 12px #62c18980;z-index:10;animation:checkmark-pop .3s cubic-bezier(.68,-.55,.265,1.55)}@keyframes checkmark-pop{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}button{font-family:inherit;-webkit-user-select:none;user-select:none}button:not(:disabled){cursor:pointer}button:disabled{cursor:not-allowed}.loading-spinner{display:inline-block;width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:var(--accent);border-radius:50%;animation:spinner-rotate .8s linear infinite}@keyframes spinner-rotate{to{transform:rotate(360deg)}}.start-battle-btn{background:linear-gradient(135deg,#62c189,#3f9d73);color:#fff;border:none;padding:16px 32px;font-size:1.1rem;font-weight:800;letter-spacing:1px;text-transform:uppercase;border-radius:14px;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1);width:100%;box-shadow:0 6px 20px #62c1894d;position:relative;overflow:hidden}.start-battle-btn:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#fff3;transform:translate(-50%,-50%);transition:width .6s,height .6s}.start-battle-btn:hover:not(:disabled):before{width:400px;height:400px}.start-battle-btn:hover:not(:disabled){transform:translateY(-2px) scale(1.02);box-shadow:0 10px 32px #62c18973}.start-battle-btn:disabled{background:#555;cursor:not-allowed;opacity:.7}.story-container{width:100%;max-width:1200px;margin:0 auto;padding:24px;display:flex;flex-direction:column;gap:18px;color:#e7eaf0;min-height:0;height:100%}.story-header{display:flex;justify-content:space-between;align-items:flex-end;gap:16px}.story-header h1{font-size:2.2rem;color:var(--accent-strong);margin-bottom:6px;letter-spacing:3px;text-transform:uppercase}.story-subtitle{color:var(--text-dim);font-size:.9rem}.story-progress{background:#ffffff0f;border:1px solid rgba(255,255,255,.12);padding:10px 14px;border-radius:14px;font-size:.8rem}.story-layout{display:grid;grid-template-columns:minmax(0,.45fr) minmax(0,.55fr);gap:18px;flex:1;min-height:0}.story-map,.story-detail{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:16px;min-height:0;display:flex;flex-direction:column;gap:12px;box-shadow:0 16px 40px #00000059}.story-map-title{font-size:.9rem;letter-spacing:.2em;text-transform:uppercase;color:var(--text-dim)}.story-map-nodes{display:flex;flex-direction:column;gap:10px;overflow:auto;padding-right:4px}.story-node{position:relative;display:grid;grid-template-columns:64px 1fr auto;gap:12px;align-items:center;padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:#ffffff0a;color:#e7eaf0;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.story-node.active{border-color:#f1c36a99;box-shadow:0 0 20px #f1c36a26}.story-node.completed{border-color:#62c18980;background:#62c1891f}.story-node.locked{opacity:.45;cursor:not-allowed}.story-node:hover:not(.locked){transform:translateY(-2px);box-shadow:0 12px 24px #00000059}.story-node-id{font-weight:700;color:var(--accent-strong)}.story-node-title{font-size:.95rem;font-weight:600}.story-node-type{font-size:.7rem;text-transform:uppercase;letter-spacing:.08em;color:var(--text-dim)}.story-node-type.battle{color:#e07a7a}.story-node-link{position:absolute;left:30px;top:calc(100% - 4px);height:12px;width:2px;background:#fff3}.story-detail-header{display:flex;justify-content:space-between;align-items:flex-start;gap:16px}.story-detail-header h2{margin:0 0 4px;font-size:1.4rem}.story-location{color:var(--text-dim);font-size:.85rem}.story-status{padding:6px 12px;border-radius:999px;font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;background:#ffffff0f}.story-status.completed{background:#62c18933;color:#b7f0cb}.story-status.available{background:#f1c36a2e;color:#f6d08a}.story-status.locked{background:#ffffff0f;color:var(--text-dim)}.story-scroll{display:flex;flex-direction:column;gap:16px;overflow:auto;padding-right:6px;min-height:0;flex:1}.story-scene{display:flex;flex-direction:column;gap:10px}.story-line{display:grid;grid-template-columns:140px 1fr;gap:12px;font-size:.9rem}.story-speaker{color:var(--accent);font-weight:600}.story-text{color:#d4d8e0;line-height:1.4}.story-system{margin-top:12px;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:#0006;font-size:.85rem;color:var(--accent-strong)}.story-battle-info{display:grid;gap:6px;padding:12px;border-radius:12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.12);font-size:.85rem}.story-prompts{display:grid;gap:6px;padding:10px 12px;border-radius:12px;background:#f1c36a14;border:1px solid rgba(241,195,106,.2);font-size:.8rem}.story-outro-title{font-size:.8rem;text-transform:uppercase;letter-spacing:.1em;color:var(--text-dim)}.story-actions{display:flex;justify-content:flex-end}.story-result{padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.2);background:#ffffff0d;display:flex;flex-direction:column;gap:6px}.story-result.win{border-color:#62c18980;background:#62c1891f}.story-result.lose{border-color:#e07a7a80;background:#e07a7a1f}.story-footer{display:grid;grid-template-columns:1fr .8fr;gap:18px}.story-rewards,.story-preview{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:16px;box-shadow:0 12px 30px #00000059}.story-reward-grid{display:grid;gap:10px}.story-reward-card{padding:10px 12px;border-radius:12px;background:#ffffff0f;border:1px solid rgba(255,255,255,.12);font-size:.85rem}.story-preview-line{color:var(--text-dim);font-size:.85rem;margin-bottom:8px}@media(max-width:960px){.story-layout,.story-footer{grid-template-columns:1fr}}@media(max-width:1200px){.battle-main{grid-template-columns:1fr;align-items:center;overflow-y:auto}.team-container{max-width:100%;width:100%}.character-row,.enemy-side .character-row{flex-direction:row!important}.battle-center{order:-1;width:100%;max-width:400px}.team-container{max-height:none}.portrait-container{min-width:120px}.ability-card{width:76px;height:94px}.portrait-hp-bar,.portrait-mana-bar{width:110px}}.portrait-image-container{width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;border-radius:7px}.portrait-image-container.portrait-small{width:50px;height:50px}.portrait-img{width:100%;height:100%;object-fit:cover}.portrait-placeholder{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(255,255,255,.08) 0%,transparent 50%),linear-gradient(135deg,#253041,#1a2230)}.portrait-initial{font-size:1.8rem;font-weight:700;color:#ffffffd9;text-shadow:2px 2px 4px rgba(0,0,0,.5);line-height:1}.portrait-name-small{font-size:.6rem;color:#fff9;text-transform:lowercase;margin-top:2px}.ability-icon-container{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative}.ability-icon-container.ultimate{background:linear-gradient(135deg,rgba(215,179,106,.18),transparent)}.ability-img{width:100%;height:100%;object-fit:cover;border-radius:4px}.ability-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(255,255,255,.08),transparent)}.ability-initial{font-size:.85rem;font-weight:700;color:#ffffffd9;text-transform:uppercase}.ultimate-star{position:absolute;top:2px;right:2px;font-size:.6rem;color:var(--accent);text-shadow:0 0 5px rgba(215,179,106,.6)}.select-portrait{width:80px;height:80px;border-radius:10px;overflow:hidden;background:linear-gradient(135deg,#253041,#1a2230)}.select-portrait.small{width:44px;height:44px;border-radius:8px}.select-portrait.mini{width:40px;height:40px;border-radius:8px}.select-portrait-img{width:100%;height:100%;object-fit:cover}.select-portrait-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(255,255,255,.08),transparent),linear-gradient(135deg,#253041,#1a2230)}.select-portrait-initial{font-size:2rem;font-weight:700;color:#ffffffd9;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.select-portrait.small .select-portrait-initial{font-size:1.2rem}.select-portrait.mini .select-portrait-initial{font-size:.95rem}.roster-card{background:var(--panel);border:1px solid var(--line);border-radius:12px;padding:15px;cursor:pointer;transition:all .2s ease;display:flex;gap:15px;align-items:flex-start;position:relative;overflow:hidden}.roster-card:hover{background:var(--panel-strong);transform:translateY(-3px);box-shadow:0 10px 30px #0000004d}.roster-card:after{content:"";position:absolute;inset:0;background:linear-gradient(120deg,transparent 20%,rgba(255,255,255,.1) 45%,transparent 70%);transform:translate(-120%);transition:transform .6s ease;pointer-events:none}.roster-card:hover:after{transform:translate(120%)}.roster-card.selected{border-color:#62c189cc;background:#62c1891f}.roster-portrait-container{position:relative;flex-shrink:0}.roster-portrait-container .roster-rarity{position:absolute;top:-5px;right:-5px;padding:2px 6px;border-radius:4px;font-size:.6rem;font-weight:700;color:#fff}.roster-portrait-container .selected-checkmark{position:absolute;top:-5px;left:-5px;width:22px;height:22px;background:#62c189;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.8rem;color:#fff;box-shadow:0 2px 8px #62c18980}.roster-info{flex:1}.roster-info h3{margin:0 0 8px;font-size:1.1rem}.roster-xp{display:flex;flex-direction:column;gap:4px;margin-bottom:8px;font-size:.7rem;color:var(--text-dim)}.roster-xp-bar{height:6px;background:#ffffff1f;border-radius:999px;overflow:hidden}.roster-xp-fill{height:100%;background:linear-gradient(90deg,#f1c36ae6,#62c189e6)}.roster-stats{display:flex;gap:12px;margin-bottom:8px;font-size:.85rem}.roster-passive{color:var(--accent);font-size:.8rem;margin-bottom:3px}.roster-passive-desc{color:var(--text-dim);font-size:.7rem;line-height:1.3}.preview-slot{width:130px;height:100px;border:1px dashed rgba(255,255,255,.25);border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:5px;transition:all .2s ease;padding:10px}.preview-slot.drag-over{border-color:#f1c36acc;box-shadow:0 0 16px #f1c36a4d}.preview-slot.filled{border:1px solid rgba(215,179,106,.7);background:#d7b36a14;border-style:solid}.preview-empty-content{display:flex;flex-direction:column;align-items:center;gap:5px}.preview-empty-icon{font-size:1.5rem;color:#767f8f}.preview-empty{color:#767f8f;font-size:.8rem;font-style:italic}.preview-name{font-weight:700;font-size:.85rem;margin-top:3px}.preview-rarity{padding:2px 8px;border-radius:4px;font-size:.65rem;font-weight:700;color:#fff}.character-roster{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:15px;max-width:1200px;width:100%;margin-bottom:30px}.inventory-grid{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.inventory-card{display:flex;gap:16px;align-items:center;padding:16px;background:#0c0f16d9;border:1px solid rgba(255,255,255,.08);border-radius:14px;box-shadow:0 10px 20px #00000059;transition:transform .2s ease,box-shadow .2s ease}.inventory-card:hover{transform:translateY(-2px);box-shadow:0 14px 26px #0006}.inventory-portrait{width:72px;height:72px;border-radius:12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.12);display:flex;align-items:center;justify-content:center;overflow:hidden}.inventory-portrait img{width:100%;height:100%;object-fit:cover}.inventory-info{display:flex;flex-direction:column;gap:8px;flex:1}.inventory-info h4{font-size:1rem;letter-spacing:.5px}.inventory-stats{display:flex;gap:12px;font-size:.85rem;color:var(--text-dim)}.inventory-shards{font-size:.85rem;color:var(--accent-strong)}*{margin:0;padding:0;box-sizing:border-box}html{scroll-behavior:smooth}body{font-family:Inter,Avenir Next,Segoe UI,-apple-system,BlinkMacSystemFont,sans-serif;background:radial-gradient(circle at top,#141823,#0a0c12 60%);min-height:100vh;color:#e7eaf0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#root{min-height:100vh}
